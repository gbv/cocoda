(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"15a9":function(e,t,i){},1757:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isValidURL(e.link)?i("a",{staticClass:"u-textBreak",attrs:{href:e.link,target:"_blank"}},[e._v(e._s(e.text||e.link))]):i("span",[e._v(e._s(e.text||e.link))])},s=[],a={name:"AutoLink",props:{link:{type:String,default:""},text:{type:String,default:null}},methods:{isValidURL(e){try{return new URL(e),!0}catch(t){return!1}}}},o=a,r=i("2877"),l=Object(r["a"])(o,n,s,!1,null,null,null);t["a"]=l.exports},1794:function(e,t,i){},"193e":function(e,t,i){"use strict";t["a"]={computed:{mousePosition(){return this.$store.state.mousePosition}},watch:{mousePosition({x:e,y:t}){this.handleMousePositionChange(e,t)}},methods:{isMouseInsideElement(e,{delta:t,x:i,y:n}={}){if(t=t||0,i=i||this.mousePosition.x,n=n||this.mousePosition.y,e){let{top:s,bottom:a,left:o,right:r}=e.getBoundingClientRect();if(n<a+t&&n>s-t&&i<r+t&&i>o-t)return!0}return!1},handleMousePositionChange(e,t){for(let i of this.hoverHandlers()){let n=!1,s=i.delta||0;for(let a of i.elements)this.isMouseInsideElement(a,{delta:s,x:e,y:t})&&(n=!0);i.handler(n,i)}},hoverHandlers(){return[]}}}},"1b56":function(e,t,i){},"1e2d":function(e,t,i){},"1e4f":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"componentSettings"},[i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.tooltip,delay:e.defaults.delay.medium},expression:"{ title: tooltip, delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{id:"componentSettings-icon-"+e.id,icon:"cog"}}),i("b-popover",{attrs:{show:e.isShown,target:"componentSettings-icon-"+e.id,triggers:"click",placement:"bottomright"},on:{"update:show":function(t){e.isShown=t}}},[i("div",{ref:"popover"},[e._t("default",(function(){return[e._l(e.settings,(function(t){return["Boolean"==t.type?i("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.languageMapContent(t,"definition"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.languageMapContent(setting, 'definition'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],key:"componentSettings-"+t.key+"-"+e.isLeft,staticStyle:{"user-select":"none"},model:{value:e.settingsValues[t.key],callback:function(i){e.$set(e.settingsValues,t.key,i)},expression:"settingsValues[setting.key]"}},[e._v(" "+e._s(e.$jskos.prefLabel(t))+" ")]):"Number"==t.type?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.languageMapContent(t,"definition"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.languageMapContent(setting, 'definition'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],key:"componentSettings-"+t.key+"-"+e.isLeft},[e._v(" "+e._s(e.$jskos.prefLabel(t))+" "),i("b-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{type:"number",min:t.min,max:t.max,size:"sm"},on:{click:function(e){return e.target.select()}},model:{value:e.settingsValues[t.key],callback:function(i){e.$set(e.settingsValues,t.key,i)},expression:"settingsValues[setting.key]"}})],1):i("p",{key:"componentSettings-"+t.key+"-"+e.isLeft,class:t.class},[e._v(" "+e._s(e.$jskos.prefLabel(t))+" ")])]}))]}))],2)])],1)},s=[],a=i("2ef0"),o=i.n(a),r=i("5635"),l=i("564d"),c={name:"ComponentSettings",mixins:[r["a"],l["a"]],props:{tooltip:{type:String,default:""}},data(){return{id:"",isShown:!1,parentName:this.$parent.$options.name,isLeft:this.$parent.isLeft}},computed:{settings(){let e=[],t=this.$store.state.settings.componentSettings[this.parentName]||{};for(let i of Object.keys(t))e.push(Object.assign({key:i},t[i]));return e},settingsValues(){let e={};for(let t of Object.keys(this.$store.state.settings.componentSettings[this.parentName])){const i=this.$store.state.settings.componentSettings[this.parentName][t].sideDependent,n=i?this.isLeft:void 0,s=this.$store.state.settings.componentSettings[this.parentName][t].type,a=this.$store.state.settings.componentSettings[this.parentName][t].default,r=this.$store.state.settings.componentSettings[this.parentName][t].min,l=this.$store.state.settings.componentSettings[this.parentName][t].max;Object.defineProperty(e,t,{get:()=>i?this.$settings.components[this.parentName][t][n]:this.$settings.components[this.parentName][t],set:e=>{"Boolean"!=s||o.a.isBoolean(e)||(e=!!e),"Number"!=s||o.a.isNumber(e)||(e=parseInt(e),(isNaN(e)||e<r||e>l)&&(this.$log.warn(`Tried to save invalid value for setting ${this.parentName} -> ${t}, fallback to default value (${a}).`),e=a)),this.$store.commit({type:"settings/setComponentSetting",component:this.parentName,setting:t,isLeft:n,value:e})}})}return e}},created(){this.id=this.generateID()},methods:{clickHandlers(){return[{elements:[this.$refs.popover,document.getElementById("componentSettings-icon-"+this.id)],handler:()=>{this.hide()}}]},show(){this.isShown=!0},hide(){this.isShown=!1},toggle(){this.isShown=!this.isShown}}},p=c,d=(i("fb8a"),i("2877")),h=Object(d["a"])(p,n,s,!1,null,"43af7e2c",null);t["a"]=h.exports},"1f25":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"annotationList"},e._l(e.annotations,(function(t,n){return i("div",{key:t.uri},[i("div",{staticClass:"fontSize-normal fontWeight-heavy",class:{"text-success":"+1"===t.bodyValue,"text-danger":"-1"===t.bodyValue}},["moderating"==t.motivation?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.$t("mappingBrowser.mappingConfirmedTooltip"),expression:"$t('mappingBrowser.mappingConfirmedTooltip')",modifiers:{hover:!0}}]},[i("font-awesome-icon",{staticClass:"text-success",attrs:{icon:"check"}})],1):i("span",[e._v(" "+e._s(t.bodyValue)+" ")])]),i("div",{staticClass:"fontSize-verySmall"},[e._v(" "+e._s(e.dateToString(t.created,!0))),i("br"),i("auto-link",{class:{"fontWeight-heavy":e.$jskos.annotationCreatorMatches(t,e.userUris)},attrs:{link:e.$jskos.annotationCreatorUri(t),text:e.$jskos.annotationCreatorName(t)}})],1),i("div",[e.canRemove(t)?i("font-awesome-icon",{staticClass:"button button-delete",attrs:{icon:"trash-alt"},on:{click:function(t){return e.remove(n)}}}):e._e()],1)])})),0)},s=[],a=i("1757"),o=i("a189"),r={name:"AnnotationList",components:{AutoLink:a["a"]},mixins:[o["a"]],props:{annotations:{type:Array,default:()=>[]},provider:{type:Object,default:null}},methods:{canRemove(e){return this.$jskos.annotationCreatorMatches(e,this.userUris)},async remove(e){if(!this.provider)return!1;const t=this.annotations[e];let i;this.$emit("loading",!0);try{i=await this.provider.deleteAnnotation({annotation:t})}catch(n){i=!1,this.alert(`${this.$t("alerts.annotationNotRemoved")} ${this.getErrorMessage(n)}`,null,"danger")}return this.$emit("loading",!1),!(t.id!=this.annotations[e].id||!i)&&(this.$delete(this.annotations,e),this.alert(this.$t("alerts.annotationRemoved"),null,"success"),i)}}},l=r,c=(i("5040"),i("2877")),p=Object(c["a"])(l,n,s,!1,null,"151b5304",null);t["a"]=p.exports},2365:function(e,t,i){"use strict";i("eb21")},"23a6":function(e,t,i){"use strict";i("1794")},2948:function(e){e.exports=JSON.parse('{"version":"1.4.6","gitBranch":"dev","gitCommit":"99a5d249e4cbe5fb8e56b93f292dcd5332747cb7","gitCommitShort":"99a5d24","buildDate":"2021-09-03T10:58:36Z","date":"2021-09-03T10:55:28.000Z","milestoneUrl":null,"jskosApi":"^1.0"}')},3176:function(e,t,i){},3341:function(e,t,i){},"35f7":function(e,t,i){},"371c":function(e,t,i){"use strict";const n=e=>(...e)=>{0},s={};for(let a of["log","warn","error"])s[a]=n(a);t["a"]=s},"38c8":function(e,t,i){"use strict";i("d78f")},"3a0b":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-navbar",{attrs:{toggleable:"md",type:"dark"}},[e._l(e.config.logos||[],(function(e,t){return i("b-navbar-brand",{key:t,attrs:{href:e.url,target:"_blank"}},[i("img",{staticStyle:{height:"42px"},attrs:{src:"./"+e.file,alt:e.alt||"logo"}})])})),i("b-navbar-brand",{attrs:{href:"https://coli-conc.gbv.de/cocoda/",target:"_blank"}},[e._v(" "+e._s(e.title||e.config.title)+" ")]),i("b-navbar-nav",{staticClass:"ml-auto"},[e._l(e.config.menu,(function(t){return i("b-nav-item",{key:t.url,attrs:{href:t.url,target:"_blank"}},[e._v(" "+e._s(e.$jskos.prefLabel(t))+" ")])})),e.reduced?e._e():i("b-nav-item",{attrs:{href:"./user-manual-"+e.locale+".html",target:"_blank"}},[e._v(" "+e._s(e.$t("general.manual"))+" ")]),e.reduced?i("b-nav-item",{attrs:{href:"./"}},[e._v(" Open Cocoda ")]):e._e(),!e.reduced&&e.mappingTrash.length>0?i("b-nav-item-dropdown",{ref:"mappingTrashDropdown",attrs:{id:"mappingTrashDropdown","menu-class":"navbar-dropdown","no-caret":"",right:""},nativeOn:{mouseover:function(t){e.dropdownSetStatus(e.$refs.mappingTrashDropdown,!0),e._dropdownSetStatus(e.$refs.mappingTrashDropdown,!0)},mouseout:function(t){return e.dropdownSetStatus(e.$refs.mappingTrashDropdown,!1)}}},[i("template",{slot:"button-content"},[i("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1),i("b-dropdown-header",[e._v(" "+e._s(e.$t("navbar.trashTitle"))+" "),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.trashClearButtonTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.trashClearButtonTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",staticStyle:{position:"absolute",right:"15px",top:"15px"},on:{click:function(t){return e.$store.commit("mapping/clearTrash")}}},[i("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e._v(" "+e._s(e.$t("navbar.trashClearButton"))+" ")],1)]),i("mapping-table",{staticClass:"font-default",staticStyle:{width:"700px"},attrs:{mappings:e.mappingTrash.map((function(e){return e.mapping})),actions:[{title:e.$t("navbar.trashRestoreTooltip"),name:"restore",icon:"recycle"}],"show-labels":!0,"show-popover":!1,"show-registry":!0,"hide-duplicates":!1},on:{click:function(t){e.$store.dispatch({type:"mapping/restoreMappingFromTrash",uri:t.item.mapping.uri}).then((function(i){i?e.alert(e.$t("alerts.mappingRestored",[e.$jskos.prefLabel(t.item.registry,{fallbackToUri:!1})]),null,"success2"):e.alert(e.$t("alerts.mappingNotRestored",[e.$jskos.prefLabel(t.item.registry,{fallbackToUri:!1})]),null,"danger")}))}}})],2):e._e(),e.reduced?e._e():i("b-nav-item-dropdown",{ref:"favoriteConceptsDropdown",attrs:{id:"favoriteConceptsDropdown","menu-class":"navbar-dropdown favoriteConceptsDropdown","no-caret":"",right:""},on:{hide:e.favoriteConceptsDropdownHide},nativeOn:{dragover:function(t){return e.dragOver.apply(null,arguments)},drop:function(t){return e.drop.apply(null,arguments)},mouseover:function(t){e.dropdownSetStatus(e.$refs.favoriteConceptsDropdown,!0),e._dropdownSetStatus(e.$refs.favoriteConceptsDropdown,!0)},mouseout:function(t){return e.dropdownSetStatus(e.$refs.favoriteConceptsDropdown,!1)}}},[i("template",{slot:"button-content"},[i("font-awesome-icon",{class:e.favoriteCanBeDropped?"favoriteConceptsDropdown-iconTarget":"",attrs:{icon:"star"}})],1),i("b-dropdown-header",[e._v(" "+e._s(e.$t("conceptList.favoriteConcepts"))+" ")]),e._l(e.favoriteConcepts,(function(t){return i("div",{key:"theNavbar-"+t.uri+"-favorite",staticClass:"dropdown-item",attrs:{draggable:""},on:{dragstart:function(i){return e.favoriteConceptDragStart(t)},dragend:e.favoriteConceptDragEnd}},[i("div",{staticStyle:{"padding-right":"8px"}},[i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.removeFromFavorites"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.removeFromFavorites'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button fontSize-verySmall",on:{click:function(i){return e.removeFavoriteConcept(t)}}},[i("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)]),i("div",{staticStyle:{flex:"1"}},[t.inScheme&&t.inScheme[0]?i("item-name",{attrs:{item:t.inScheme[0],"show-text":!1,"is-link":!1,"prevent-external-hover":!0,draggable:!1}}):e._e(),e._v("   "),i("item-name",{attrs:{item:t}})],1),i("div",[i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.openLeft"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.openLeft'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",on:{click:function(i){return e.setSelected({concept:t,isLeft:!0})}}},[i("font-awesome-icon",{attrs:{icon:"caret-square-left"}})],1),e._v("   "),i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.openRight"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.openRight'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",on:{click:function(i){return e.setSelected({concept:t,isLeft:!1})}}},[i("font-awesome-icon",{attrs:{icon:"caret-square-right"}})],1)])])}))],2),e.reduced?e._e():i("b-nav-item-dropdown",{ref:"accountDropdown",attrs:{id:"accountDropdown","menu-class":"navbar-dropdown","no-caret":"",right:""},nativeOn:{mouseover:function(t){e.dropdownSetStatus(e.$refs.accountDropdown,!0),e._dropdownSetStatus(e.$refs.accountDropdown,!0)},mouseout:function(t){return e.dropdownSetStatus(e.$refs.accountDropdown,!1)}}},[i("template",{slot:"button-content"},[i("div",{staticClass:"navbar-settingsButton",on:{click:function(t){return e.openSettingsTab(0)}}},[e.userIdentityImage&&e.creator.uri?i("span",{staticClass:"fontWeight-heavy"},[i("img",{attrs:{src:e.userIdentityImage}}),e._v(" "+e._s(e.creatorName||e.$t("settingsTabs")[0])+" ")]):i("span",[i("font-awesome-icon",{style:"color: "+(e.$store.state.auth.available?e.authorized?"green":e.$store.state.auth.connected?"red":"yellow":"black")+" !important;",attrs:{icon:"user"}}),i("span",{class:{"fontWeight-heavy":e.authorized}},[e._v(" "+e._s(e.creatorName||e.$t("settingsTabs")[0])+" ")])],1)])]),i("div",{staticClass:"font-default"},[(e.userUris||[e.creator.uri]).filter((function(e){return null!=e})).length?e._l((e.userUris||[e.creator.uri]).filter((function(e){return null!=e})),(function(t,n){return i("p",{key:"navbar-switchToIdentity-"+n,class:{"navbar-dropdown-selectable":!0,"navbar-dropdown-selectable-selected":t==e.creator.uri},on:{click:function(i){return e.setIdentity(t)}}},[i("span",{staticClass:"navbar-dropdown-selectable-icon"},[e.imageForIdentityUri(t)?i("img",{attrs:{src:e.imageForIdentityUri(t)}}):i("font-awesome-icon",{attrs:{icon:"user"}})],1),e._v(" "+e._s(e.providerForIdentityUri(t)&&e.providerForIdentityUri(t).name||(e.user&&t==e.user.uri?e.$t("navbar.defaultIdentity"):t))+" ")])})):e._e(),e.authorized?i("p",{staticClass:"navbar-dropdown-selectable",on:{click:function(t){return e.$store.commit({type:"auth/openWindow",url:e.config.auth+"logout",eventType:"logout"})}}},[i("span",{staticClass:"navbar-dropdown-selectable-icon"},[e._v(" "+e._s(e.$t("settings.logOutButton"))+" ")])]):i("p",{staticClass:"navbar-dropdown-selectable",on:{click:function(t){return e.openSettingsTab(0)}}},[i("span",{staticClass:"navbar-dropdown-selectable-icon"},[e._v(" "+e._s(e.$t("settings.logInButton"))+" ")])])],2)],2),e.reduced?e._e():i("b-nav-item-dropdown",{ref:"settingsDropdown",attrs:{id:"settingsDropdown","menu-class":"navbar-dropdown","no-caret":"",right:""},nativeOn:{mouseover:function(t){e.dropdownSetStatus(e.$refs.settingsDropdown,!0),e._dropdownSetStatus(e.$refs.settingsDropdown,!0)},mouseout:function(t){return e.dropdownSetStatus(e.$refs.settingsDropdown,!1)}}},[i("template",{slot:"button-content"},[i("font-awesome-icon",{attrs:{icon:"cog"},on:{click:function(t){return e.$refs.settings.show()}}})],1),e._l(e.$t("settingsTabs").slice(1,e.$t("settingsTabs").length-(e.localMappingsRegistry?0:1)),(function(t,n){return i("p",{key:"navbar-settingsTabs-"+n,staticClass:"navbar-settingsTabs-row",on:{click:function(t){return e.openSettingsTab(n+1)}}},[e._v(" "+e._s(t)+" ")])})),i("hr"),e.currentRegistry?i("div",{staticClass:"font-default"},[e._l(e.config.registries.filter((function(t){return e.$jskos.mappingRegistryIsStored(t)})),(function(t){return i("p",{key:"navbar-mappingRegistry-"+t.uri,class:{"navbar-dropdown-selectable":!0,"navbar-dropdown-selectable-selected":e.$jskos.compare(t,e.currentRegistry)},on:{click:function(i){return e.$store.commit({type:"settings/set",prop:"mappingRegistry",value:t.uri})}}},[i("registry-info",{attrs:{registry:t,"show-details":!1,"show-capabilities":!1}})],1)})),i("hr")],2):e._e(),i("p",{staticStyle:{padding:"0 10px"}},[i("a",{attrs:{href:"https://github.com/gbv/cocoda",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:["fab","github"]}}),e._v(" GitHub ")],1),e.config.buildInfo.version&&""!=e.config.buildInfo.version?i("span",[e._v(" • "+e._s(e.$t("settings.version"))+" "+e._s(e.config.buildInfo.version)+" ")]):e._e()])],2),i("the-settings",{ref:"settings",attrs:{tab:e.settingsTab},on:{"update:tab":function(t){e.settingsTab=t}}})],2)],2)},s=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-modal",{ref:"settingsModal",attrs:{id:"settingsModal",title:e.$t("settings.title"),"hide-footer":"",centered:"",size:"lg"}},[i("b-card",{attrs:{"no-body":"","footer-tag":"footer"}},[i("tabs",{attrs:{fill:"",value:e.tab},on:{change:function(t){return e.$emit("update:tab",t.index)}}},[i("tab",{attrs:{title:e.$t("settingsTabs")[0]}},[e.localSettings?i("div",[e.user&&e.authorized?i("p",[i("span",{staticClass:"text-success"},[e._v(" "+e._s(e.$t("settings.loggedIn"))+" ")]),i("a",{attrs:{href:e.$store.state.auth.about.baseUrl+"account",target:"_blank"}},[e._v(" "+e._s(e.$t("settings.accountPage"))+" ")]),e._v(" • "),i("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.login(null)}}},[e._v(" "+e._s(e.$t("settings.logOutButton"))+" ")])]):i("p",[i("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.$t("settings.loggedOut"))+" ")])]),e.$store.state.auth.available&&!e.user&&e.providers.length?i("p",e._l(e.providers,(function(t){return i("b-button",{key:"login-provider-"+t.id,attrs:{block:"",variant:"light"},on:{click:function(i){return e.login(t)}}},[t.image?i("img",{staticStyle:{"margin-right":"5px"},attrs:{src:t.image,height:"20px"}}):e._e(),e._v(" "+e._s(e.$t("settings.logInButton"))+" via "+e._s(t.name)+" ")])})),1):e._e(),e.$store.state.auth.connected?i("div",[i("p",[i("span",{domProps:{innerHTML:e._s(e.$t("settings.accountInfo",{url:e.config.auth}))}}),e.$store.state.auth.about.urls.imprint?i("a",{attrs:{href:e.$store.state.auth.about.urls.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("settings.impressum"))+" ")]):e._e(),e._v(" • "),e.$store.state.auth.about.urls.privacy?i("a",{attrs:{href:e.$store.state.auth.about.urls.privacy,target:"_blank"}},[e._v(" "+e._s(e.$t("settings.privacyPolicy"))+" ")]):e._e()])]):e._e(),i("p",[e._v(" "+e._s(e.$t("settings.creatorInfo"))+" ")]),i("p",[i("b",[e._v(e._s(e.$t("settings.creator")))]),i("b-form-input",{attrs:{placeholder:e.$t("settings.creatorPlaceholder"),type:"text"},model:{value:e.localSettings.creator,callback:function(t){e.$set(e.localSettings,"creator",t)},expression:"localSettings.creator"}})],1),i("p",[i("b",[e._v(e._s(e.$t("settings.creatorUri")))]),e.user&&e.userUris&&e.userUris.length?i("span",[i("b-form-select",{model:{value:e.localSettings.creatorUri,callback:function(t){e.$set(e.localSettings,"creatorUri",t)},expression:"localSettings.creatorUri"}},e._l(e.userUris,(function(t){return i("option",{key:"settings-uris-"+t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)],1):i("span",[i("b-form-input",{attrs:{state:!e.localSettings.creatorUri||e.$jskos.isValidUri(e.localSettings.creatorUri),placeholder:"https://",type:"text"},model:{value:e.localSettings.creatorUri,callback:function(t){e.$set(e.localSettings,"creatorUri",t)},expression:"localSettings.creatorUri"}}),e.localSettings.creatorUri&&!e.$jskos.isValidUri(e.localSettings.creatorUri)?i("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.$t("settings.creatorUriInvalid"))+" ")]):e._e()],1)])]):e._e()]),i("tab",{attrs:{title:e.$t("settingsTabs")[1]}},[i("h4",[e._v(e._s(e.$t("settings.mappingRegistries")))]),e._l(e.config.registries.filter((function(t){return e.$jskos.mappingRegistryIsStored(t)})),(function(t,n){return i("div",{key:"settingsModal-mapping-registries-"+n,staticClass:"settingsModal-mapping-registry",class:{"selected-registry":e.$jskos.compare(t,e.currentRegistry)}},[i("b-form-checkbox",{attrs:{disabled:e.$jskos.compare(t,e.currentRegistry)},model:{value:e.showRegistry[t.uri],callback:function(i){e.$set(e.showRegistry,t.uri,i)},expression:"showRegistry[registry.uri]"}}),i("registry-info",{staticClass:"settings-sources",attrs:{registry:t},nativeOn:{click:function(i){return e.$store.commit({type:"settings/set",prop:"mappingRegistry",value:t.uri})}}})],1)})),i("h4",[e._v(e._s(e.$t("settings.otherRegistries")))]),e._l(e.config.registries.filter((function(t){return!e.$jskos.mappingRegistryIsStored(t)})),(function(t,n){return i("div",{key:"settingsModal-other-registries-"+n,staticClass:"settingsModal-mapping-registry"},[t.has.mappings?i("b-form-checkbox",{model:{value:e.showRegistry[t.uri],callback:function(i){e.$set(e.showRegistry,t.uri,i)},expression:"showRegistry[registry.uri]"}}):e._e(),i("registry-info",{staticClass:"settings-sources",attrs:{registry:t}})],1)}))],2),i("tab",{attrs:{title:e.$t("settingsTabs")[2]}},[i("div",{staticClass:"settingsModal-componentSettings-component"},[e.localSettings?i("div",{staticClass:"form-inline"},[i("label",{staticStyle:{"padding-right":"0.5em"}},[e._v(e._s(e.$t("settings.language"))+":")]),i("b-form-select",{model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},e._l(e.config.languages,(function(t){return i("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(e.$t("languages."+t))+" ")])})),0)],1):e._e(),i("span",{staticClass:"fontSize-small text-lightGrey",domProps:{innerHTML:e._s(e.$t("settings.languageContribution"))}})]),e.localSettings&&e.config.autoRefresh.update?i("div",{staticClass:"settingsModal-componentSettings-component"},[i("b-form-checkbox",{model:{value:e.localSettings.checkForUpdates,callback:function(t){e.$set(e.localSettings,"checkForUpdates",t)},expression:"localSettings.checkForUpdates"}},[e._v(" "+e._s(e.$t("settings.checkForUpdates"))+" ")]),i("p",{staticClass:"fontSize-small text-lightGrey"},[e._v(" "+e._s(e.$t("settings.checkForUpdatesExplanation",[Math.floor(e.config.autoRefresh.update/1e3)]))+" ")])],1):e._e(),i("div",{staticClass:"settingsModal-componentSettings-component"},[i("b-button",{attrs:{variant:"secondary"},on:{click:e.resetFlex}},[e._v(" "+e._s(e.$t("settings.resetSizes"))+" ")])],1),e._l(e.components,(function(t){return i("div",{key:"settings-componentSettings-"+t.name,staticClass:"settingsModal-componentSettings-component"},[i("h5",[e._v(e._s(t.name))]),e._l(t.settings,(function(n){return i("div",{key:"settings-componentSettings-"+t.name+"-"+n.key+"-"+n.isLeft},["Boolean"==n.type?i("div",[i("b-form-checkbox",{staticStyle:{"user-select":"none"},model:{value:t.settingsValues[n.key+(n.sideDependent?"-"+n.isLeft:"")],callback:function(i){e.$set(t.settingsValues,n.key+(n.sideDependent?"-"+n.isLeft:""),i)},expression:"component.settingsValues[setting.key + (setting.sideDependent ? `-${setting.isLeft}` : '')]"}},[e._v(" "+e._s(e.$jskos.prefLabel(n))+" "+e._s(n.sideDependent?" ("+e.$t("general."+(n.isLeft?"left":"right"))+")":"")+" ")]),i("span",{staticClass:"fontSize-small text-lightGrey"},[e._v(" "+e._s((e.$jskos.languageMapContent(n,"definition")||[])[0])+" "+e._s(e.$t("general.default"))+": "+e._s(n.default?e.$t("general.enabled"):e.$t("general.disabled"))+" ")])],1):"Number"==n.type?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.languageMapContent(n,"definition"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.languageMapContent(setting, 'definition'), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(e.$jskos.prefLabel(n))+" "+e._s(n.sideDependent?" ("+e.$t("general."+(n.isLeft?"left":"right"))+")":"")+" "),i("b-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{type:"number",min:n.min,max:n.max,size:"sm"},on:{click:function(e){return e.target.select()}},model:{value:t.settingsValues[n.key+(n.sideDependent?"-"+n.isLeft:"")],callback:function(i){e.$set(t.settingsValues,n.key+(n.sideDependent?"-"+n.isLeft:""),i)},expression:"component.settingsValues[setting.key + (setting.sideDependent ? `-${setting.isLeft}` : '')]"}}),i("br"),i("span",{staticClass:"fontSize-small text-lightGrey"},[e._v(" "+e._s((e.$jskos.languageMapContent(n,"definition")||[])[0])+" "+e._s(e.$t("general.default"))+": "+e._s(n.default)+" ")])],1):i("div",{class:n.class},[e._v(" "+e._s(e.$jskos.prefLabel(n))+" ")])])}))],2)}))],2),e.config.shortcuts&&e.config.shortcuts.length?i("tab",{attrs:{title:e.$t("settingsTabs")[3]}},[i("table",{staticClass:"table table-borderless"},[i("tbody",e._l(e.config.shortcuts,(function(t){return i("tr",{key:"settingsModal-shortcuts-"+t.id},[i("td",[i("span",{domProps:{innerHTML:e._s(t.keys.split(",").map((function(t){return t.split("+").map((function(t){return"<kbd>"+e.replaceKey(t)+"</kbd>"})).join(" + ")})).join(" "+e.$t("general.or")+" "))}})]),i("td",{staticClass:"text-left"},[e._v(" "+e._s(e.$jskos.prefLabel(t)||t.action)+" ")])])})),0)])]):e._e(),e.localMappingsRegistry?i("tab",{attrs:{title:e.$t("settingsTabs")[4]}},[i("div",[i("p",[e._v(e._s(e.$t("settings.localMappingsInfo")))])]),e.localMappingsRegistry&&e.dlAllMappings&&e.dlMappingsReady?i("div",[i("h4",[e._v(e._s(e.$t("settings.localDownload")))]),e._l(e.dlMappings,(function(t,n){return i("span",{key:n},[e._v(" "+e._s(t.label)+" ("+e._s(t.mappings.length)+"): "),i("a",{attrs:{href:""},on:{click:function(i){return i.preventDefault(),e.downloadFile(t.filename+".ndjson",t.ndjson)}}},[e._v(" JSKOS ")]),i("a",{attrs:{href:""},on:{click:function(i){return i.preventDefault(),e.downloadFile(t.filename+".csv",t.csv)}}},[e._v(" CSV ")]),i("br")])})),i("br"),i("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.downloadFile("mappings.ndjson",e.dlAllMappings)}}},[e._v(" "+e._s(e.$t("settings.localDownloadJskos",[e.dlAllMappings.split("\n").length]))+" ")]),i("br"),i("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.downloadFile("mappings.csv",e.dlAllMappingsCsv)}}},[e._v(" "+e._s(e.$t("settings.localDownloadCsv",[e.dlAllMappingsCsv.split("\n").length-2]))+" ")])],2):e._e(),i("br"),e.localMappingsRegistry?i("div",[i("h4",[e._v(e._s(e.$t("settings.localUpload")))]),i("b-form-file",{ref:"fileUpload",attrs:{state:Boolean(e.uploadedFile),placeholder:e.$t("settings.localUploadPlaceholder"),accept:".ndjson"},model:{value:e.uploadedFile,callback:function(t){e.uploadedFile=t},expression:"uploadedFile"}}),i("p",[e._v(" "+e._s(e.uploadedFileStatus)+" ")])],1):e._e(),e.localMappingsRegistry&&e.dlAllMappings?i("div",[i("h4",[e._v(e._s(e.$t("settings.localDeleteTitle")))]),i("b-button",{attrs:{disabled:!e.dlAllMappings,variant:"danger","hide-footer":""},on:{click:function(t){e.deleteMappingsButtons=!0}}},[e._v(" "+e._s(e.$t("settings.localDeleteText"))+" ")]),e.deleteMappingsButtons?i("p",[e._v(" "+e._s(e.$t("settings.localDeleteSure"))+" "),i("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:e.deleteMappings_}},[e._v(" "+e._s(e.$t("general.yes"))+" ")]),i("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){e.deleteMappingsButtons=!1}}},[e._v(" "+e._s(e.$t("general.no"))+" ")])],1):e._e()],1):e._e(),i("br"),i("br"),e.localMappingsRegistry&&e.dlAllMappings?i("div",[i("h4",[e._v(e._s(e.$t("settings.creatorRewriteTitle")))]),i("p",{domProps:{innerHTML:e._s(e.$t("settings.creatorRewriteText"))}}),i("p",{staticClass:"fontSize-small"},[i("b",[e._v("Name:")]),e._v(" "+e._s(e.$jskos.prefLabel(e.creator))),i("br"),i("b",[e._v("URI:")]),e._v(" "+e._s(e.creator.uri)+" ")]),i("p",[i("b-button",{attrs:{variant:e.creatorRewritten?"success":"warning"},on:{click:e.rewriteCreator}},[e._v(" "+e._s(e.$t("settings.creatorRewriteButton"))+" ")])],1)]):e._e()]):e._e()],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("a",{attrs:{href:"https://github.com/gbv/cocoda",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:["fab","github"]}}),e._v(" GitHub ")],1),e.config.buildInfo.version&&""!=e.config.buildInfo.version?i("span",[e._v(" • "+e._s(e.$t("settings.version"))+" "+e._s(e.config.buildInfo.version)+" ")]):e._e(),e.config.buildInfo.gitCommit&&e.config.buildInfo.gitCommitShort?i("span",[e._v(" • "+e._s(e.$t("settings.currentCommit"))+": "),i("a",{attrs:{href:"https://github.com/gbv/cocoda/commit/"+e.config.buildInfo.gitCommit,target:"_blank"}},[e._v(" "+e._s(e.config.buildInfo.gitCommitShort)+" ")])]):e._e(),e.config.buildInfo.buildDate?i("span",[e._v(" • "+e._s(e.$t("settings.buildDate"))+": "+e._s(e.dateToString(e.config.buildInfo.buildDate))+" ")]):e._e(),i("br"),i("span",[e._v(" "+e._s(e.$t("settings.suggestions1"))+" "),i("a",{attrs:{href:"https://github.com/gbv/cocoda/issues",target:"_blank"}},[e._v(e._s(e.$t("settings.suggestions2")))]),e._v(e._s(e.$t("settings.suggestions3"))+" ")])])],1)],1)},o=[],r=i("2ef0"),l=i.n(r),c=i("9ecc"),p=i("a189"),d=i("616f"),h=i("564d"),g={name:"TheSettings",components:{RegistryInfo:c["a"]},mixins:[p["a"],d["a"],h["a"]],props:{tab:{type:Number,default:0}},data(){return{localSettings:null,creatorRewritten:!1,dlMappingsReady:!1,dlAllMappings:null,dlAllMappingsCsv:null,dlMappings:[],uploadedFile:null,uploadedFileStatus:"",deleteMappingsButtons:!1,updateLocalSettings:l.a.debounce(()=>{this.$store.commit({type:"settings/save",settings:l.a.cloneDeep(this.localSettings)}),this.creatorRewritten=!1},200)}},computed:{availableMappingRegistries(){return this.config.registries.filter(e=>e.isAuthorizedFor({type:"mappings",action:"create",user:this.user}))},components(){let e=[];for(let t of Object.keys(this.$store.state.settings.componentSettings)){let i={name:t,settings:[],settingsValues:{}};for(let e of Object.keys(this.$store.state.settings.componentSettings[t])){let n=this.$store.state.settings.componentSettings[t][e];for(let s of n.sideDependent?[!0,!1]:[void 0])i.settings.push(Object.assign({key:e,isLeft:s},n)),Object.defineProperty(i.settingsValues,e+(n.sideDependent?"-"+s:""),{get:()=>n.sideDependent?this.$settings.components[t][e][s]:this.$settings.components[t][e],set:i=>{"Boolean"!=n.type||l.a.isBoolean(i)||(i=!!i),"Number"!=n.type||l.a.isNumber(i)||(i=parseInt(i),(isNaN(i)||i<n.min||i>n.max)&&(this.$log.warn(`Tried to save invalid value for setting ${t} -> ${e}, fallback to default value (${n.default}).`),i=n.default)),this.$store.commit({type:"settings/setComponentSetting",component:t,setting:e,isLeft:s,value:i})}})}e.push(i)}return e}},watch:{localSettings:{handler(){this.updateLocalSettings()},deep:!0},uploadedFile(){if(this.uploadedFile&&this.localMappingsRegistry){let e=new FileReader;e.onloadend=e=>{let t,i,n=e.target.result;t=n.split("\n"),i={imported:0,skipped:0,error:0,empty:0};let s=[];for(let o of t)if(""!==o)try{let e=JSON.parse(o);s.push(e)}catch(a){i.error+=1}else i.empty+=1;this.postMappings({mappings:s,registry:this.localMappingsRegistry,_alert:!1,_refresh:!1}).then(e=>{i.imported=e.length,i.skipped=t.length-i.imported-i.error-i.empty,this.uploadedFileStatus=`${i.imported} mappings imported, ${i.skipped} skipped, ${i.error} errored`,this.$refs.fileUpload.reset(),this.refreshDownloads(),this.$store.commit("mapping/setRefresh",{registry:this.localMappingsRegistry})}).catch(e=>{this.$log.error("TheSettings - Error uploading mappings",e)})},e.readAsText(this.uploadedFile)}},"localSettings.creatorUri"(e){if(this.user){let t=this.user.name;const i=Object.values(this.user.identities).find(t=>t.uri===e);i&&(t=i.name),t&&(this.localSettings.creator=t)}}},methods:{show(){this.$refs.settingsModal.show(),this.localSettings=l.a.cloneDeep(this.$settings),this.refreshDownloads()},refreshDownloads(){if(!this.localMappingsRegistry)return;this.dlMappingsReady=!1,this.dlAllMappings=null,this.dlMappings=[];let e=[];this.getMappings({registry:this.localMappingsRegistry}).then(t=>{e=t;let i=[];for(let n of e)for(let e of["from","to"])for(let t of this.$jskos.conceptsOfMapping(n,e)){let s=n[e+"Scheme"];t.inScheme&&t.inScheme.length||(t.inScheme=[s]),i.push(this.loadConcepts([t],{scheme:s}))}return Promise.all(i)}).then(()=>{let t=e=>{let t=this.$jskos.minifyMapping(e);for(let i of this.$jskos.conceptsOfMapping(t)){let e=this.getObject(i),t=this.$jskos.languagePreference.selectLanguage(l.a.get(e,"prefLabel"));t&&(i.prefLabel=l.a.pick(e.prefLabel,[t]))}return JSON.stringify(t)};this.dlAllMappings=e.map(t).join("\n");for(let s of e){s.fromScheme=this.getObject(s.fromScheme)||s.fromScheme,s.toScheme=this.getObject(s.toScheme)||s.toScheme;let e=this.dlMappings.find(e=>this.$jskos.compare(s.fromScheme,e.fromScheme)&&this.$jskos.compare(s.toScheme,e.toScheme));e?e.mappings.push(s):(e={fromScheme:s.fromScheme,toScheme:s.toScheme,mappings:[s]},this.dlMappings.push(e))}let i=this.$jskos.mappingCSV({lineTerminator:"\r\n",labels:!0,creator:!0,language:"de"}),n=[];for(let e of this.dlMappings){e.ndjson=e.mappings.map(t).join("\n"),e.mappings=e.mappings.map(e=>this.$jskos.minifyMapping(e)),n=n.concat(e.mappings);for(let t of e.mappings){for(let e of this.$jskos.conceptsOfMapping(t)){let t=this.getObject(e),i=this.$jskos.languagePreference.selectLanguage(l.a.get(t,"prefLabel"));i&&(e.prefLabel={de:l.a.get(t.prefLabel,i)})}t.creator&&t.creator[0]&&(t.creator[0].prefLabel={de:this.$jskos.prefLabel(t.creator[0],{fallbackToUri:!1})})}e.csv=i.fromMappings(e.mappings),e.label=(this.$jskos.notation(l.a.get(e,"fromScheme"),"scheme")||"?")+" to "+(this.$jskos.notation(l.a.get(e,"toScheme"),"scheme")||"?"),e.filename=`${this.$jskos.notation(l.a.get(e,"fromScheme"),"scheme")||"?"}_to_${this.$jskos.notation(l.a.get(e,"toScheme"),"scheme")||"?"}_${this.localSettings.creator}`}this.dlAllMappingsCsv=i.fromMappings(n),this.dlMappingsReady=!0}).catch(e=>{this.$log.error("TheSettings - Error refreshing local mappings download",e)})},async rewriteCreator(){if(this.localMappingsRegistry)try{const e=await this.getMappings({registry:this.localMappingsRegistry});for(let t of e)await this.putMapping({mapping:t,_reload:!1,_alert:!1});this.creatorRewritten=!0,this.$store.commit("mapping/setRefresh",{registry:this.localMappingsRegistry}),this.refreshDownloads()}catch(e){this.$log.error("TheSettings - Error rewriting creator",e)}},resetFlex(){let e=l.a.cloneDeep(this.localSettings.flex);l.a.forOwn(e,(t,i)=>{e[i]=""}),this.$store.commit({type:"settings/set",prop:"flex",value:e})},async deleteMappings_(){if(this.localMappingsRegistry)try{const e=await this.getMappings({registry:this.localMappingsRegistry});await this.deleteMappings({mappings:e,registry:this.localMappingsRegistry,_alert:!1,_refresh:!1,_trash:!1}),this.$store.commit("mapping/setRefresh",{registry:this.localMappingsRegistry}),this.refreshDownloads(),this.deleteMappingsButtons=!1,this.$store.commit("mapping/clearTrash")}catch(e){this.$log.error("TheSettings - Error deleting local mappings",e)}},login(e){let t,i;e?(t=e.loginURL,i="login"):(t=this.config.auth+"logout",i="logout"),this.$store.commit({type:"auth/openWindow",url:t,eventType:i})},replaceKey(e){let t={shift:"Shift",alt:"Alt",option:"Alt",ctrl:"Ctrl",meta:"Cmd",command:"Cmd"};return t[e]||e}}},u=g,m=(i("5144"),i("38c8"),i("2877")),f=Object(m["a"])(u,a,o,!1,null,"36f5bc0f",null),b=f.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("flexible-table",{attrs:{items:e.items,fields:e.fields},scopedSlots:e._u([{key:"registry",fn:function(e){var t=e.value;return i("span",{},[i("registry-notation",{attrs:{registry:t,tooltip:!1}})],1)}},{key:"sourceConcepts",fn:function(t){var n=t.value;return i("span",{},e._l(n,(function(t){return i("item-name",{key:t.uri,attrs:{item:t,"show-text":e.showLabels,"is-link":!1,"is-highlighted":!1},nativeOn:{mouseover:function(e){return function(){return null}.apply(null,arguments)},click:function(e){return function(){return null}.apply(null,arguments)}}})})),1)}},{key:"targetConcepts",fn:function(t){var n=t.value;return i("span",{},e._l(n,(function(t){return i("span",{key:t.uri},[i("item-name",{attrs:{item:t,"show-text":e.showLabels,"is-link":!1,"is-highlighted":!1},nativeOn:{mouseover:function(e){return function(){return null}.apply(null,arguments)},click:function(e){return function(){return null}.apply(null,arguments)}}}),i("br")],1)})),0)}},{key:"type",fn:function(t){var n=t.value;return i("span",{},[null!=n?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.prefLabel(n),delay:e.defaults.delay.medium},expression:"{ title: $jskos.prefLabel(value), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(e.$jskos.notation(n))+" ")]):e._e()])}},{key:"actions",fn:function(t){return i("span",{},e._l(e.actions,(function(n,s){return i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:n.title,delay:e.defaults.delay.medium,placement:"left"},expression:"{ title: action.title, delay: defaults.delay.medium, placement: 'left' }",modifiers:{hover:!0}}],key:s,staticClass:"button",attrs:{icon:n.icon},on:{click:function(i){return e.$emit("click",{name:n.name,item:t.item})}}})})),1)}}])},[i("span",{attrs:{slot:"HEAD_actions"},slot:"HEAD_actions"})])},y=[],w=i("68bc"),k=i("aedf"),S=i("d465"),$={name:"MappingTable",components:{ItemName:w["a"],FlexibleTable:k["a"],RegistryNotation:S["a"]},props:{mappings:{type:Array,default:()=>[]},hideDuplicates:{type:Boolean,default:!0},actions:{type:Array,default:()=>[]},showLabels:{type:Boolean,default:!1},showRegistry:{type:Boolean,default:!1}},data(){return{}},computed:{fields(){let e=[{key:"sourceScheme",label:"",width:"8%",minWidth:"",sortable:!1},{key:"sourceConcepts",label:this.$t("mappingBrowser.from"),width:"19%",minWidth:"",sortable:!1,compare:(e,t)=>this.$jskos.compareFunctions.mappingsByConcepts(e.mapping,t.mapping,"from")},{key:"type",label:"",width:"7%",minWidth:"",sortable:!1,compare:(e,t)=>{let i=this.$jskos.prefLabel(l.a.get(e,"type"),{fallbackToUri:!1}),n=this.$jskos.prefLabel(l.a.get(t,"type"),{fallbackToUri:!1});return i<n?-1:i>n?1:0}},{key:"targetScheme",label:"",width:"8%",minWidth:"",sortable:!1},{key:"targetConcepts",label:this.$t("mappingBrowser.to"),width:"19%",minWidth:"",sortable:!1,compare:(e,t)=>this.$jskos.compareFunctions.mappingsByConcepts(e.mapping,t.mapping,"to")},{key:"creator",label:this.$t("mappingBrowser.creator"),width:"15%",minWidth:"",sortable:!1},{key:"date",label:this.$t("mappingBrowser.date"),width:"12%",minWidth:"",sortable:!1},{key:"actions",label:"",width:"7%",minWidth:"",sortable:!1}];return this.showRegistry&&(e=[{key:"registry",label:"",width:"5%",minWidth:"",sortable:!1}].concat(e)),e},items(){let e=[],t=[];for(let i of this.mappings){let n=i.identifier?i.identifier.find(e=>e.startsWith("urn:jskos:mapping:content:")):null;if(!this.hideDuplicates||!n||!t.includes(n)){let s={};s.mapping=i,this.showRegistry&&(s.registry=i._registry),s.sourceScheme=this.$jskos.notation(i.fromScheme),s.targetScheme=this.$jskos.notation(i.toScheme),s.sourceConcepts=i.from.memberSet||i.from.memberChoice,s.targetConcepts=i.to.memberSet||i.to.memberChoice,s.creator=i.creator&&i.creator[0]||"?","object"===typeof s.creator&&(s.creator=this.$jskos.prefLabel(s.creator)),s.type=this.$jskos.mappingTypeByType(i.type),s.date=i.modified||i.created,s.date=s.date&&s.date.slice(0,10),e.push(s),t.push(n)}}return e}},watch:{},methods:{}},_=$,C=(i("f82e"),Object(m["a"])(_,v,y,!1,null,"5f5cce56",null)),M=C.exports,L=i("8fb2"),R={name:"TheNavbar",components:{TheSettings:b,RegistryInfo:c["a"],MappingTable:M,ItemName:w["a"]},mixins:[p["a"],d["a"],L["a"],h["a"]],props:{title:{type:String,default:null},reduced:{type:Boolean,default:!1}},data(){return{settingsTab:0}},computed:{draggedConcept:{get(){return this.$store.state.draggedConcept},set(e){this.$store.commit({type:"setDraggedConcept",concept:e})}},favoriteCanBeDropped(){return null!=this.draggedConcept&&!this.$jskos.isScheme(this.draggedConcept)&&!this.$jskos.isContainedIn(this.draggedConcept,this.favoriteConcepts)},mappingTrash(){if(!this.$store.state.configLoaded||!this.schemes.length)return[];let e=this.$store.state.mapping.mappingTrash;e=e.map(e=>Object.assign({},e,{mapping:this.adjustMapping(this.$jskos.copyDeep(e.mapping))}));for(let t of e)t.mapping._registry=this.config.registries.find(e=>this.$jskos.compare(e,t.registry));return e}},created(){this.dropdownSetStatus=l.a.debounce(this._dropdownSetStatus,500)},methods:{favoriteConceptDragStart(e){event.dataTransfer.setData("text",e.uri),this.draggedConcept=e},favoriteConceptDragEnd(e){"none"!=e.dataTransfer.dropEffect&&this.$refs.favoriteConceptsDropdown.hide(),this.draggedConcept=null},_dropdownSetStatus(e,t){t?e.show():e.hide()},favoriteConceptsDropdownHide(){this.$refs.favoriteConceptsDropdown.$el.getElementsByClassName("favoriteConceptsDropdown")[0].scrollTop=0},droppedConcept(e){this.$store.dispatch("addConceptToFavorites",e)},removeFavoriteConcept(e){this.$store.dispatch("removeConceptFromFavorites",e)},openSettingsTab(e){this.settingsTab=e,this.$refs.settings.show()},setIdentity(e){if(this.$store.commit({type:"settings/set",prop:"creatorUri",value:e}),this.user){let t=this.user.name;const i=Object.values(this.user.identities).find(t=>t.uri===e);i&&(t=i.name),t&&this.$store.commit({type:"settings/set",prop:"creator",value:t})}}}},x=R,T=(i("7030"),i("b1fa"),Object(m["a"])(x,n,s,!1,null,"0754d5ac",null));t["a"]=T.exports},"3c16":function(e,t,i){},"3cc1":function(e,t,i){"use strict";i("3c16")},"3e42":function(e,t,i){},"3ee3":function(e,t,i){"use strict";i("85c9")},"40b5":function(e,t,i){},"40e1":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-modal",{ref:"mappingDetail",staticClass:"fontSize-normal",attrs:{title:e.$t("mappingDetail.title"),centered:"","hide-footer":"","no-enforce-focus":"",size:"lg"}},[e.mapping?i("div",[i("b-container",{staticClass:"mappingDetail-container",attrs:{fluid:""}},[i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.sourceScheme"))+": ")]),i("b-col",[i("item-name",{attrs:{draggable:!1,item:e.mapping.fromScheme}})],1)],1),i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$tc("mappingDetail.sourceConcept",e.$jskos.conceptsOfMapping(e.mapping,"from").length))+": ")]),i("b-col",e._l(e.$jskos.conceptsOfMapping(e.mapping,"from"),(function(e){return i("p",{key:"mappingDetail-from-"+e.uri},[i("item-name",{attrs:{draggable:!1,item:e}})],1)})),0)],1),i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.targetScheme"))+": ")]),i("b-col",[i("item-name",{attrs:{draggable:!1,item:e.mapping.toScheme}})],1)],1),i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$tc("mappingDetail.targetConcept",e.$jskos.conceptsOfMapping(e.mapping,"to").length))+": ")]),i("b-col",e._l(e.$jskos.conceptsOfMapping(e.mapping,"to"),(function(e){return i("p",{key:"mappingDetail-to-"+e.uri},[i("item-name",{attrs:{draggable:!1,item:e}})],1)})),0)],1),e.mapping.type&&e.mapping.type.length?i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.mappingType"))+": ")]),i("b-col",[i("a",{attrs:{href:e.$jskos.mappingTypeByType(e.mapping.type).uri,target:"_blank"}},[e._v(" "+e._s(e.$jskos.prefLabel(e.$jskos.mappingTypeByType(e.mapping.type)))+" ("+e._s(e.$jskos.notation(e.$jskos.mappingTypeByType(e.mapping.type)))+") ")])])],1):e._e(),i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.creator"))+": ")]),i("b-col",e._l(e.mapping.creator||[],(function(t,n){return i("p",{key:"mappingDetail-creator-"+n},[i("auto-link",{attrs:{link:t.url||t.uri,text:e.$jskos.prefLabel(t)}})],1)})),0)],1),i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.created"))+": ")]),i("b-col",[e._v(e._s(e.dateToString(e.mapping.created)))])],1),i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.modified"))+": ")]),i("b-col",[e._v(e._s(e.dateToString(e.mapping.modified)))])],1),e.mapping.annotations&&e.mapping.annotations.length?i("b-row",{staticStyle:{position:"relative"}},[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.annotations"))+": ")]),i("b-col",[i("annotation-list",{attrs:{annotations:e.mapping.annotations,provider:e.mapping._registry}})],1),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("dataModal.button"),delay:e.defaults.delay.medium},expression:"{ title: $t('dataModal.button'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"dataModalButton",on:{click:function(t){return e.$refs.dataModalAnnotations.show()}}},[i("font-awesome-icon",{attrs:{icon:"code"}})],1)],1):e._e(),e.mapping.partOf?i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.partOf"))+": ")]),i("b-col",e._l(e.mapping.partOf,(function(t,n){return i("p",{key:"mappingDetail-partOf-"+n},[i("auto-link",{attrs:{link:t.uri,text:e.displayNameForConcordance(t)}})],1)})),0)],1):e._e(),e.mapping.uri||e.mapping.identifier?i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.identifier"))+": ")]),i("b-col",e._l([e.mapping.uri].concat(e.mapping.identifier).filter((function(e){return null!=e})),(function(t,n){return i("p",{key:"mappingDetail-identifier-"+n},[i("auto-link",{class:{"fontWeight-heavy":t==e.mapping.uri},attrs:{link:t}})],1)})),0)],1):e._e(),e.mapping._registry?i("b-row",[i("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("schemeSelection.registryFilter"))+": ")]),i("b-col",[i("registry-info",{attrs:{registry:e.mapping._registry,"show-details":!1,"show-capabilities":!1}})],1)],1):e._e()],1)],1):e._e(),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("dataModal.button"),delay:e.defaults.delay.medium},expression:"{ title: $t('dataModal.button'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"dataModalButton",on:{click:function(t){return e.$refs.dataModal.show()}}},[i("font-awesome-icon",{attrs:{icon:"code"}})],1)]),e.mapping?i("data-modal",{ref:"dataModal",attrs:{data:e.mapping,url:e.mapping.uri,type:"mapping"}}):e._e(),e.mapping&&e.mapping.annotations&&e.mapping.annotations.length?i("data-modal",{ref:"dataModalAnnotations",attrs:{data:e.mapping.annotations,type:"annotation"}}):e._e()],1)},s=[],a=i("47b7"),o=i("68bc"),r=i("1757"),l=i("1f25"),c=i("9ecc"),p={name:"MappingDetail",components:{DataModal:a["a"],ItemName:o["a"],AutoLink:r["a"],AnnotationList:l["a"],RegistryInfo:c["a"]},props:{mapping:{type:Object,default:null}},methods:{show(){this.$refs.mappingDetail.show()},displayNameForConcordance(e){if(!e)return"";let t=this.$jskos.prefLabel(e,{fallbackToUri:!1})||this.$jskos.languageMapContent(e,"scopeNote")||e.uri||"";if(e.creator&&e.creator.length){let i=this.$jskos.prefLabel(e.creator[0],{fallbackToUri:!1});i&&(t+=` (${i})`)}return t}}},d=p,h=(i("cdbb"),i("2877")),g=Object(h["a"])(d,n,s,!1,null,"f653bea6",null);t["a"]=g.exports},"41cb":function(e,t,i){"use strict";var n=i("a026"),s=i("8c4f");n["default"].use(s["a"]);const a=new s["a"]({mode:"history"});t["a"]=a},4360:function(e,t,i){"use strict";var n=i("a026"),s=i("2f62");const a={scheme:{true:null,false:null},concept:{true:null,false:null},loadingId:{true:"",false:""},previousConcept:{true:null,false:null},nextConcept:{true:null,false:null}},o={clear(e,{kind:t,isLeft:i}){e[t][i]=null,"scheme"==t&&(e["concept"][i]=null)},set(e,{kind:t,isLeft:i,value:n,concept:s,scheme:a}){"both"==t?(e["scheme"][i]=a,e["concept"][i]=s):e[t][i]=n},setLoadingId(e,{isLeft:t,loadingId:i}={}){e.loadingId[t]=i},setPreviousConcept(e,{isLeft:t,concept:i}){e.previousConcept[t]=i},setNextConcept(e,{isLeft:t,concept:i}){e.nextConcept[t]=i}};var r={namespaced:!0,state:a,mutations:o},l=i("cf65"),c=i.n(l),p=i("2ef0"),d=i.n(p),h=i("371c"),g=i("a002"),u=i.n(g);const m="cocoda-mappingTrash--"+window.location.pathname,f={from:{memberSet:[]},to:{memberSet:[]},fromScheme:null,toScheme:null,type:[c.a.defaultMappingType.uri]},b={mapping:c.a.copyDeep(f),original:{uri:null,mapping:null,registry:null},mappingsNeedRefresh:!1,mappingsNeedRefreshRegistry:null,mappingTrash:[],mappingTrashLoaded:!1},v={fromTo(e){return e?"from":"to"},fromToScheme(e){return v.fromTo(e)+"Scheme"}},y={canAdd:e=>(t,i,n)=>null!=t&&!y.added(e)(t,n),added:e=>(t,i)=>{let n=v.fromTo(i),s=d.a.findIndex(e.mapping[n].memberSet,e=>c.a.compare(e,t));return-1!=s},checkScheme:e=>(t,i)=>{let n=y.getScheme(e)(i);return null==n||c.a.compare(n,t)},getConcepts:e=>t=>{if(d.a.isBoolean(t)){let i=v.fromTo(t);return c.a.conceptsOfMapping(e.mapping,i)}return c.a.conceptsOfMapping(e.mapping)},getScheme:e=>t=>e.mapping[v.fromToScheme(t)],hasChangedFromOriginal:(e,t,i,n)=>{if(!e.mapping)return!1;if(!e.original.uri)return!0;const s=n.getCurrentRegistry;if(!c.a.compare(e.original.registry,s))return!0;const a=e.original.mapping;let o=(e,t)=>{if(!e&&!t)return!0;if((e||[]).length!=(t||[]).length)return!1;let i=e&&e[0],n=t&&t[0];return!i&&!n||!(i&&!n||!i&&n)&&(i.uri==n.uri&&c.a.prefLabel(i)==c.a.prefLabel(n))};return!s.isAuthorizedFor({type:"mappings",action:"anonymous",user:i.auth.user})&&!o(e.mapping.creator,a.creator)||!c.a.compareMappings(a,e.mapping)},mappingTrash:(e,t,i)=>{let n=i.config,s=[];for(let a of e.mappingTrash){let e=n.registries.find(e=>c.a.compare(e,a.registry));s.push(Object.assign({},a,{registry:e}))}return s},canCreate:(e,t,i,n)=>{const s=n.getCurrentRegistry;return!!s&&(s.isAuthorizedFor({type:"mappings",action:"create",user:i.auth.user})&&!!e.mapping.fromScheme&&!!e.mapping.toScheme)},canUpdate:(e,t,i,n)=>{const s=n.getCurrentRegistry;if(!s||!c.a.compare(s,e.original.registry)||!e.mapping||!e.original.uri)return!1;const a=!c.a.userOwnsMapping(i.auth.user,e.original.mapping);return s.isAuthorizedFor({type:"mappings",action:"update",user:i.auth.user,crossUser:a})&&!!e.mapping.fromScheme&&!!e.mapping.toScheme},canDelete:(e,t,i,n)=>{const s=n.getCurrentRegistry;if(!s||!c.a.compare(s,e.original.registry)||!e.mapping||!e.original.uri)return!1;const a=!c.a.userOwnsMapping(i.auth.user,e.original.mapping);return s.isAuthorizedFor({type:"mappings",action:"delete",user:i.auth.user,crossUser:a})}},w={add(e,{concept:t,scheme:i,isLeft:n,cardinality:s="1-to-n"}){if(i=i||t.inScheme&&t.inScheme[0],!i)return;if(y.added(e)(t,n))return;let a=v.fromTo(n);"from"==a&&0!=e.mapping.from.memberSet.length||!y.checkScheme(e)(i,n)||"to"==a&&"1-to-1"==s?e.mapping[a].memberSet=[t]:e.mapping[a].memberSet.push(t),e.mapping[v.fromToScheme(n)]=i},remove(e,{concept:t,isLeft:i}){let n=v.fromTo(i),s=d.a.findIndex(e.mapping[n].memberSet,e=>c.a.compare(e,t));-1!=s&&(e.mapping[n].memberSet.splice(s,1),0==e.mapping[n].memberSet.length&&"from"==n&&(e.mapping[v.fromToScheme(i)]=null),0===c.a.conceptsOfMapping(e.mapping).length&&w.empty(e))},removeAll(e,{isLeft:t}){let i=v.fromTo(t);e.mapping[i].memberSet=[],e.mapping[v.fromToScheme(t)]=null},set(e,{mapping:t=null,original:i=null,registry:n=null}){t&&(e.mapping=t),n=n||d.a.get(i,"_registry"),i&&n?(e.original.uri=i.uri,e.original.mapping=i,e.original.registry=n):t||(e.original.uri=null)},empty(e){e.mapping=c.a.copyDeep(f),e.original.uri=null},setType(e,{uri:t}){e.mapping.type=[t]},setCreator(e,{creator:t}){t&&!d.a.isArray(t)&&(t=[t]),t&&0!=t.length?e.mapping.creator=t:n["default"].delete(e.mapping,"creator")},setContributor(e,{contributor:t}){t&&!d.a.isArray(t)&&(t=[t]),t&&0!=t.length?e.mapping.contributor=t:n["default"].delete(e.mapping,"contributor")},setScheme(e,{isLeft:t=!0,scheme:i}){0==y.getConcepts(e)(t).length&&(e.mapping[v.fromToScheme(t)]=i)},switch(e){Object.assign(e.mapping,{from:e.mapping.to,to:e.mapping.from,fromScheme:e.mapping.toScheme,toScheme:e.mapping.fromScheme}),"http://www.w3.org/2004/02/skos/core#narrowMatch"==e.mapping.type[0]?e.mapping.type[0]="http://www.w3.org/2004/02/skos/core#broadMatch":"http://www.w3.org/2004/02/skos/core#broadMatch"==e.mapping.type[0]&&(e.mapping.type[0]="http://www.w3.org/2004/02/skos/core#narrowMatch")},setIdentifier(e){e.mapping.fromScheme&&e.mapping.toScheme&&(e.mapping=c.a.addMappingIdentifiers(e.mapping))},setRefresh(e,{refresh:t=!0,registry:i}={}){e.mappingsNeedRefreshRegistry=t&&i?i:null,e.mappingsNeedRefresh=t},setTrash(e,{trash:t}={}){e.mappingTrash=t,e.mappingTrashLoaded=!0},addToTrash(e,{mapping:t,registry:i}={}){let n={mapping:c.a.minifyMapping(t),registry:{uri:i.uri}};e.mappingTrash=[n].concat(e.mappingTrash),e.mappingTrash.length>10&&(e.mappingTrash=e.mappingTrash.slice(0,10))},removeFromTrash(e,{uri:t}={}){e.mappingTrash=e.mappingTrash.filter(e=>e.mapping.uri!=t)},clearTrash(e){e.mappingTrash=[]}},k={loadMappingTrash({commit:e}){return u.a.getItem(m).then(t=>{e(t?{type:"setTrash",trash:t}:{type:"setTrash",trash:[]})})},restoreMappingFromTrash({state:e,rootState:t,commit:i},{uri:n}){let s=t.config,a=e.mappingTrash.find(e=>e.mapping.uri==n),o=s.registries.find(e=>c.a.compare(e,a&&a.registry));return a&&o?o.postMapping({mapping:a.mapping}).then(e=>(e&&(i({type:"removeFromTrash",uri:n}),i({type:"setRefresh",registry:o.uri})),e)):(h["a"].warn("Tried to restore mapping from trash, but could not find item or determine provider.",a),Promise.resolve(null))}};var S={namespaced:!0,state:b,getters:y,mutations:w,actions:k};const $={alerts:[]},_={add(e,t){t.variant=t.variant||"warning",t.countdown=null!=t.countdown?t.countdown:5;let i=!0;t.countdown&&-1!=t.countdown||(i=!1),t.shouldCountdown=i,e.alerts.push(t)},setCountdown(e,{alert:t,countdown:i}){t.countdown=i,t.shouldCountdown=!0}};var C={namespaced:!0,state:$,mutations:_},M=i("67b8"),L=i.n(M);let R;const x={available:!1,authorized:!1,user:void 0,connected:!1,providers:[],about:{},tokenTimeout:null};let T={window:null,eventType:null};const I={set(e,{prop:t,value:i=null}){e[t]=i},openWindow(e,{url:t,eventType:i}){T.window=window.open(t),T.eventType=i},closeWindow(e,{eventType:t}){T.window&&T.eventType==t&&setTimeout(()=>{T.window&&T.window.close(),T.window=null},100)}},D={init({commit:e,state:t,rootState:i},n){return new Promise(s=>{let a=n.startsWith("https");n=n.replace("http://","").replace("https://",""),R=new L.a(n,{ssl:a});let o=i.config.registries.filter(e=>e.has.auth);R.addEventListener(null,i=>{switch(e({type:"closeWindow",eventType:i.type}),i.type){case L.a.events.connect:s(),e({type:"set",prop:"connected",value:!0});break;case L.a.events.disconnect:s(),e({type:"set",prop:"connected",value:!1});break;case L.a.events.login:e({type:"set",prop:"user",value:i.user});break;case L.a.events.logout:e({type:"set",prop:"user",value:null}),e({type:"set",prop:"authorized",value:!1});break;case L.a.events.update:e({type:"set",prop:"user",value:i.user});break;case L.a.events.about:i.type=void 0,e({type:"set",prop:"about",value:i});for(let e of o)e.setAuth({key:i.publicKey});break;case L.a.events.providers:e({type:"set",prop:"providers",value:i.providers});break;case L.a.events.token:t.tokenTimeout&&clearTimeout(t.tokenTimeout);for(let e of o)e.setAuth({bearerToken:i.token});e({type:"set",prop:"authorized",value:!0}),e({type:"set",prop:"tokenTimeout",value:setTimeout(()=>{e({type:"set",prop:"authorized",value:!1});for(let e of o)e.setAuth({bearerToken:null})},1e3*i.expiresIn)});break;case L.a.events.error:s(),h["a"].error("LoginClient error:",i.error);break}}),R.connect(),e({type:"set",prop:"available",value:!0})})},setName(e,t){return R.setName(t).then(()=>!0).catch(()=>!1)}};var j={namespaced:!0,state:x,mutations:I,actions:D},B=i("b94b");const A="cocoda-settings--"+window.location.pathname;let N={creator:"",creatorUri:"",mappingBrowserShowRegistry:{},minimized:{},flex:{},typesForSchemes:{},locale:window.navigator.language||"en",favoriteConcepts:[],favoriteSchemes:null,mappingRegistry:null,conceptListChoice:{[!0]:0,[!1]:0},components:{},checkForUpdates:!0,hasWrittenIntoLocalMappings:!1};for(let ne of Object.keys(B)){N.components[ne]={};for(let e of Object.keys(B[ne]))B[ne][e].sideDependent?(N.components[ne][e]={},N.components[ne][e][!0]=B[ne][e].default,N.components[ne][e][!1]=B[ne][e].default):N.components[ne][e]=B[ne][e].default}const F={settings:N,componentSettings:B,loaded:!1},O={save(e,{settings:t}){e.loaded?(e.settings=t,u.a.setItem(A,t)):h["a"].warn("Tried to save settings before they were loaded.")},set(e,{prop:t,value:i}){e.loaded?(d.a.set(e.settings,t,i),u.a.setItem(A,e.settings)):h["a"].warn("Tried to save settings before they were loaded.")},setComponentSetting(e,{component:t,setting:i,isLeft:n,value:s}){e.loaded?(void 0!==n?d.a.set(e.settings.components[t][i],n,s):d.a.set(e.settings.components[t],i,s),u.a.setItem(A,e.settings)):h["a"].warn("Tried to save settings before they were loaded.")},loaded(e,{loaded:t=!0}){e.loaded=t}},E={load({commit:e}){return u.a.getItem(A).then(t=>{let i=Object.assign({},N,t||{});e({type:"loaded"});for(let e of Object.keys(N.components)){i.components[e]||(i.components[e]={});for(let t of Object.keys(N.components[e]))void 0===i.components[e][t]&&(i.components[e][t]=N.components[e][t])}e({type:"save",settings:i})})}};var z={namespaced:!0,state:F,mutations:O,actions:E},P=i("622d"),U=i("bc3a"),W=i.n(U);let V=i("726b");var H=V,K=i("79fa"),G=i("ca6b"),q=i.n(G);const J={headers:{"Cache-Control":"no-cache"}};let Z;try{Z=i("2948")}catch(ie){Z={}}var Q={async loadConfig({commit:e,dispatch:t},i){let n,s;i||(i="./cocoda.json");try{s=(await W.a.get(i,J)).data}catch(ie){s=null}if(!s)try{s=(await W.a.get(i)).data}catch(ie){s=null}if(d.a.isObject(s)||(h["a"].error(`Error loading config from ${i}: Data is not an object.`),s={error:"malformedConfig"}),n=Object.assign({configFile:i},H,s),!n.overrideRegistries){n.registries=[].concat(s.registries||[],H.registries||[]);let e=[];for(let t of n.registries){let i=e.findIndex(e=>e.uri==t.uri);-1==i&&e.push(t)}n.registries=e}if(n.registries){n.terminologyProviders=[],n.mappingProviders=[],n.occurrenceProviders=[];for(let e of n.registries){let t=e.provider||"";t.endsWith("ConceptApi")?(e.url=e.baseUrl,e.voc=e.schemes,n.terminologyProviders.push(e)):t.endsWith("MappingsApi")?(e.url=e.mappings,n.mappingProviders.push(e)):t.endsWith("OccurrencesApi")&&(e.url=e.occurrences,n.occurrenceProviders.push(e))}}for(let c of n.registries)"SearchSuggestion"==c.provider&&(c.provider="LabelSearchSuggestion"),"OccurrencesApi"==c.provider&&!c.api&&c.occurrences&&(c.api=c.occurrences,delete c.occurrences),"ReconciliationApi"==c.provider&&!c.api&&c.reconcile&&(c.api=c.reconcile,delete c.reconcile);let a=n.registries.length;for(let c of n.registries)c.priority=a,a-=1;n.registries=n.registries.filter(e=>null!=e.provider),n.registries.length||n.error||(n.error="noRegistries");let o=[];for(let c of(H.shortcuts||[]).concat(s.shortcuts||[])){let e=o.find(e=>e.id===c.id);o=d.a.pullAllBy(o,[c],"id"),o.push(d.a.defaults(c,e||{}))}n.shortcuts=o,n.searchLinks=[].concat(H.searchLinks||[],s.searchLinks||[]),n.buildInfo=Z,n.auth&&!n.auth.endsWith("/")&&(n.auth+="/");const r=(e,t)=>{const i=e.split(".").map(e=>parseInt(e)),n=t.slice(t.startsWith("^")?1:0).split(".").map(e=>parseInt(e));return t.startsWith("^")?i[0]==n[0]&&!(i[1]<n[1]):i[0]==n[0]&&i[1]==n[1]};q.a.setConfig(n),await Promise.all(n.registries.map(e=>e.init()));let l=[];for(let c of n.registries)if(Z.jskosApi&&c._config&&c._config.version&&!r(c._config.version,Z.jskosApi)){const t=K["a"].t("alerts.versionMismatch",{registryLabel:c.prefLabel.en||c.prefLabel.de,registryUri:c.uri,registryVersion:c._config.version,jskosApi:Z.jskosApi});h["a"].warn(t),e("alerts/add",{variant:"danger",text:t},{root:!0})}else{if(l.find(e=>"LocalMappings"==e.constructor.providerName)&&"LocalMappings"==c.constructor.providerName){h["a"].error("There are multiple registries for LocalMappings configured. This is not supported. Please remove any additional registries for LocalMappings.");continue}l.push(c)}return n.registries=l,n.conceptLists=await t("loadConceptLists",n.conceptLists),n.autoRefresh=Object.assign(H.autoRefresh,n.autoRefresh||{}),e({type:"setConfig",config:n}),e({type:"setConfigLoaded"}),n},addSchemeToFavorites({commit:e,getters:t},i){i&&i.uri&&(c.a.isContainedIn(i,t.favoriteSchemes.map(e=>{}))||e({type:"settings/set",prop:"favoriteSchemes",value:t.favoriteSchemes.concat([i.uri])}))},removeSchemeFromFavorites({commit:e,getters:t},i){e({type:"settings/set",prop:"favoriteSchemes",value:t.favoriteSchemes.filter(e=>!c.a.compare({uri:e},i))})},addConceptToFavorites({commit:e,getters:t},i){if(i&&i.uri)if(c.a.isConcept(i)){if(!c.a.isContainedIn(i,t.favoriteConcepts)){let n=d.a.pick(c.a.copyDeep(i),["uri","notation","inScheme"]);n.inScheme=n.inScheme.map(e=>({uri:e.uri})),e({type:"settings/set",prop:"favoriteConcepts",value:t.favoriteConcepts.concat([n])})}}else{const t=K["a"].t("alerts.favoriteConceptsNonConcept");e("alerts/add",{variant:"danger",text:t},{root:!0})}},removeConceptFromFavorites({commit:e,getters:t},i){e({type:"settings/set",prop:"favoriteConcepts",value:t.favoriteConcepts.filter(e=>!c.a.compare(i,e))})},async loadConceptLists({state:e},t){let i=[];for(let n of t||e.config&&e.config.conceptLists||[])if(d.a.isString(n)&&(n={url:n}),n.url){try{let e=n.url;n=(await W.a.get(e,J)).data,n.url=e}catch(ie){h["a"].warn("Could not load list from URL:",n)}n&&i.push(n)}else i.push(n);for(let n of i){if(d.a.isString(n.concepts)&&(n.conceptsUrl=n.concepts),n.conceptsUrl){let e=n.conceptsUrl;try{let t=(await W.a.get(e,J)).data;n.concepts=t}catch(ie){h["a"].warn("Could not load concepts for list with URL:",e),n.concepts=[]}n.conceptsUrl=e}else n.concepts=n.concepts||[];let e=(n.schemes||[])[0];if(e)for(let t of n.concepts)t.inScheme&&0!=t.inScheme.length||(t.inScheme=[e])}return i}};n["default"].use(s["a"]);const Y={loading:0,config:{},configLoaded:!1,hoveredConcept:null,draggedConcept:null,hoveredMapping:null,mousePosition:{x:0,y:0}},X={favoriteSchemes:e=>e.settings.settings.favoriteSchemes||e.config.favoriteSchemes,favoriteConcepts:e=>(e.settings.settings.favoriteConcepts||[]).map(e=>d.a.pick(e,["uri","notation","inScheme"])),authAvailable:e=>null!=e.config.registries.find(e=>e.auth),getCurrentRegistry:e=>{let t=e.config.registries.find(t=>c.a.compare(t,{uri:e.settings.settings.mappingRegistry}));return t||(t=e.config.registries.find(t=>t.isAuthorizedFor({type:"mappings",action:"create",user:e.auth.user}))),t||(t=e.config.registries.find(e=>d.a.get(e,"has.mappings.create"))),t},creator:e=>{let t={},i=e.settings.settings.creator,n=e.settings.settings.creatorUri;return c.a.isValidUri(n)||(n=null),n&&(t.uri=n),i&&(t.prefLabel={en:i}),t},mappedStatus:e=>(t,i)=>!!d.a.get(t,"__MAPPED__",[]).find(t=>t.exist.length&&c.a.compare(t.registry,X.getCurrentRegistry(e))&&c.a.compare(t.scheme,e.selected.scheme[!i])),languages:e=>{const t=["en","de"];return e.configLoaded?[e.settings.settings.locale].concat(e.config.languages||t):t}},ee={setConfig(e,{config:t,option:i,value:n}){t?e.config=t:e.config[i]=n},setConfigLoaded(e){e.configLoaded=!0},setHoveredConcept(e,{concept:t}){e.hoveredConcept=t},setDraggedConcept(e,{concept:t}){e.draggedConcept=t},setHoveredMapping(e,{mapping:t}){e.hoveredMapping=t},setMousePosition(e,{x:t,y:i}){e.mousePosition={x:t,y:i}},setLoading(e,{value:t}){t?e.loading+=1:e.loading-=1}},te=new s["a"].Store({modules:{selected:r,mapping:S,alerts:C,auth:j,settings:z},plugins:P["a"],state:Y,getters:X,mutations:ee,actions:Q});document.onmousemove=d.a.throttle(e=>{te.commit({type:"setMousePosition",x:e.pageX,y:e.pageY})},200);t["a"]=te},"438a":function(e,t,i){"use strict";i("fc0e")},"47b7":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-modal",{ref:"dataModal",staticClass:"fontSize-normal",attrs:{title:e.$t("dataModal.title")+" ("+e.numberText+")",centered:"","hide-footer":"",size:"lg"}},[i("table",{staticClass:"dataModal-links"},[e.count>0?i("tr",[i("td",{staticClass:"fontWeight-heavy text-right"},[e._v(" "+e._s(e.$t("dataModal.localDownload"))+" ("+e._s(e.count.toLocaleString())+") ")]),i("td",[i("ul",{staticClass:"list-group list-group-horizontal"},[e.encodedDataCsv?i("li",{staticClass:"list-group-item py-2 border-0"},[i("a",{attrs:{href:"data:text/csv;charset=utf-8,"+e.encodedDataCsv,download:e.filename+".csv",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" .csv ")],1)]):e._e(),i("li",{staticClass:"list-group-item py-2 border-0"},[i("a",{attrs:{href:"data:application/json;charset=utf-8,"+e.encodedData,download:e.filename+".json",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" .json ")],1)]),e.encodedDataNdjson?i("li",{staticClass:"list-group-item py-2 border-0"},[i("a",{attrs:{href:"data:application/json;charset=utf-8,"+e.encodedDataNdjson,download:e.filename+".ndjson",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" .ndjson ")],1)]):e._e(),i("li",{staticClass:"list-group-item py-2 border-0"},[i("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.copyToClipboard(e.$refs.jsonCode)}}},[i("font-awesome-icon",{attrs:{icon:"clipboard"}}),e._v(" "+e._s(e.$t("dataModal.exportClipboard"))+" ")],1)])])])]):e._e(),e.url?i("tr",[i("td",{staticClass:"fontWeight-heavy text-right"},[e._v(" "+e._s(e.$t("dataModal.apiLinks"))+" ("+e._s((e.totalCount||e.count).toLocaleString())+") ")]),i("td",[i("ul",{staticClass:"list-group list-group-horizontal list-group-flush"},[e._l(Object.keys(e.urls),(function(t,n){return i("li",{key:"dataModal-links-urls-"+n,staticClass:"list-group-item py-2 border-0"},[i("a",{attrs:{href:e.urls[t],target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" "+e._s(t||e.$t("dataModal.apiUrl"))+" ")],1)])})),e._l(e.apiDownloadUrls,(function(t,n){return i("li",{key:"dataModal-links-apiDownload-"+n,staticClass:"list-group-item py-2 border-0"},[i("a",{attrs:{href:t.url,target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" "+e._s(t.title)+" ")],1)])}))],2)])]):e._e()]),i("div",{staticClass:"dataModal-json"},[i("pre",[i("code",{ref:"jsonCode",domProps:{innerHTML:e._s(e.jsonHtml)}})])])])},s=[],a=i("2ef0"),o=i.n(a),r=i("efd0"),l=i.n(r),c=i("616f"),p={name:"DataModal",components:{},mixins:[c["a"]],props:{data:{type:[Object,Array],default:null},type:{type:String,default:null,validator:function(e){return-1!==["concept","scheme","mapping","annotation","concordance"].indexOf(e)}},url:{type:[String,Object],default:null},totalCount:{type:Number,default:null}},data(){return{}},computed:{computedType(){return this.type||(this.$jskos.isConcept(this.isArray?this.data[0]:this.data)?"concept":this.$jskos.isScheme(this.isArray?this.data[0]:this.data)?"scheme":null)},count(){return o.a.isArray(this.data)?this.data.length:this.data?1:0},numberText(){let e=this.count;return this.totalCount&&e!=this.totalCount?`${e.toLocaleString()} ${this.$t("general.of")} `+this.$tc("dataModal."+this.computedType,this.totalCount,{count:this.totalCount.toLocaleString()}):this.$tc("dataModal."+this.computedType,e,{count:e})},isArray(){return o.a.isArray(this.data)},filename(){let e=this.computedType||"resource";return this.isArray&&(e+="s"),e},preparedData(){if(null==this.data)return null;let e=this.data;this.isArray||(e=[this.data]);let t=[];for(let i of e){let e;"mapping"==this.computedType?(e=this.$jskos.minifyMapping(i),e=this.$jskos.addMappingIdentifiers(e)):(e=this.$jskos.copyDeep(i),e=o.a.pick(e,o.a.keys(e).filter(t=>null!=e[t]))),e&&t.push(e)}return this.isArray?t:t[0]},jsonData(){return JSON.stringify(this.preparedData,null,2)},jsonHtml(){return l()(this.preparedData)},encodedData(){return encodeURIComponent(this.jsonData)},encodedDataNdjson(){let e=this.preparedData;return this.isArray||(e=[this.preparedData]),encodeURIComponent(e.map(e=>JSON.stringify(e)).join("\n"))},encodedDataCsv(){if(!this.computedType.startsWith("mapping"))return null;let e=this.preparedData;this.isArray||(e=[e]);let t=this.$jskos.mappingCSV({lineTerminator:"\r\n",labels:!0,creator:!0,language:"de"});e=e.map(e=>this.$jskos.copyDeep(e));for(let i of e){for(let e of this.$jskos.conceptsOfMapping(i)){let t=this.getObject(e),i=this.$jskos.languagePreference.selectLanguage(o.a.get(t,"prefLabel"));i&&(e.prefLabel={de:o.a.get(t.prefLabel,i)})}i.creator&&i.creator[0]&&(i.creator[0].prefLabel={de:this.$jskos.prefLabel(i.creator[0],{fallbackToUri:!1})})}return encodeURIComponent(t.fromMappings(e))},validated(){let e=this.computedType,t=o.a.get(this.$jskos.validate,e,this.$jskos.validate&&this.$jskos.validate.resource);if(!this.preparedData||!t)return!1;let i=!0;for(let n of this.isArray?this.preparedData:[this.preparedData])i=i&&t(n);return i},urls(){return o.a.isObject(this.url)?this.url:{"":this.url}},apiDownloadUrls(){if(!this.url)return[];if("mapping"!==this.type&&"concordance"!==this.type)return[];let e=[];for(let i of["json","ndjson"])for(let n of Object.keys(this.urls)){const s=this.urls[n];try{let t=new URL(s.startsWith("http")?s:location.protocol+s);t.searchParams.set("download",i),e.push({url:t,type:i,title:n?`${n} (.${i})`:"."+i})}catch(t){}}return e}},watch:{},methods:{show(){this.$refs.dataModal.show()}}},d=p,h=(i("a106"),i("2877")),g=Object(h["a"])(d,n,s,!1,null,"62827e68",null);t["a"]=g.exports},"4a22":function(e,t,i){"use strict";i("35f7")},"4e49":function(e,t,i){},5040:function(e,t,i){"use strict";i("8c91")},5144:function(e,t,i){"use strict";i("3341")},5635:function(e,t,i){"use strict";t["a"]={mounted(){document.addEventListener("click",this.handleClick)},destroyed(){document.removeEventListener("click",this.handleClick)},methods:{handleClick(e){for(let t of this.clickHandlers()){let i=(t.elements||[]).reduce((t,i)=>t||i&&i.contains(e.target),!1);i||t.handler(e)}},clickHandlers(){return[]}}}},"564d":function(e,t,i){"use strict";t["a"]={computed:{selected(){return this.$store.state.selected},config(){return this.$store.state.config},$settings(){return this.$store.state.settings.settings},settingsLoaded(){return this.$store.state.settings.loaded},configLoaded(){return this.$store.state.configLoaded},componentName(){return this.$options.name},componentSettings(){return this.settingsLoaded&&this.$settings.components&&this.$settings.components[this.componentName]||{}},loadingGlobal:{get(){return this.$store.state.loading},set(e){this.$store.commit({type:"setLoading",value:e})}},locale(){return this.$i18n.locale}}}},"56d7":function(e,t,i){"use strict";i.r(t);var n=i("a026"),s=i("5f5b"),a=i("cf65"),o=i.n(a),r=i("371c"),l=i("4360"),c=i("1ac7"),p=i("ecee"),d=i("c074"),h=i("f2d1"),g=i("ad3d"),u=i("2ef0"),m=i.n(u),f=i("21a6"),b=i.n(f),v={data(){return{defaults:{delay:{short:{show:250,hide:0},medium:{show:500,hide:0},long:{show:1e3,hide:0}},licenseBadges:{"http://creativecommons.org/publicdomain/zero/1.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/cc-zero.svg","http://creativecommons.org/licenses/by/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by.svg","http://creativecommons.org/licenses/by-nc-nd/3.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-nd/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-nd.svg","http://creativecommons.org/licenses/by-nc-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-nc-sa.svg","http://creativecommons.org/licenses/by-sa/4.0/":"https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg","http://opendatacommons.org/licenses/odbl/1.0/":"https://img.shields.io/badge/License-ODbL-lightgrey.svg","http://www.wtfpl.net/":"https://img.shields.io/badge/License-WTFPL-lightgrey.svg"}}}},methods:{getProvider(e){return m.a.get(e,"_registry")||m.a.get(e,"inScheme[0]._registry")},toggleMinimize(){for(let e of this.$children)e.toggleMinimize()},refresh(e){this.$parent&&this.$parent.refresh(e)},getRouterUrl(e,t,i=!1){let n=m.a.cloneDeep(this.$route.query),s=t?"from":"to";if(e)if(o.a.isScheme(e)||!e.inScheme)delete n[s],n[s+"Scheme"]=e.uri;else{let a=m.a.get(e,"inScheme[0]");i||null==this.$store.state.selected.scheme[t]||this.$jskos.compare(this.$store.state.selected.scheme[t],a)||(this.$jskos.compare(this.$store.state.selected.scheme[!t],a)||null==this.$store.state.selected.scheme[!t])&&(s="from"==s?"to":"from"),n[s+"Scheme"]=m.a.get(e,"inScheme[0].uri"),n[s]=e.uri}else delete n[s],delete n[s+"Scheme"];let a="?";return m.a.forOwn(n,(e,t)=>{a+=`${t}=${encodeURIComponent(e)}&`}),a.substring(0,a.length-1)},setSelected({concept:e,scheme:t,isLeft:i,noQueryRefresh:n=!1,noLoading:s=!1}={}){let a=e=>{e&&this.loadTypes(e)},r=this.generateID();this.$store.commit({type:"selected/setLoadingId",isLeft:i,loadingId:r}),s||(this.loadingGlobal=!0);const l=(()=>{if(t=m.a.get(e,"inScheme[0]")||t,o.a.compare(e,this.$store.state.selected.concept[i])&&o.a.compare(t,this.$store.state.selected.scheme[i]))return Promise.resolve(!0);if(t&&!e){let e="both";return t?(this.$store.commit({type:"selected/set",kind:e,isLeft:i,scheme:t,concept:null,noQueryRefresh:n}),a(t),this.loadTop(t).then(()=>!0)):(this.$log.error("setSelected: could not find scheme in store."),Promise.resolve(!1))}if(e){let s="concept";if(!t)return this.$log.error("setSelected: could not find scheme for concept in store."),Promise.resolve(!1);if(!e)return this.$log.error("setSelected: critical error when getting/saving concept from store."),Promise.resolve(!1);let l=[];return o.a.compare(t,this.$store.state.selected.scheme[i])||(s="both",l.push(this.loadTop(t))),l.push(this.loadConcepts([e]).catch(()=>{})),l.push(this.loadNarrower(e).catch(()=>{})),l.push(this.loadAncestors(e).catch(()=>{})),Promise.all(l).then(()=>{if(a(t),e&&e.ancestors)for(let t of e.ancestors)this.loadNarrower(t);if(e&&e.broader&&!e.__BROADERLOADED__){let i=[];this.adjustConcept(e);for(let n of e.broader.filter(e=>null!=e))i.push(this.loadConcepts([n],{scheme:t}));Promise.all(i).then(()=>{this.adjustConcept(e),this.$set(e,"__BROADERLOADED__",!0)})}return e&&e.narrower&&this.loadConcepts(e.narrower.filter(e=>null!=e)).catch(()=>{}).then(()=>{this.adjustConcept(e)}),r==this.$store.state.selected.loadingId[i]&&(this.$store.commit({type:"selected/set",kind:s,isLeft:i,concept:e,scheme:t,value:e,noQueryRefresh:n}),!0)})}return null!=i?(this.$store.commit({type:"selected/clear",kind:"scheme",isLeft:i,noQueryRefresh:n}),Promise.resolve(!0)):(this.$log.error("setSelected: called with no valid concept or scheme."),Promise.resolve(!1))})();return l.catch(()=>!1).then(e=>(s||(this.loadingGlobal=!1),e))},addToMapping(e){e.type="mapping/add",e.cardinality=this.$store.state.settings.settings.components.MappingEditor.only1to1mappings?"1-to-1":"1-to-n";const t=m.a.get(this.$store.getters.getCurrentRegistry,"config.mappings.cardinality");"1-to-1"==t&&(e.cardinality=t),this.$store.commit(e)},alert(e,t,i,n,s){this.$store.commit({type:"alerts/add",text:e,countdown:t,variant:i,buttonText:n,buttonHandler:s})},copyToClipboard(e){let t;t=m.a.isString(e)?document.getElementById(e):e;try{window.getSelection().removeAllRanges();const e=e=>{var t,i;window.getSelection&&document.createRange?(t=window.getSelection(),""==t.toString()&&(i=document.createRange(),i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i))):document.selection&&(t=document.selection.createRange(),""==t.text&&(i=document.body.createTextRange(),i.moveToElementText(e),i.select()))};e(t);let i=document.execCommand("copy");i||this.$log.warn("Copy to clipboard failed."),window.getSelection().removeAllRanges()}catch(i){this.$log.warn("Copy to clipboard failed.")}},open(e,t,i){if(!e)return;let n=Object.assign({},e.__ISOPEN__);n[t]=i,this.$set(e,"__ISOPEN__",n)},isMouseOver(e){e||(e=this.$el);let{x:t,y:i}=this.$store.state.mousePosition,n=e.getBoundingClientRect();return t>=n.left&&t<=n.right&&i>=n.top&&i<=n.bottom},downloadFile(e,t){var i=new Blob([t],{type:"text/plain;charset=utf-8"});b.a.saveAs(i,e)},generateID(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},getNotation(e,t,i=!1){let n=o.a.notation(e,t);if(i){let t="";if(o.a.compare({uri:"http://dewey.info/scheme/edition/e23/",identifier:["http://bartoc.org/en/node/241","http://bartoc.org/en/node/18497","http://www.wikidata.org/entity/Q67011877","http://id.loc.gov/vocabulary/classSchemes/sdnb","http://uri.gbv.de/terminology/sdnb"]},m.a.get(e,"inScheme[0]"))&&!isNaN(parseInt(n)))while(n.length+t.length<3)t+="0";t.length&&(n+=`<span class='notation-fill text-mediumLightGrey'>${t}</span>`)}return n},hash(e){for(var t=2166136261,i=t,n=0;n<e.length;++n)i^=e.charCodeAt(n),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return("0000000"+(i>>>0).toString(16)).substr(-8)},dateToString(e,t=!1){let i=new Date(e),n={year:"numeric",month:"short",day:"numeric"},s=Object.assign({hour:"2-digit",minute:"2-digit",second:"2-digit"},n);return i instanceof Date&&!isNaN(i)?e.length<8?e:t?i.toLocaleDateString(void 0,n):i.toLocaleString(void 0,s):"?"},getErrorMessage(e){let t="cdkErrors."+e.name;this.$te(t)||(t="cdkErrors.CDKError");let i=""+this.$t(t);return e.message&&(i+=` (${e.message})`),i}}};n["default"].config.productionTip=!1,n["default"].use(s["a"]);var y=i("f13c");n["default"].use(y),n["default"].prototype.$jskos=o.a,n["default"].prototype.$log=r["a"];const w="getters.languages";o.a.languagePreference.store=l["a"],o.a.languagePreference.path=w,n["default"].component("tabs",c["b"]),n["default"].component("tab",c["a"]),p["c"].add(d["Z"]),p["c"].add(d["P"]),p["c"].add(d["y"]),p["c"].add(d["cb"]),p["c"].add(d["bb"]),p["c"].add(d["b"]),p["c"].add(d["d"]),p["c"].add(d["c"]),p["c"].add(d["H"]),p["c"].add(d["G"]),p["c"].add(d["x"]),p["c"].add(d["w"]),p["c"].add(d["Y"]),p["c"].add(d["db"]),p["c"].add(d["I"]),p["c"].add(d["E"]),p["c"].add(d["fb"]),p["c"].add(d["V"]),p["c"].add(d["D"]),p["c"].add(d["r"]),p["c"].add(d["s"]),p["c"].add(d["u"]),p["c"].add(d["i"]),p["c"].add(d["F"]),p["c"].add(d["t"]),p["c"].add(d["v"]),p["c"].add(d["U"]),p["c"].add(d["eb"]),p["c"].add(d["g"]),p["c"].add(d["gb"]),p["c"].add(d["Q"]),p["c"].add(d["l"]),p["c"].add(d["m"]),p["c"].add(d["K"]),p["c"].add(d["L"]),p["c"].add(d["C"]),p["c"].add(d["M"]),p["c"].add(d["N"]),p["c"].add(d["B"]),p["c"].add(h["a"]),p["c"].add(d["R"]),p["c"].add(d["z"]),p["c"].add(d["W"]),p["c"].add(d["T"]),p["c"].add(d["j"]),p["c"].add(d["k"]),p["c"].add(d["p"]),p["c"].add(d["a"]),p["c"].add(d["q"]),p["c"].add(d["A"]),p["c"].add(d["S"]),p["c"].add(d["o"]),p["c"].add(d["n"]),p["c"].add(d["O"]),p["c"].add(d["f"]),p["c"].add(d["e"]),p["c"].add(d["ab"]),p["c"].add(d["J"]),p["c"].add(d["X"]),p["c"].add(d["h"]),n["default"].component("font-awesome-icon",g["a"]),n["default"].mixin(v)},"5d13":function(e,t,i){},"616f":function(e,t,i){"use strict";var n=i("cf65"),s=i.n(n),a=i("ca6b"),o=i.n(a),r=i("2ef0"),l=i.n(r),c=i("564d");let p={},d={},h=[],g=[],u=[],m=[];t["a"]={mixins:[c["a"]],data(){return{objects:p,topConcepts:d,loadingConcepts:h,erroredConcepts:g,schemes:u,concordances:m}},computed:{favoriteSchemes(){let e=[];if(this.schemes.length)for(let t of this.$store.getters.favoriteSchemes){let i=this.getObject({uri:t});i&&!this.$jskos.isContainedIn(i,e)&&e.push(i)}return e},favoriteConcepts(){let e=[];if(this.schemes.length)for(let t of this.$store.getters.favoriteConcepts){let i=this.saveObject(t,{type:"concept"});e.push(i)}return this.loadConcepts(e.filter(e=>!e.__DETAILSLOADED__)),e},localMappingsRegistry(){return this.config.registries.find(e=>"LocalMappings"==e.constructor.providerName)},currentRegistry(){return this.$store.getters.getCurrentRegistry},mappingRegistries(){let e=this.config.registries.filter(e=>e.has.mappings||e.has.occurrences);return e},showRegistry(){let e={};for(let t of this.mappingRegistries)Object.defineProperty(e,t.uri,{get:()=>{let e=this.$settings.mappingBrowserShowRegistry[t.uri];return null==e||e},set:e=>{!e&&this.$jskos.compare(t,this.currentRegistry)||(this.$store.commit({type:"settings/set",prop:"mappingBrowserShowRegistry",value:Object.assign({},this.$settings.mappingBrowserShowRegistry,{[t.uri]:e})}),this.$store.commit("mapping/setRefresh",{registry:t.uri}))}});return e}},methods:{adjustConcept(e){if(!e)throw new Error("Can't adjust object that is null or undefined.");for(let t of["ancestors","broader","narrower"])e[t]&&e[t].forEach((i,n)=>{null!=i&&(i=this.saveObject(i,{type:"concept",scheme:l.a.get(e,"inScheme[0]")}),i.inScheme||this.$set(i,"inScheme",e.inScheme),this.$set(e[t],n,i))})},saveObject(e,t={}){if(!e||!e.uri)throw new Error("Can't save object that is null or undefined or that doesn't have a URI.");let i=this.getObject(e);if(e===i)return e;if(i){for(let n of Object.keys(e))if((l.a.isEmpty(i[n])||Array.isArray(i[n])&&i[n].includes(null))&&null!=e[n]&&!l.a.isEqual(i[n],e[n])||l.a.isArray(i[n])&&l.a.isArray(e[n])&&e[n].length>i[n].length)this.$set(i,n,e[n]);else if(!l.a.isArray(i[n])&&!l.a.isArray(e[n])&&l.a.isObject(i[n])&&l.a.isObject(e[n]))for(let t of Object.keys(e[n]))i[n][t]||(i[n][t]=e[n][t])}else{e=s.a.deepCopy(e);let i=t.type||(s.a.isScheme(e)?"scheme":"concept");e.__DETAILSLOADED__=null!=e.__DETAILSLOADED__?e.__DETAILSLOADED__:0,e.__SAVED__=!0,"scheme"==i&&(e.type=e.type||["http://www.w3.org/2004/02/skos/core#ConceptScheme"],this.topConcepts[e.uri]||this.$set(this.topConcepts,e.uri,[null])),"concept"==i&&(e.type=e.type||["http://www.w3.org/2004/02/skos/core#Concept"],e.__ISOPEN__={true:!1,false:!1},e.inScheme=e.inScheme||[t.scheme],e.inScheme=e.inScheme.map(e=>this.getObject(e)).filter(e=>null!=e).sort((e,t)=>e.__SAVED__?-1:t.__SAVED__?1:0),0==e.inScheme.length&&this.$log.warn(e,e.uri+": inScheme has no elements",e.inScheme.slice(),"with scheme",t.scheme));let n=s.a.getAllUris(e);for(let t of n)this.$set(this.objects,t,e);this.adjustConcept(e);let a=l.a.get(e,"_registry")||l.a.get(this.getObject(l.a.get(e,"inScheme[0]")),"_registry")||t.provider;a&&("scheme"==i&&a.adjustSchemes([e]),"concept"==i&&a.adjustConcepts([e]))}return i||e},saveObjectsWithOptions(e){return t=>t.map(t=>this.saveObject(t,e))},getObject(e){if(!e||e.__SAVED__)return e;let t=s.a.getAllUris(e);for(let i of t)if(this.objects[i])return this.objects[i];return null},async loadSchemes(){let e=await o.a.getSchemes();for(let t of e)t=this.saveObject(t,{provider:t._registry,type:"scheme"}),this.schemes.includes(t)||this.schemes.push(t);return this.schemes},async loadTypes(e){if(!e||!e.__SAVED__)throw new Error("loadTypes called with a scheme that is undefined or not saved: "+(e&&e.uri));if(e.types&&!e.types.includes(null))return e;let t=[];try{t=await(e._getTypes&&e._getTypes()||e._registry&&e._registry.getTypes({scheme:e})||Promise.reject())}catch(i){this.$log.warn(`Error loading types for scheme ${e.uri}; assuming empty types list.`)}return this.$set(e,"types",t),e},async loadTop(e){if(!e||!e.__SAVED__)throw new Error("loadTop called with a scheme that is undefined or not saved: "+(e&&e.uri));if(this.topConcepts[e.uri]&&!this.topConcepts[e.uri].includes(null))return this.topConcepts[e.uri];let t=[];try{t=await(e._getTop&&e._getTop()||e._registry&&e._registry.getTop({scheme:e})||Promise.reject())}catch(i){this.$log.warn(`Error loading top concepts for scheme ${e.uri}; assuming empty list.`)}t=this.saveObjectsWithOptions({scheme:e,type:"concept"})(t);for(let n of t)this.$set(n,"ancestors",[]);return this.$set(this.topConcepts,e.uri,s.a.sortConcepts(t)),e},async loadConcepts(e,{registry:t,scheme:i,force:n=!1,...a}={}){const o=[];let r=[];for(let c of e.filter(e=>e&&e.uri&&(e.__DETAILSLOADED__<1||n))){const e=this.getProvider(c)||this.getProvider(i)||t;if(!e)continue;if(!n&&[].concat(this.loadingConcepts,this.erroredConcepts).find(e=>this.$jskos.compare(e,c)))continue;r=r.concat(s.a.getAllUris(c)),this.loadingConcepts.push(c);const a=o.find(t=>t.registry==e&&t.concepts.length<15);a?a.concepts.push(c):o.push({registry:e,concepts:[c]})}const l=o.map(({registry:e,concepts:t})=>e.getConcepts({...a,concepts:t}).then(e=>{let t=[];for(let n of e)n=this.saveObject(n,{scheme:i,type:"concept"}),this.$set(n,"__DETAILSLOADED__",1),this.adjustConcept(n),t=t.concat(this.$jskos.getAllUris(n));for(let i of t){let e=this.loadingConcepts.findIndex(e=>this.$jskos.compare(e,{uri:i}));e>=0&&this.$delete(this.loadingConcepts,e)}}).catch(()=>{}));await Promise.all(l);for(let s of r){let e=this.loadingConcepts.findIndex(e=>this.$jskos.compare(e,{uri:s}));if(e>=0){let t=this.loadingConcepts[e];this.$set(t,"__DETAILSLOADED__",-1),this.$delete(this.loadingConcepts,e),this.erroredConcepts.push(t)}}return e.map(e=>this.getObject(e))},async loadNarrower(e,{registry:t,...i}={}){if(!e||!e.__SAVED__)throw new Error(`loadNarrower called with concept that is undefined or not saved: ${e&&e.uri}.`);if(e.narrower&&!e.narrower.includes(null))return e;const n=this.getProvider(e)||t;if(!n)throw new Error("loadNarrower called with concept that doesn't have a registry: "+e.uri);let s=await n.getNarrower({...i,concept:e});s=this.saveObjectsWithOptions({type:"concept"})(s);for(let a of s)!e.ancestors||e.ancestors.includes(null)?this.$set(a,"ancestors",[null]):this.$set(a,"ancestors",e.ancestors.concat([e])),this.$set(a,"broader",[e]),this.adjustConcept(a);return this.$set(e,"narrower",this.$jskos.sortConcepts(s)),this.adjustConcept(e),e},async loadAncestors(e,{registry:t,...i}={}){if(!e||!e.__SAVED__)throw new Error(`loadAncestors called with concept that is undefined or not saved: ${e&&e.uri}.`);if(e.ancestors&&!e.ancestors.includes(null))return e;const n=this.getProvider(e)||t;if(!n)throw new Error("loadAncestors called with concept that doesn't have a registry: "+e.uri);let s=await n.getAncestors({...i,concept:e});s=this.saveObjectsWithOptions({type:"concept"})(s);let a=[];for(let o of s)this.$set(o,"ancestors",a.slice()),this.$set(o,"broader",a.length>0?[a[a.length-1]]:[]),a.push(o),this.adjustConcept(o);for(let o of e.narrower||[])!o||o.ancestors&&!o.ancestors.includes(null)||this.$set(o,"ancestors",s.concat([e])),o&&this.adjustConcept(o);return this.$set(e,"ancestors",s),this.adjustConcept(e),e},getRegistry(e){return e=e||this.currentRegistry,l.a.isString(e)&&(e={uri:e}),e=this.config.registries.find(t=>s.a.compare(t,e)),e},adjustMapping(e){if(!e)return null;for(let i of["from","to"])if(e[i+"Scheme"]){e[i+"Scheme"]=this.saveObject(e[i+"Scheme"],{type:"scheme"});let t=e[i+"Scheme"];for(let n of["memberSet","memberList","memberChoice"])l.a.isArray(e[i][n])&&(e[i][n]=e[i][n].filter(e=>null!=e).map(e=>this.saveObject(e,{scheme:t,type:"concept"})))}e.partOf&&(e.partOf=e.partOf.map(e=>this.concordances.find(t=>this.$jskos.compare(t,e))||e));const t=l.a.get(e,"_registry");if(s.a.mappingRegistryIsStored(t))for(let[i,n]of[["from","to"],["to","from"]]){const a=e[n+"Scheme"],o=s.a.conceptsOfMapping(e,i);if(a)for(let i of o){i.__MAPPED__||this.$set(i,"__MAPPED__",[]);const n=i.__MAPPED__.find(e=>s.a.compare(e.registry,t)&&s.a.compare(e.scheme,a));n&&!n.exist.length?n.exist.push(e.uri):n||i.__MAPPED__.push({registry:t,scheme:a,exist:[e.uri]})}}return e},prepareMapping(e){if(!e)return null;e=s.a.copyDeep(e);let t=this.creator;if(t&&(t.uri||t.prefLabel)){const i=(e.contributor||[]).concat(e.creator||[]);e.contributor=[];for(let t of i)s.a.compare(t,{identifier:this.userUris||[]})||s.a.isContainedIn(t,e.contributor)||e.contributor.push(t);e.creator=[t],e.uri&&e.contributor.push(t)}else{e.contributor=e.contributor||[];for(let t of e.creator||[])s.a.isContainedIn(t,e.contributor)||e.contributor.push(t);this.$delete(e,"creator")}for(let i of["creator","contributor"].filter(t=>e[t])){for(let t of e[i])""===t.uri&&this.$delete(t,"uri"),l.a.forOwn(t.prefLabel,(e,i)=>{""==e&&this.$delete(t.prefLabel,i)}),l.a.isEmpty(t.prefLabel)&&this.$delete(t,"prefLabel");e[i]=e[i].filter(e=>!l.a.isEmpty(e))}return e.creator&&0==e.creator.length&&this.$delete(e,"creator"),e.contributor&&0==e.contributor.length&&this.$delete(e,"contributor"),e},async getMapping({registry:e,_adjust:t=!0,uri:i,mapping:n,...s}){if(!n&&!i)throw new Error("getMapping: Can't get mapping with neither uri nor mapping.");if(n||(n={uri:i}),e||(e=n._registry||this.config.registries.find(e=>e.has.mappings&&n.uri.startsWith(e._api.mappings))),!e&&n.uri.startsWith("urn:uuid")&&(e=this.localMappingsRegistry),e=this.getRegistry(e),!e)throw new Error("getMappings: No registry to get mappings from.");return n=await e.getMapping({mapping:n,...s}),t&&this.adjustMapping(n),n},async getMappings({registry:e,_adjust:t=!0,...i}){if(e=this.getRegistry(e),!e)throw new Error("getMappings: No registry to get mappings from.");if(!e.has.mappings)throw new Error(`getMappings: Registry ${e.uri} does not support mappings.`);const n=await e.getMappings(i);if(t)for(let s of n)this.adjustMapping(s);return n},_addIdentityParams(e){e.params=e.params||{},e.params.identity=this.$settings.creatorUri,e.params.identityName=this.$settings.creator},async postMapping({registry:e,_adjust:t=!0,_reload:i=!0,_alert:n=!0,_before:a,_after:o,...r}){if(e=this.getRegistry(e||r.mapping._registry),!e)throw new Error("postMapping: No registry to post mapping to.");a&&a();try{r.mapping=this.prepareMapping(r.mapping),this._addIdentityParams(r);const a=await e.postMapping(r);return t&&this.adjustMapping(a),i&&this.$store.commit("mapping/setRefresh",{registry:e.uri}),n&&(this.alert(this.$t("alerts.mappingSaved",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2"),s.a.compare(e,this.localMappingsRegistry)&&!this.$settings.hasWrittenIntoLocalMappings&&(this.alert(this.$t("alerts.localMappingsFirstSaved"),0,"warning"),this.$store.commit({type:"settings/set",prop:"hasWrittenIntoLocalMappings",value:!0}))),o&&o(),a}catch(l){if(n){let t=`${this.$t("alerts.mappingNotSaved",[s.a.prefLabel(e,{fallbackToUri:!1})])} ${this.getErrorMessage(l)}`;this.alert(t,null,"danger")}throw o&&o(l),l}},async postMappings({registry:e,_adjust:t=!0,_reload:i=!0,_alert:n=!0,_before:a,_after:o,...r}){if(e=this.getRegistry(e),!e)throw new Error("postMappings: No registry to post mappings to.");a&&a();try{r.mappings=r.mappings.map(e=>this.prepareMapping(e)),this._addIdentityParams(r);const a=await e.postMappings(r);if(t)for(let e of a)this.adjustMapping(e);return i&&this.$store.commit("mapping/setRefresh",{registry:e.uri}),n&&this.alert(this.$t("alerts.mappingSaved",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2"),o&&o(),a}catch(l){if(n){let t=`${this.$t("alerts.mappingNotSaved",[s.a.prefLabel(e,{fallbackToUri:!1})])} ${this.getErrorMessage(l)}`;this.alert(t,null,"danger")}throw o&&o(l),l}},async putMapping({registry:e,_adjust:t=!0,_reload:i=!0,_alert:n=!0,_before:a,_after:o,...r}){if(e=this.getRegistry(e||r.mapping._registry),!e)throw new Error("putMapping: No registry to put mapping to.");a&&a();try{r.mapping=this.prepareMapping(r.mapping),this._addIdentityParams(r);const a=await e.putMapping(r);return t&&this.adjustMapping(a),i&&this.$store.commit("mapping/setRefresh",{registry:e.uri}),n&&this.alert(this.$t("alerts.mappingSaved",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2"),o&&o(),a}catch(l){if(n){const t=`${this.$t("alerts.mappingNotSaved",[s.a.prefLabel(e,{fallbackToUri:!1})])} ${this.getErrorMessage(l)}`;this.alert(t,null,"danger")}throw o&&o(l),l}},async deleteMapping({registry:e,_reload:t=!0,_alert:i=!0,_trash:n=!0,_before:a,_after:o,...r}){if(e=this.getRegistry(e||r.mapping._registry),!e)throw new Error("deleteMapping: No registry to delete mapping from.");a&&a();try{return await e.deleteMapping(r),this.mappingWasDeleted({mapping:r.mapping,registry:e,_trash:n}),t&&this.$store.commit("mapping/setRefresh",{registry:e.uri}),i&&this.alert(this.$t("alerts.mappingDeleted",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2",this.$t("general.undo"),t=>{this.$store.commit({type:"alerts/setCountdown",alert:t,countdown:0}),this.$store.dispatch({type:"mapping/restoreMappingFromTrash",uri:r.mapping.uri}).then(t=>{t?this.alert(this.$t("alerts.mappingRestored",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2"):this.alert(this.$t("alerts.mappingNotRestored",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"danger")})}),o&&o(),!0}catch(l){if(i){const t=`${this.$t("alerts.mappingNotDeleted",[s.a.prefLabel(e,{fallbackToUri:!1})])} ${this.getErrorMessage(l)}`;this.alert(t,null,"danger")}throw o&&o(l),l}},async deleteMappings({registry:e,_reload:t=!0,_alert:i=!0,_trash:n=!0,_before:a,_after:o,...r}){if(e=this.getRegistry(e||l.a.get(r,"mappings[0]._registry")),!e)throw new Error("deleteMapping: No registry to delete mapping from.");a&&a();try{await e.deleteMappings(r);for(let t of r.mappings)this.mappingWasDeleted({mapping:t,registry:e,_trash:n});return t&&this.$store.commit("mapping/setRefresh",{registry:e.uri}),i&&this.alert(this.$t("alerts.mappingDeleted",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2",this.$t("general.undo"),t=>{this.$store.commit({type:"alerts/setCountdown",alert:t,countdown:0}),this.$store.dispatch({type:"mapping/restoreMappingFromTrash",uri:r.mapping.uri}).then(t=>{t?this.alert(this.$t("alerts.mappingRestored",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"success2"):this.alert(this.$t("alerts.mappingNotRestored",[s.a.prefLabel(e,{fallbackToUri:!1})]),null,"danger")})}),o&&o(),!0}catch(c){if(i){const t=`${this.$t("alerts.mappingNotDeleted",[s.a.prefLabel(e,{fallbackToUri:!1})])} ${this.getErrorMessage(c)}`;this.alert(t,null,"danger")}throw o&&o(c),c}},mappingWasDeleted({mapping:e,registry:t,_trash:i}){if(i&&this.$store.commit({type:"mapping/addToTrash",mapping:e,registry:t}),e.uri==this.$store.state.mapping.original.uri&&s.a.compare(t,this.$store.state.mapping.original.registry)&&this.$store.commit({type:"mapping/set"}),s.a.mappingRegistryIsStored(t))for(let[n,a]of[["from","to"],["to","from"]]){const i=e[a+"Scheme"],o=s.a.conceptsOfMapping(e,n);if(i)for(let n of o){const a=(n.__MAPPED__||[]).find(e=>s.a.compare(e.registry,t)&&s.a.compare(e.scheme,i));a&&a.exist.length&&this.$set(a,"exist",a.exist.filter(t=>t!=e.uri))}}},canCreateMapping({registry:e,mapping:t,user:i=this.user}){if(!t||!e)return!1;for(let n of["fromScheme","toScheme"]){if(!t[n])return!1;const i=l.a.get(e,`config.mappings.${n}Whitelist`);if(i&&!i.find(e=>s.a.compare(e,t[n])))return!1;const a=l.a.get(e,"config.mappings.cardinality");if("1-to-1"==a&&s.a.conceptsOfMapping(t,"to").length>1)return!1}return!!e.isAuthorizedFor({type:"mappings",action:"create",user:i})},canUpdateMapping({registry:e,mapping:t,user:i=this.user}){return!!t&&(e=e||t._registry,!!e&&e.isAuthorizedFor({type:"mappings",action:"update",user:i,crossUser:!this.$jskos.userOwnsMapping(i,t)}))},canDeleteMapping({registry:e,mapping:t,user:i=this.user}){if(!t)return!1;if(e=e||t._registry,!e)return!1;let n=!s.a.userOwnsMapping(i,t);return e.isAuthorizedFor({type:"mappings",action:"delete",user:i,crossUser:n})},repeat(...e){return o.a.repeat(...e)}}}},6188:function(e,t,i){},"622d":function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return h}));var n=i("41cb"),s=i("cf65"),a=i.n(s),o=i("a002"),r=i.n(o);const l=e=>{e.subscribe(t=>{t.type.startsWith("mapping")&&!t.type.endsWith("setIdentifier")&&e.commit("mapping/setIdentifier")})},c="cocoda-mappingTrash--"+window.location.pathname,p=e=>{e.subscribe(t=>{["mapping/addToTrash","mapping/removeFromTrash","mapping/clearTrash"].includes(t.type)&&e.state.mapping.mappingTrashLoaded&&r.a.setItem(c,e.state.mapping.mappingTrash)})},d=e=>{e.subscribe(t=>{if("setConfig"==t.type||"settings/set"==t.type&&"locale"==t.payload.prop){const t=e.state.config.languages.includes(e.state.settings.settings.locale)?e.state.settings.settings.locale:"en",i=[t].concat(e.state.config.languages.filter(e=>e!=t));for(let n of e.state.config.registries)n&&(n.languages=i)}})},h=e=>{let t=["scheme","concept"],i={true:"from",false:"to"},s={};for(let n of t)for(let t of[!0,!1]){let a=i[t]+("scheme"==n?"Scheme":""),o=e.state.selected[n][t];o&&o.uri&&(s[a]=o.uri)}a.a.conceptsOfMapping(e.state.mapping.mapping).length&&(e.getters["mapping/hasChangedFromOriginal"]&&(s.mapping=JSON.stringify(a.a.minifyMapping(e.state.mapping.mapping))),e.state.mapping.original&&(e.state.mapping.original.uri?s.mappingUri=e.state.mapping.original.uri:e.state.mapping.original.identifier&&(s.mappingIdentifier=e.state.mapping.original.identifier.find(e=>e.startsWith("urn:jskos:mapping:content:"))))),n["a"].currentRoute.query.config&&(s.config=n["a"].currentRoute.query.config);let o,r=!0;for(let a of t)for(let e of[!0,!1]){let t=i[e]+("scheme"==a?"Scheme":"");s[t]!=n["a"].currentRoute.query[t]&&(r=!1)}return o=r?n["a"].replace({query:s}):n["a"].push({query:s}),o.catch(()=>null)},g=e=>{e.subscribe(t=>{const i=["selected/clear","selected/set","mapping/add","mapping/remove","mapping/removeAll","mapping/set","mapping/setType","mapping/switch","mapping/empty"];if(i.includes(t.type)){if(t.payload&&t.payload.noQueryRefresh)return;h(e)}})};let u=[l,p,g,d]},"68bc":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.item?i("div",{staticClass:"itemName",class:{"itemName-hoverable":!e.preventExternalHover&&e.isValidLink},attrs:{draggable:e.draggable},on:{dragstart:function(t){return e.dragStart(e.item,t)},dragend:e.dragEnd,mouseover:function(t){return e.hovering(!0)},mouseout:function(t){return e.hovering(!1)}}},[i(e.isValidLink?"router-link":"div",{directives:[{name:"b-popover",rawName:"v-b-popover",value:!e.showPopover||!e.itemDetails.length&&e.showText&&e.showNotation?null:{placement:"top",trigger:"hover",content:"<div class='fontSize-"+(e.fontSize||"normal")+"'><b>"+e.getNotation(e.item,null,!0)+" "+e.$jskos.prefLabel(e.item,{fallbackToUri:!1})+"</b></div><div class='fontSize-small itemName-details'>"+e.itemDetails+"</div>",html:!0,boundary:"window"},expression:"showPopover && (itemDetails.length || !showText || !showNotation) ? {\n      placement: 'top',\n      trigger: 'hover',\n      content: `<div class='fontSize-${fontSize || 'normal'}'><b>${getNotation(item, null, true)} ${$jskos.prefLabel(item, { fallbackToUri: false })}</b></div><div class='fontSize-small itemName-details'>${itemDetails}</div>`,\n      html: true,\n      boundary: 'window',\n    } : null"}],tag:"div",class:[{"itemName-hovered":e.isValidLink&&e.isHovered,"itemName-highlighted":e.isHighlighted},"fontSize-"+(e.fontSize||"normal")],attrs:{id:e.tooltipDOMID,to:e.url}},[e.item&&-1==e.item.__DETAILSLOADED__?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.unknownConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.unknownConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"fontSize-small"},[i("font-awesome-icon",{attrs:{icon:"bolt"}})],1):e._e(),e.item&&e.item.type&&e.item.type.includes("http://rdf-vocabulary.ddialliance.org/xkos#CombinedConcept")?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.combinedConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.combinedConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],class:"fontSize-"+(e.fontSize||"normal")},[i("font-awesome-icon",{attrs:{icon:"puzzle-piece"}})],1):e._e(),e.showNotation?i("span",{class:{"fontWeight-heavy":e.showText},domProps:{innerHTML:e._s(e.getNotation(e.item,null,!0))}}):e._e(),e.showText||!e.notation?i("span",{class:{"fontWeight-medium":e.isHighlighted}},[e._v(" "+e._s(e.$jskos.prefLabel(e.item,{fallbackToUri:null==e.notation}))+" ")]):e._e()])],1):e._e()},s=[],a=i("2ef0"),o=i.n(a),r=i("8fb2"),l={name:"ItemName",mixins:[r["a"]],props:{item:{type:Object,default:null},fontSize:{type:String,default:"normal"},showNotation:{type:Boolean,default:!0},showText:{type:Boolean,default:!0},isLink:{type:Boolean,default:!1},isLeft:{type:Boolean,default:!0},showPopover:{type:Boolean,default:!1},isHighlighted:{type:Boolean,default:!1},preventExternalHover:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},forceSide:{type:Boolean,default:!1}},data(){return{tooltipDOMID:this.generateID(),isHoveredFromHere:!1,url:"",isValidLink:!1,interval:null}},computed:{isHovered(){return this.isHoveredFromHere||!this.preventExternalHover&&this.$jskos.compare(this.$store.state.hoveredConcept,this.item)},notation(){return this.$jskos.notation(this.item)},itemDetails(){let e=this.$jskos.languageMapContent(this.item,"scopeNote");return e&&e.length?[""].concat(e).join("<br>"):""}},watch:{item:function(){o.a.delay(()=>{this.isHoveredFromHere&&this.$refs.tooltip&&this.$refs.tooltip.$emit("open")},50)}},created(){!this.preventExternalHover&&this.isLink&&(this.isValidLink=!0),this.hovering=o.a.debounce(this._hovering,20)},methods:{_hovering(e){e?(this.isHoveredFromHere=!0,this.$store.commit({type:"setHoveredConcept",concept:this.item}),this.url=this.getRouterUrl(this.item,this.isLeft,this.forceSide),this.isLink?this.isValidLink=null!=this.getProvider(this.item):this.isValidLink=!1,window.clearInterval(this.interval),this.interval=setInterval(()=>{this.isMouseOver()||(this.isHoveredFromHere=!1,window.clearInterval(this.interval))},500)):(this.isHoveredFromHere=!1,this.$store.commit({type:"setHoveredConcept",concept:null}),window.clearInterval(this.interval))},trimTooltip(e){return e.length>80?e.substring(0,75)+"...":e}}},c=l,p=(i("a6e7"),i("888b"),i("2877")),d=Object(p["a"])(c,n,s,!1,null,"6ee1a86f",null);t["a"]=d.exports},"6cfe":function(e,t,i){"use strict";i("40b5")},7030:function(e,t,i){"use strict";i("a886")},"726b":function(e){e.exports=JSON.parse('{"registries":[{"provider":"ConceptApi","uri":"http://coli-conc.gbv.de/registry/gnd-concepts","data":"https://coli-conc.gbv.de/services/gnd.php","suggest":"https://ws.gbv.de/suggest/gnd/?searchterm={searchTerms}","types":"https://ws.gbv.de/suggest/gnd/types","schemes":[{"uri":"http://bartoc.org/en/node/430","concepts":[null],"topConcepts":[]}],"notation":["G"],"prefLabel":{"de":"Gemeinsame Normdatei","en":"Integrated Authority File"},"definition":{"en":["Access to a copy of GND at VZG"],"de":["Zugriff auf eine GND-Kopie an der VZG"]}},{"provider":"ConceptApi","uri":"http://coli-conc.gbv.de/registry/wikidata-concepts","data":"https://coli-conc.gbv.de/services/wikidata/concept/","suggest":"https://coli-conc.gbv.de/services/wikidata/suggest?search={searchTerms}","schemes":[{"uri":"http://bartoc.org/en/node/1940","concepts":[null],"topConcepts":[]}],"notation":["WD"],"prefLabel":{"en":"Wikidata"},"definition":{"en":["Access to Wikidata in JSKOS format"],"de":["Zugriff auf Wikidata im JSKOS-Format"]}},{"provider":"ConceptApi","uri":"http://coli-conc.gbv.de/registry/coli-conc-rvk","status":"https://coli-conc.gbv.de/rvk/api/status","notation":["RVK"],"prefLabel":{"de":"Regensburger Verbundklassifikation"}},{"provider":"ConceptApi","uri":"http://coli-conc.gbv.de/registry/coli-conc-concepts","status":"https://coli-conc.gbv.de/api/status","notation":["J"],"prefLabel":{"en":"JSKOS Server"},"definition":{"en":["central JSKOS server instance of coli-conc"],"de":["zentrale JSKOS-Server Instanz von coli-conc"]}},{"provider":"ConceptApi","uri":"http://coli-conc.gbv.de/registry/dante-concepts","status":"https://api.dante.gbv.de/status","notation":["D"],"prefLabel":{"en":"DANTE"},"definition":{"en":["DANTE API with vocabularies at VZG"],"de":["DANTE-API der VZG"]}},{"provider":"SkosmosApi","uri":"http://coli-conc.gbv.de/registry/skosmos-zbw","api":"https://zbw.eu/beta/skosmos/rest/v1/","prefLabel":{"en":"Skosmos ZBW"},"notation":["S_ZBW"],"schemes":[{"uri":"http://zbw.eu/stw","identifier":["http://bartoc.org/en/node/313"],"VOCID":"stw"}]},{"provider":"SkosmosApi","uri":"http://coli-conc.gbv.de/registry/skosmos-bartoc","api":"https://bartoc-skosmos.unibas.ch/rest/v1/","prefLabel":{"en":"Skosmos BARTOC"},"notation":["S_BRTC"],"schemes":[{"uri":"http://eurovoc.europa.eu/100141","identifier":["http://bartoc.org/en/node/15"],"notation":["EUROVOC"],"VOCID":"EuroVoc"},{"uri":"https://bartoc.org/ILC/1","VOCID":"ILC","notation":["ILC"]}]},{"provider":"LocalMappings","uri":"http://coli-conc.gbv.de/registry/local-mappings","notation":["L"],"prefLabel":{"de":"Lokal","en":"Local"},"definition":{"en":["Mappings saved locally in the browser"],"de":["Mappings, die lokal im Browser gespeichert wurden"]}},{"provider":"MappingsApi","uri":"http://coli-conc.gbv.de/registry/coli-conc-mappings","status":"https://coli-conc.gbv.de/api/status","notation":["C"],"prefLabel":{"de":"Konkordanz-Register","en":"Concordance Registry"},"definition":{"en":["Central concordance registry of coli-conc"],"de":["Zentrale Konkordanz-Datenbank von coli-conc"]}},{"provider":"MappingsApi","uri":"http://coli-conc.gbv.de/registry/wikidata-mappings","status":"https://coli-conc.gbv.de/services/wikidata/status","notation":["W"],"prefLabel":{"en":"Wikidata-Mappings"},"definition":{"en":["Access to Wikidata mappings in JSKOS format"],"de":["Zugriff auf Wikidata-Mappings im JSKOS-Format"]}},{"provider":"LabelSearchSuggestion","uri":"http://coli-conc.gbv.de/registry/coli-conc-recommendations","excludedSchemes":[{"uri":"http://bartoc.org/en/node/1940"},{"uri":"http://bartoc.org/en/node/430"},{"uri":"http://nomisma.org/id/"}],"notation":["CR"],"prefLabel":{"en":"coli-conc Recommendations","de":"coli-conc Vorschläge"}},{"provider":"MappingsApi","uri":"http://coli-conc.gbv.de/registry/ccmapper-mapping-recommendations","status":"https://coli-conc.gbv.de/ccmapper/api/status","schemes":[{"uri":"http://dewey.info/scheme/edition/e23/"},{"uri":"http://uri.gbv.de/terminology/rvk/"}],"stored":false,"notation":["CC"],"prefLabel":{"en":"ccmapper Mapping Recommendations","de":"ccmapper Mapping-Vorschläge"}},{"provider":"ReconciliationApi","uri":"http://coli-conc.gbv.de/registry/wikidata-reconciliation","api":"https://tools.wmflabs.org/openrefine-wikidata/{language}/api","schemes":[{"uri":"http://bartoc.org/en/node/1940"}],"notation":["WR"],"prefLabel":{"de":"Wikidata-Reconciliation","en":"Wikidata Reconciliation"},"definition":{"en":["Wikidata Reconciliation API"],"de":["Wikidata-Reconciliation API"]}},{"provider":"ReconciliationApi","uri":"http://coli-conc.gbv.de/registry/gnd-reconciliation","api":"https://lobid.org/gnd/reconcile","schemes":[{"uri":"http://bartoc.org/en/node/430"}],"notation":["GR"],"prefLabel":{"de":"GND-Reconciliation","en":"GND Reconciliation"},"definition":{"en":["GND Reconciliation API (lobid.org)"],"de":["GND-Reconciliation API (lobid.org)"]}},{"provider":"ReconciliationApi","uri":"http://coli-conc.gbv.de/registry/nomisma-reconciliation","api":"https://coli-conc.gbv.de/nomisma-reconciliation/","schemes":[{"uri":"http://nomisma.org/id/"}],"notation":["NR"],"prefLabel":{"de":"Nomisma-Reconciliation","en":"Nomisma Reconciliation"},"definition":{"en":["Nomisma Reconciliation API"],"de":["Nomisma-Reconciliation API"]}}],"overrideRegistries":false,"searchLinks":[{"prefLabel":{"en":"Netherlands Institute for Art History"},"schemeUris":["http://bartoc.org/en/node/459"],"url":"https://rkd.nl/en/explore/images#filters%5Biconclass_code%5D={notation}"},{"prefLabel":{"en":"finto"},"schemeUris":["http://bartoc.org/en/node/459"],"url":"https://finto.fi/ic/en/page/{notation}"},{"prefLabel":{"de":"Erdteilallegorien"},"schemeUris":["http://bartoc.org/en/node/459"],"url":"https://erdteilallegorien.univie.ac.at/iconclass/{notation}"},{"prefLabel":{"de":"ccmapper"},"url":"https://ccmapper-de.pansoft.de/m/mapping.html?id={notation}","schemeUris":["http://bartoc.org/en/node/533"]},{"prefLabel":{"de":"Wikipedia (de)"},"url":"https://de.wikipedia.org/w/index.php?title=Special:Search&search={prefLabel}"},{"prefLabel":{"de":"Wikipedia (en)"},"url":"https://en.wikipedia.org/w/index.php?title=Special:Search&search={prefLabel}"},{"prefLabel":{"de":"Wikipedia"},"url":"https://{language}.wikipedia.org/w/index.php?title=Special:Search&search={prefLabel}"},{"prefLabel":{"de":"RVK Online"},"url":"https://rvk.uni-regensburg.de/regensburger-verbundklassifikation-online#notation/{notation}","schemeUris":["http://bartoc.org/en/node/533"]},{"prefLabel":{"en":"WebDewey Search"},"url":"https://deweysearchde.pansoft.de/webdeweysearch/executeSearch.html?query={notation}","schemeUris":["http://bartoc.org/en/node/241"]},{"prefLabel":{"en":"K10plus"},"url":"https://kxp.k10plus.de/DB=2.1/CMD?ACT=SRCHA&IKT=8533&TRM=gnd+{notation}","schemeUris":["http://bartoc.org/en/node/430"]},{"prefLabel":{"en":"K10plus"},"url":"https://kxp.k10plus.de/DB=2.1/CMD?ACT=SRCHA&TRM=bkl+{notation}","schemeUris":["http://bartoc.org/en/node/18785"]},{"prefLabel":{"en":"WebGND"},"url":"http://gnd.eurospider.com/s?q={notation}","schemeUris":["http://bartoc.org/en/node/430"]},{"prefLabel":{"de":"Bremer Online Systematik"},"url":"https://suche.suub.uni-bremen.de/cgi-bin/CiXbase/brewis/CiXbase_search?act=search&term={notation}?&LAN=DE&IHITS=30&FHITS=30&XML_STYLE=/styles/cns-DE.xml&index=C&n_dtyp=1L&n_rtyp=ceEdX&RELEVANCE=55&INDEXINFO=awCN&forward=1&section=ms","schemeUris":["https://bartoc.org/de/node/730"]},{"prefLabel":{"de":"GEPRIS"},"url":"https://gepris.dfg.de/gepris/OCTOPUS?task=doSearchExtended&context=projekt&fachlicheZuordnung={notation}","schemeUris":["http://uri.gbv.de/terminology/dfg/"]},{"prefLabel":{"de":"DFG-Fachkollegien"},"url":"https://www.dfg.de/dfg_profil/gremien/fachkollegien/liste/index.jsp?id={notation}","schemeUris":["http://uri.gbv.de/terminology/dfg/"]},{"prefLabel":{"en":"K10plus"},"url":"https://opac.k10plus.de/DB=2.299/CLK?IKT=3002&NOABS=Y&TRM={notation}","schemeUris":["http://bartoc.org/en/node/533"]},{"prefLabel":{"en":"SWB"},"url":"https://swb.bsz-bw.de/DB=2.1/CMD?ACT=SRCHA&IKT=3002&TRM={notation}","schemeUris":["http://bartoc.org/en/node/533"]},{"prefLabel":{"de":"Bibliotheksverbund Bayern (BVB)"},"url":"https://bvbat01.bib-bvb.de/TP61/start.do?Query=0080%3D%22{notation}%22+IN+%5B1%5D","schemeUris":["http://bartoc.org/en/node/533"]},{"prefLabel":{"de":"Österreichischer Bibliothekenverbund (OBV)"},"url":"https://search.obvsg.at/primo-explore/search?vid=OBV&query=lsr06%2Cexact%2C{notation}%2CAND&mode=advanced","schemeUris":["http://bartoc.org/en/node/533"]}],"favoriteSchemes":["http://uri.gbv.de/terminology/bk/","http://bartoc.org/en/node/18785","http://uri.gbv.de/terminology/rvk/","http://bartoc.org/en/node/533","http://bartoc.org/en/node/430","http://dewey.info/scheme/edition/e23/","http://bartoc.org/en/node/241","http://bartoc.org/en/node/1940"],"shortcuts":[{"id":"saveMapping","action":"saveMapping","component":"MappingEditor","keys":"ctrl+s,command+s","prefLabel":{"en":"Save current mapping","de":"Aktuelles Mapping speichern"}},{"id":"clearMapping","action":"clearMapping","component":"MappingEditor","keys":"ctrl+shift+c,command+shift+c","prefLabel":{"en":"Clear current mapping","de":"Aktuelles Mapping leeren"}},{"id":"addConceptLeft","action":"addConcept","component":"MappingEditor","keys":"ctrl+a,command+a","prefLabel":{"en":"Add left concept to current mapping","de":"Linkes Konzept zu aktuellem Mapping hinzufügen"},"isLeft":true},{"id":"addConceptRight","action":"addConcept","component":"MappingEditor","keys":"ctrl+d,command+d","prefLabel":{"en":"Add right concept to current mapping","de":"Rechtes Konzept zu aktuellem Mapping hinzufügen"},"isLeft":false},{"id":"nextConceptLeft","action":"nextConcept","component":"ConceptDetail","keys":"alt+n,alt+keyCode:78","prefLabel":{"en":"Open next concept (left)","de":"Nächstes Konzept öffnen (links)"},"isLeft":true},{"id":"nextConceptRight","action":"nextConcept","component":"ConceptDetail","keys":"alt+m,alt+µ","prefLabel":{"en":"Open next concept (right)","de":"Nächstes Konzept öffnen (rechts)"},"isLeft":false},{"id":"openSchemeSelectionLeft","action":"openSchemeSelection","component":"ConceptSchemeSelection","keys":"ctrl+shift+f,command+shift+f","prefLabel":{"en":"Open concept scheme selection (left)","de":"Vokabularauswahl öffnen (links)"},"isLeft":true},{"id":"openSchemeSelectionRight","action":"openSchemeSelection","component":"ConceptSchemeSelection","keys":"ctrl+shift+g,command+shift+g","prefLabel":{"en":"Open concept scheme selection (right)","de":"Vokabularauswahl öffnen (rechts)"},"isLeft":false},{"id":"openConceptSearchLeft","action":"openConceptSearch","component":"ConceptSchemeSelection","keys":"ctrl+f,command+f","prefLabel":{"en":"Open concept search (left)","de":"Konzeptsuche öffnen (links)"},"isLeft":true},{"id":"openConceptSearchRight","action":"openConceptSearch","component":"ConceptSchemeSelection","keys":"ctrl+g,command+g","prefLabel":{"en":"Open concept search (right)","de":"Konzeptsuche öffnen (rechts)"},"isLeft":false}],"languages":["en","de"],"logos":[{"file":"coli-conc-logo.svg","url":"https://coli-conc.gbv.de/","alt":"coli-conc"}],"title":"Cocoda Mapping Tool","menu":[{"url":"https://www.gbv.de/impressum","prefLabel":{"en":"Imprint","de":"Impressum"}},{"url":"https://github.com/gbv/cocoda/wiki/Barrierefreiheit","prefLabel":{"en":"Accessibility","de":"Barrierefreiheit"}},{"url":"https://www.gbv.de/datenschutz","prefLabel":{"en":"Privacy Policy","de":"Datenschutz"}},{"url":"https://github.com/gbv/cocoda/issues/new","prefLabel":{"en":"Feedback"}}],"guidelines":[{"fromScheme":{"uri":"http://bartoc.org/en/node/1940"},"toScheme":{"uri":"http://uri.gbv.de/terminology/bk/"},"url":"https://github.com/gbv/cocoda/wiki/Wikidata-Basisklassifikation"},{"fromScheme":{"uri":"http://bartoc.org/en/node/1940"},"toScheme":{"uri":"http://bartoc.org/en/node/430"},"url":"https://github.com/gbv/cocoda/wiki/Wikidata-GND"}],"conceptLists":[],"autoRefresh":{"mappings":10000,"update":120000},"coli-ana":"https://coli-conc.gbv.de/coli-ana/app/"}')},"79fa":function(e,t,i){"use strict";var n=i("a026"),s=i("a925"),a=i("aa38");n["default"].use(s["a"]);const o=new s["a"]({locale:"en",fallbackLocale:"en",silentFallbackWarn:!window.webpackHotUpdate,messages:a});t["a"]=o},"85c9":function(e,t,i){},"888b":function(e,t,i){"use strict";i("3e42")},"8c91":function(e,t,i){},"8fb2":function(e,t,i){"use strict";t["a"]={methods:{dragStart(e,t){t.dataTransfer.setData("text",e.uri),this.$store.commit({type:"setDraggedConcept",concept:e})},dragEnd(){this.$store.commit({type:"setDraggedConcept",concept:null})},dragOver(e){e.preventDefault()},drop(e,...t){e.preventDefault();let i=e.dataTransfer.getData("text"),n=this.$store.state.draggedConcept||this.getObject({uri:i});n&&this.droppedConcept(n,...t)},droppedConcept(){}}}},"9ecc":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("registry-notation",{attrs:{registry:e.registry,disabled:!1===e.$store.state.settings.settings.mappingBrowserShowRegistry[e.registry.uri],tooltip:!1}}),i("span",{class:{"fontWeight-heavy":!1!==e.$store.state.settings.settings.mappingBrowserShowRegistry[e.registry.uri]}},[e._v(" "+e._s(e.$jskos.prefLabel(e.registry))+" ")]),e.showDetails?i("a",{attrs:{href:e.registry.uri,target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:"link"}})],1):e._e(),e.registry.isAuthorizedFor({type:"mappings",action:"create",user:e.user})?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.$t("registryInfo.canSaveMappings"),expression:"$t('registryInfo.canSaveMappings')"}],staticStyle:{"font-size":"12px","padding-left":"5px"}},[i("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1):e._e()],1),e.showDetails?i("div",[e._v(" "+e._s(e.$jskos.definition(e.registry).join(" "))+" ")]):e._e(),e.showCapabilities?i("div",[e._l(["schemes","concepts","mappings","annotations","occurrences"],(function(t){return i("span",{key:"settings-info-capabilities-"+t},[e.registry.has[t]?i("span",[e.registry.has[t]?i("font-awesome-icon",{staticStyle:{color:"green","margin-left":"5px"},attrs:{icon:"code"}}):e._e(),e._v(" "+e._s(e.$t("registryInfo."+t))+" ")],1):e._e()])})),e.registry.has.auth?i("span",{staticStyle:{"margin-left":"5px"}},[e.registry.isAuthorizedFor({type:"mappings",action:"create",user:e.user})?i("span",{staticStyle:{color:"green"}},[i("font-awesome-icon",{attrs:{icon:"lock-open"}}),e._v(" "+e._s(e.$t("registryInfo.authenticated"))+" ")],1):i("span",{staticStyle:{color:"red"}},[i("font-awesome-icon",{attrs:{icon:"lock"}}),e._v(" "+e._s(e.$t("registryInfo.notAuthenticated"))+" ")],1)]):e._e()],2):e._e()])},s=[],a=i("d465"),o=i("a189"),r={name:"RegistryInfo",components:{RegistryNotation:a["a"]},mixins:[o["a"]],props:{registry:{type:Object,default:null},showDetails:{type:Boolean,default:!0},showCapabilities:{type:Boolean,default:!0}}},l=r,c=(i("c1fc"),i("2877")),p=Object(c["a"])(l,n,s,!1,null,"c2c5a066",null);t["a"]=p.exports},a106:function(e,t,i){"use strict";i("a916")},a189:function(e,t,i){"use strict";var n=i("2ef0"),s=i.n(n);t["a"]={computed:{creator(){return this.$store.getters["creator"]},creatorName(){return this.$jskos.prefLabel(this.creator,{fallbackToUri:!1})},userName(){return this.$settings.creator},user(){return s.a.get(this,"$store.state.auth.user")},providers(){return s.a.get(this,"$store.state.auth.providers")},userUris(){if(!this.user)return null;let e=[this.user.uri].concat(Object.values(this.user.identities).map(e=>e.uri)).filter(e=>null!=e);return e},userIdentityImage(){if(this.userIdentityProvider&&this.userIdentityProvider.image)return this.userIdentityProvider.image},userIdentityProvider(){return this.providerForIdentityUri(this.creator.uri)},authorized(){return s.a.get(this,"$store.state.auth.authorized")}},methods:{setName(e){return this.$store.dispatch("auth/setName",e)},providerForIdentityUri(e){let t=null;return s.a.forEach(this.user&&this.user.identities||{},(i,n)=>{let s=this.providers.find(e=>e.id===n);e===i.uri&&s&&(t=s)}),t},imageForIdentityUri(e){let t=this.providerForIdentityUri(e);return t&&t.image?t.image:null}}}},a4fe:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fillAndCenter loadingIndicatorFull"},[i("div",[i("loading-indicator",{staticClass:"loadingIndicatorFull-indicator",style:"sm"==e.size?"display: inline-block;":"margin: 0 auto;",attrs:{size:e.size}}),i("div",{staticClass:"loadingIndicatorFull-text fontWeight-heavy",style:"sm"==e.size?"display: inline-block;":""},[e._v(" "+e._s(e.$t("general.loading"))+" ")])],1)])},s=[],a=i("b758"),o={name:"LoadingIndicatorFull",components:{LoadingIndicator:a["a"]},props:{size:{type:String,default:"lg"}}},r=o,l=(i("2365"),i("2877")),c=Object(l["a"])(r,n,s,!1,null,null,null);t["a"]=c.exports},a6e7:function(e,t,i){"use strict";i("4e49")},a886:function(e,t,i){},a916:function(e,t,i){},aa38:function(e){e.exports=JSON.parse('{"en":{"general":{"welcome":"Welcome to Cocoda!","manual":"Manual","documentation":"Documentation","github":"GitHub","feedback":"Feedback is welcome!","feedback2":"Please report any questions, ideas or bugs!","swapSides":"swap sides","clearScheme":"clear scheme","addToMapping":"add to mapping","yes":"Yes","no":"No","loading":"Loading...","cancel":"Cancel","authNecessary":"Authentication necessary.","or":"or","of":"of","left":"left","right":"right","enabled":"enabled","disabled":"disabled","default":"Default","resizingSlider":"drag to resize cards","malformedConfig":"The configuration file {configFile} could not be loaded!","showConcordances":"Show Concordances","showMappingSearch":"Show Mapping Search","tooManyMappings":"There are {count} local mappings stored in your browser. A large number of local mappings can impact performance of the tool.","undo":"undo","type":"Type","noRegistries":"The configuration contains no providers. Please consult the <a href=\'https://gbv.github.io/cocoda/#configuration\' target=\'_blank\'>documentation</a> how to configure providers!","storedMappings":"Mappings","recommendedMappings":"Recommendations"},"navbar":{"trashTitle":"Recently Deleted Mappings","trashClearButton":"Clear","trashClearButtonTooltip":"Permanently removes all mappings from the trash.","trashRestoreTooltip":"restore mapping","openLeft":"open on left side","openRight":"open on right side","removeFromFavorites":"remove from favorites","defaultIdentity":"Default Identity"},"schemeSelection":{"source":"Source Scheme","target":"Target Scheme","filter":"Filter","filtersRemove":"Remove all filters","filterSelectAll":"select all","filterDeselectAll":"deselect all","filterOnlyFavorites":"Show only favorites","languageFilter":"Language","typeFilter":"Scheme Type","filterOther":"Other","registryFilter":"Source","schemeFilterPlaceholder":"search for schemes...","starAdd":"add to favorites","starRemove":"remove from favorites","popoverShow":"show scheme selection","popoverHide":"hide scheme selection","showAllSchemes":"Show all {count} schemes"},"search":{"placeholder":"Type to search...","results":"result | results","noResults":"No results...","error":"Error performing the search."},"conceptDetail":{"showAllAncestors":"show all ancestors","showLessAncestors":"show less ancesters","created":"Created","modified":"Modified","issued":"Issued","altLabels":"Alternative Labels","definition":"Definition","relevance":"Relevance","relevanceVeryHigh":"very high","relevanceHigh":"high","relevanceMedium":"medium","relevanceLow":"low","relevanceGeneric":"generic","info":"Info","labels":"Labels","editorial":"Editorial","scope":"Scope","gnd":"GND","coliAnaIncomplete":"This DDC number could not be fully analyzed. Either it was not built following current DDC number building rules or analysis is yet to be completed.","coliAnaInfo":"Go to the <a href=\\"{url}\\" target=\\"_blank\\">coli-ana web interface</a> for more details and information.","searchLinks":"Search Links","clearConcept":"clear concept","previousConceptTooltip":"previous concept","nextConceptTooltip":"next concept"},"schemeDetail":{"noTopConcepts":"No top concepts","languages":"Available languages","availableMappings":"available mappings","registry":"Sources"},"conceptList":{"noItems":"No Concepts available","favoriteConcepts":"Favorite Concepts","favoriteConceptsShort":"Favorites","topConcepts":"Top concepts of current concept scheme in a tree view","topConceptsShort":"Tree View"},"itemDetail":{"pleaseSelect":"Please select a scheme or concept.","combinedConcept":"combined concept","unknownConcept":"unknown concept"},"mappingEditor":{"title":"Mapping Editor","guidelines":"open mapping guidelines","placeholder":"Drag and drop a concept here.","placeholderDragging":"Drop concept here.","saveMapping":"save mapping into {0}","deleteMapping":"delete mapping","clearMapping":"clear mapping","cloneMapping":"clone mapping","swapMapping":"swap source and target concepts","addConcept":"add concept to mapping","deleteTitle":"Delete Mapping","deleteText":"Do you really want to delete this mapping?","deleteChangesText":"Note: There are unsaved changes in the mapping.","deleteConfirm":"Delete original mapping","cancel":"@:general.cancel","removeConceptFromMapping":"remove concept from mapping","settingsButton":"Mapping Editor Settings","notSaved":"not saved","invalidMissing":"Missing {0}","invalidWhitelist":"{0} not allowed in {1}","invalid1to1":"Only 1-to-1 mappings allowed in {0}.","warningUpdateRegistry":"Mapping will not be updated in {0}, but saved as a new mapping in {1}.","warningUpdateNotAllowed":"Mapping can\'t be updated and will therefore be saved as a new mapping.","warningUpdateScheme":"Updated mapping will be saved with a different {0}, are you sure this is intented? If not, you can clone the mapping (button to the right of the delete button)."},"mappingBrowser":{"title":"Mapping Browser","edit":"edit in {0}","clone":"copy into Mapping Editor","saveAsMapping":"save as mapping in {0}","delete":"delete","showDetail":"show mapping details","showMore":"@:conceptDetail.showMore","noItems":"no results","from":"From","to":"To","creator":"Creator","chooseConcept":"Select a concept to see mappings and mapping recommendations","settingsButton":"Mapping Browser Settings","creatorIsDifferent":"This is your mapping, but the contained identity does not match your selected identity. Edit and save it again to update the identity.","concordance":"Concordance","concordances":"Concordances","mappingSearch":"Search","mappingNavigator":"Navigator","description":"Description","date":"Date","download":"Download","showMappings":"Show Mappings","total":"Total","searchSourceScheme":"source scheme","searchSourceNotation":"source notation/URI","searchTargetScheme":"target scheme","searchTargetNotation":"target notation/URI","searchType":"@:general.type","searchAllTypes":"all mapping types","searchAllConcordances":"all concordances","searchClear":"Clear","searchSubmit":"Search","searchBidirectional":"Bidirectional","searchBidirectionalTooltip":"If checked, mappings in both directions will be searched.","searchShareLabel":"Link","searchShareTitle":"Share link to this search","searchShareInclude":"Include selected schemes and concepts","searchShareCopy":"Copy link to clipboard","searchInsertSelfIntoCreator":"Insert my own identities","searchForMappingsByCreator":"Search mappings from this creator","searchExtend":"show extended search","searchCollapse":"hide extended search","mappingConfirmedTooltip":"Confirmed","openInCocoda":"open in Cocoda","lockScheme":"lock search scheme to selected scheme","unlockScheme":"unlock search scheme from selected scheme","registryHasErrored":"There has been an error when trying to load mappings from this registry. The shown results can be inaccurate."},"mappingDetail":{"title":"Mapping Details","sourceScheme":"Source Scheme","sourceConcept":"Source Concept | Source Concepts","targetScheme":"Target Scheme","targetConcept":"Target Concept | Target Concepts","mappingType":"Mapping Type","creator":"@:mappingBrowser.creator","created":"@:conceptDetail.created","modified":"@:conceptDetail.modified","annotations":"Annotations","note":"Note","identifier":"Identifier","partOf":"Part of Concordance"},"minimizer":{"minimize":"minimize card","maximize":"maximize card"},"settingsTabs":["Account","Data Sources","User Interface","Shortcuts","Local Mappings"],"settings":{"title":"Settings","language":"Interface Language","languageContribution":"To contribute to the translation of Cocoda, see these <a href=\'https://gbv.github.io/cocoda/#translation\' target=\'_blank\'>instructions in the documentation</a>.","checkForUpdates":"Automatically Check for Application Updates","checkForUpdatesExplanation":"When turned on, Cocoda will check  every {0} seconds whether it was updated to a newer version and show an alert if necessary.","resetSizes":"reset sizes","creator":"Name","creatorUrl":"Homepage (optional)","creatorPlaceholder":"Enter your name","creatorRewriteTitle":"Rewrite Creator","creatorRewriteText":"Clicking the button below will rewrite the creator for all local mappings with the following information:","creatorRewriteButton":"Rewrite creator for all local mappings","localDownload":"Download Local Mappings","localDownloadJskos":"Download all {0} mappings as JSKOS","localDownloadCsv":"Download all {0} mappings as CSV","localUpload":"Upload Local Mappings (JSKOS)","localUploadPlaceholder":"Choose a file...","localDeleteTitle":"Delete Local Mappings","localDeleteText":"Delete all local mappings","localDeleteSure":"This action deletes all local mappings (including all mappings in the trash) and cannot be undone! Are you sure?","suggestions1":"For issues and suggestions, please use the","suggestions2":"GitHub issue tracker","suggestions3":".","version":"Version","currentCommit":"Current Commit","buildDate":"Build Date","impressum":"Imprint","creatorUri":"Identity (must be an URI, is automatically filled after login)","creatorUriInvalid":"Please input a valid URI.","mappingRegistry":"Mapping Database","mappingRegistries":"Mapping databases","otherRegistries":"Other data sources","creatorInfo":"The following information is stored in all your mappings so it may also be shared:","accountInfo":"Cocoda uses a dedicated <a href=\\"{url}\\" target=\\"_blank\\">login server</a> to authenticate users:","accountPage":"Account Page","logInButton":"Log in","logOutButton":"Log out","loggedIn":"You are logged in","loggedOut":"You are not logged in","privacyPolicy":"Privacy Policy","localMappingsInfo":"Local mappings are only stored in your current browser. They are not visible to other users, but they will get lost if you purge your browser\'s local storage."},"alerts":{"mappingDeleted":"Mapping was deleted from {0}.","mappingNotDeleted":"Mapping could not be deleted from {0}.","mappingSaved":"Mapping was saved in {0}.","mappingNotSaved":"Mapping could not be saved in {0}.","mappingRestored":"Mapping was restored in {0}.","mappingNotRestored":"Mapping could not be restored in {0}.","annotationSaved":"Annotation was saved.","annotationRemoved":"Annotation was removed.","annotationNotSaved":"Annotation could not be saved.","annotationNotRemoved":"Annotation could not be removed.","annotationError":"There was an error regarding annotations. Please try again later.","newVersionText":"There is a new version of Cocoda.","newVersionLink":"Refresh site","loggedIn":"You are now logged in.","loggedInRegistryChanged":"You are now authenticated to save mappings into {0}.","loggedInRegistryChangedUndoButton":"Save mappings locally instead.","loggedOut":"You are now logged out.","nameError":"There was an error setting the name.","versionMismatch":"Database {registryLabel} ({registryUri}) is not version compatible with this release (database: {registryVersion}, supported: {jskosApi}). Please contact an administrator.","localMappingsFirstSaved":"You just saved your first mapping into \\"Local\\". Please note that local mappings are stored inside your browser, therefore you will lose these mappings when changing your browser or clearing your browser\'s storage. You can store mappings permanently inside \\"Concordance Registry\\" by logging in and changing your default mapping registry. Please refer to the <a href=\'https://gbv.github.io/cocoda/dev/user-manual-en.html#login\' target=\'_blank\'>manual</a> for more details.","favoriteConceptsNonConcept":"Only concepts can be added to Favorites list."},"dataModal":{"title":"Export JSKOS Data","exportClipboard":"copy to clipboard","localDownload":"Download","apiLinks":"API","apiUrl":"URL","concept":"no concepts | 1 concept | {count} concepts","scheme":"no scheme | 1 scheme | {count} schemes","mapping":"no mappings | 1 mapping | {count} mappings","annotation":"no annotations | 1 annotation | {count} annotations","concordance":"no concordances | 1 concordance | {count} concordances","resource":"no resources | 1 resource | {count} resources","button":"Source Data"},"registryInfo":{"schemes":"Schemes","concepts":"Concepts","mappings":"Mappings","annotations":"Annotations","occurrences":"Co-/Occurrences","authenticated":"Authenticated","notAuthenticated":"Authentication required","canSaveMappings":"This database can be used to save mappings."},"annotationPopover":{"addConfirmation":"Confirm","removeConfirmation":"Remove Confirmation"},"languages":{"en":"English","de":"German"},"cdkErrors":{"CDKError":"Unknown error.","MethodNotImplementedError":"The server doesn\'t seem to support this action or is not configured correctly.","InvalidOrMissingParameterError":"A parameter seems to be invalid or missing.","BackendError":"The server seems to have issues.","BackendUnavailableError":"The server is not reachable.","NetworkError":"There are issues with the connection.","InvalidRequestError":"The request seems to be invalid.","MissingApiUrlError":"@:cdkErrors.CDKError"}},"de":{"general":{"welcome":"Willkommen bei Cocoda!","manual":"Anleitung","documentation":"Dokumentation","github":"GitHub","feedback":"Rückmeldungen sind willkommen!","feedback2":"Wir freuen uns über Fragen und Ideen!","yes":"Ja","no":"Nein","swapSides":"Seiten tauschen","clearScheme":"Vokabular entfernen","addToMapping":"zum Mapping hinzufügen","loading":"Lade...","cancel":"Abbrechen","authNecessary":"Authentifizierung notwendig.","or":"oder","of":"von","left":"links","right":"rechts","enabled":"aktiviert","disabled":"deaktiviert","default":"Standard","resizingSlider":"ziehen, um Komponenten-Größen anzupassen","malformedConfig":"Die Konfigurationsdatei {configFile} konnte nicht geladen werden!","showConcordances":"Zeige Konkordanz-Liste","showMappingSearch":"Zeige die Mapping-Suche","tooManyMappings":"Es sind {count} lokale Mappings im Browser gespeichert. Eine große Anzahl an lokalen Mappings kann die Performance des Tools beeinflussen.","undo":"rückgängig","type":"Typ","noRegistries":"Es sind keine Datenquellen konfiguriert! Bitte entnehmen sie der <a href=\'https://gbv.github.io/cocoda/#configuration\' target=\'_blank\'>Dokumentation</a> wie Datenquellen konfiguriert werden können!","storedMappings":"Mappings","recommendedMappings":"Vorschläge"},"navbar":{"trashTitle":"Kürzlich gelöschte Mappings","trashClearButton":"Leeren","trashClearButtonTooltip":"Entfernt alle Mappings aus dem Papierkorb.","trashRestoreTooltip":"Mapping wiederherstellen","openLeft":"auf der linken Seite öffnen","openRight":"auf der rechten Seite öffnen","removeFromFavorites":"aus den Favoriten entfernen","defaultIdentity":"Standard-Identität"},"schemeSelection":{"source":"Quell-Vokabular","target":"Ziel-Vokabular","filter":"Filter","filtersRemove":"Alle Filter entfernen","filterSelectAll":"alle auswählen","filterDeselectAll":"alle abwählen","filterOnlyFavorites":"Nur Favoriten anzeigen","languageFilter":"Sprache","typeFilter":"Vokabular-Typ","filterOther":"Sonstige","registryFilter":"Quelle","schemeFilterPlaceholder":"Suche nach Vokabularen...","starAdd":"zu Favoriten hinzufügen","starRemove":"aus Favoriten entfernen","popoverShow":"Vokabular-Auswahl öffnen","popoverHide":"Vokabular-Auswahl ausblenden","showAllSchemes":"Alle {count} Vokabulare anzeigen"},"search":{"placeholder":"Tippen zum Suchen...","results":"Ergebnis | Ergebnisse","noResults":"Keine Ergebnisse...","error":"Bei der Suchanfrage ist ein Fehler aufgetreten."},"mappingEditor":{"title":"Mapping-Editor","guidelines":"Mapping-Richtlinien öffnen","placeholder":"Konzept ziehen und hier ablegen.","placeholderDragging":"Konzept hier ablegen.","saveMapping":"Mapping in {0} speichern","deleteMapping":"Mapping löschen","clearMapping":"Mapping leeren","cloneMapping":"Mapping duplizieren","swapMapping":"Quell- und Zielkonzepte tauschen","addConcept":"Konzept zum Mapping hinzufügen","deleteTitle":"Mapping löschen","deleteText":"Dieses Mapping wirklich löschen?","deleteChangesText":"Anmerkung: Es gibt ungespeicherte Änderungen in dem Mapping.","deleteConfirm":"Originales Mapping löschen","cancel":"@:general.cancel","removeConceptFromMapping":"Konzept aus Mapping entfernen","settingsButton":"Mapping-Editor Einstellungen","notSaved":"nicht gespeichert","invalidMissing":"{0} fehlt","invalidWhitelist":"{0} nicht erlaubt in {1}","invalid1to1":"Nur 1-zu-1-Mappings erlaubt in {0}.","warningUpdateRegistry":"Mapping wird nicht in {0} aktualisiert, sondern als neues Mapping in {1} gespeichert.","warningUpdateNotAllowed":"Mapping kann nicht aktualisiert werden und wird deshalb als neues Mapping gespeichert.","warningUpdateScheme":"Das aktualisierte Mapping wird mit anderem {0} gespeichert, ist das so gewollt? Falls nicht, kann das Mapping geklont werden (Button rechts vom Löschen-Button)."},"settingsTabs":["Account","Datenquellen","Oberfläche","Tastaturkürzel","Lokale Mappings"],"settings":{"title":"Einstellungen","language":"Sprache der Oberfläche","languageContribution":"Um zur Übersetzung von Cocoda beizutragen, siehe diese <a href=\'https://gbv.github.io/cocoda/#translation\' target=\'_blank\'>Anweisungen in der Dokumentation</a> (Englisch).","checkForUpdates":"Automatisch nach Updates für die Anwendung suchen","checkForUpdatesExplanation":"Falls eingeschaltet, prüft Cocoda jede {0} Sekunden, ob es ein neues Update gibt, und zeigt diesbezüglich eine Meldung falls notwendig.","resetSizes":"Größen zurücksetzen","creator":"Name","creatorUrl":"Homepage (optional)","creatorPlaceholder":"Bitte Namen eintippen...","creatorRewriteTitle":"Creator-Feld überschreiben","creatorRewriteText":"Durch den nachfolgenden Button wird der creator aller lokaler Mappings mit folgenden Informationen überschrieben:","creatorRewriteButton":"creator-Feld für alle lokalen Mappings überschreiben","localDownload":"Lokale Mappings herunterladen","localDownloadJskos":"Lade alle {0} Mappings als JSKOS herunter","localDownloadCsv":"Lade alle {0} Mappings als CSV herunter","localUpload":"Lokale Mappings hochladen (JSKOS)","localUploadPlaceholder":"Datei auswählen...","localDeleteTitle":"Lokale Mappings löschen","localDeleteText":"Alle lokalen Mappings löschen","localDeleteSure":"Diese Aktion löscht alle lokalen Mappings (inkl. der kürzlich gelöschten Mappings) und kann nicht rückgängig gemacht werden! Fortfahren?","suggestions1":"Für Probleme oder Vorschläge, bitte den","suggestions2":"GitHub Issue Tracker","suggestions3":" benutzen.","version":"Version","currentCommit":"Aktueller Commit","buildDate":"Build-Datum","impressum":"Impressum","creatorUri":"Identität (als URI, wird beim Login automatisch gesetzt)","creatorUriInvalid":"Bitte eine valide URI eingeben.","mappingRegistry":"Mapping-Datenbank","mappingRegistries":"Mapping-Datenbanken","otherRegistries":"Andere Datenquellen","creatorInfo":"Die folgenden Angaben werden in allen bearbeiteten Mappings hinterlegt und können beim Austausch von Mappings weitergegeben werden:","accountInfo":"Cocoda nutzt einen dedizierten <a href=\\"{url}\\" target=\\"_blank\\">Login-Server</a>, um Nutzer zu authentifizieren:","accountPage":"Account-Seite","logInButton":"Einloggen","logOutButton":"Ausloggen","loggedIn":"Du bist eingeloggt.","loggedOut":"Du bist nicht eingeloggt.","privacyPolicy":"Datenschutz","localMappingsInfo":"Lokale Mappings werden in dem aktuellen Browser gespeichert. Sie sind nicht für andere Nutzer sichtbar, gehen jedoch verloren, wenn man den lokalen Speicher des Browsers leert."},"conceptDetail":{"showAllAncestors":"zeige alle übergeordneten Konzepte","showLessAncestors":"zeige weniger übergeordnete Konzepte","created":"Erstellung","modified":"Änderung","issued":"Veröffentlicht","altLabels":"Alternative Bezeichnungen","definition":"Definition","relevance":"Relevanz","relevanceVeryHigh":"sehr hoch","relevanceHigh":"hoch","relevanceMedium":"mittel","relevanceLow":"niedrig","relevanceGeneric":"generisch","info":"Info","labels":"Bezeichnungen","editorial":"Editorial","scope":"Scope","gnd":"GND","coliAnaIncomplete":"Diese DDC-Nummer konnte nicht vollständig analysiert werden. Entweder sie wurde nicht korrekt nach den aktuellen Regeln gebildet oder die Analyse ist noch unvollständig.","coliAnaInfo":"Mehr Details und Informationen im <a href=\\"{url}\\" target=\\"_blank\\">coli-ana Webinterface</a>.","searchLinks":"Suchlinks","clearConcept":"Konzept entfernen","previousConceptTooltip":"vorheriges Konzept","nextConceptTooltip":"nächstes Konzept"},"schemeDetail":{"noTopConcepts":"Keine Oberkonzepte","languages":"Vorhandene Sprachen","availableMappings":"vorhandene Mappings","registry":"Quellen"},"conceptList":{"noItems":"keine Konzepte vorhanden","favoriteConcepts":"Konzept-Schnellauswahl","favoriteConceptsShort":"Schnellauswahl","topConcepts":"Oberkonzepte des Vokabulars in Baumansicht","topConceptsShort":"Baumansicht"},"itemDetail":{"pleaseSelect":"Bitte Vokabular oder Konzept auswählen.","combinedConcept":"zusammengesetztes Konzept","unknownConcept":"unbekanntes Konzept"},"mappingBrowser":{"title":"Mapping-Browser","edit":"bearbeiten in {0}","clone":"in den Mapping-Editor kopieren","saveAsMapping":"als Mapping in {0} speichern","delete":"löschen","showDetail":"Mapping-Details anzeigen","showMore":"@:conceptDetail.showMore","noItems":"keine Ergebnisse","from":"Von","to":"Zu","creator":"Erstellt von","chooseConcept":"Ein Konzept auswählen, um Mappings und Mapping-Vorschläge zu sehen","settingsButton":"Mapping-Browser Einstellungen","creatorIsDifferent":"Dies ist dein Mapping, aber die darin gespeicherte Identität entspricht nicht der ausgewählten Identität. Editiere und speichere es erneut, um die Identität anzupassen.","concordance":"Konkordanz","concordances":"Konkordanzen","mappingSearch":"Suche","mappingNavigator":"Navigator","description":"Beschreibung","date":"Datum","download":"Download","showMappings":"Mappings anzeigen","total":"Gesamt","searchSourceScheme":"Quellvokabular","searchSourceNotation":"Quellnotation/-URI","searchTargetScheme":"Zielvokabular","searchTargetNotation":"Zielnotation/-URI","searchType":"@:general.type","searchAllTypes":"Alle Mapping-Typen","searchAllConcordances":"Alle Konkordanzen","searchClear":"Leeren","searchSubmit":"Suche","searchBidirectional":"Bidirektional","searchBidirectionalTooltip":"Wenn aktiviert werden Mappings in beide Richtungen gesucht.","searchShareLabel":"Link","searchShareTitle":"Einen Link zu dieser Suche teilen","searchShareInclude":"Einschließlich ausgewählter Vokabulare und Konzepte","searchShareCopy":"Link in die Zwischenablage kopieren","searchInsertSelfIntoCreator":"Meine eigenen Identitäten einfügen","searchForMappingsByCreator":"Suche Mappings dieses Accounts","searchExtend":"erweiterte Suche anzeigen","searchCollapse":"erweiterte Suche ausblenden","mappingConfirmedTooltip":"Bestätigt","openInCocoda":"in Cocoda öffnen","lockScheme":"binde Suchvokabular an das ausgewählte Vokabular","unlockScheme":"entbinde Suchvokabular von dem ausgewählten Vokabular","registryHasErrored":"Beim Laden von Mappings aus diesem Register ist ein Fehler aufgetreten. Das angezeigte Ergebnis kann inakkurat sein."},"mappingDetail":{"title":"Mapping-Details","sourceScheme":"Quellvokabular","sourceConcept":"Quellkonzept | Quellkonzepte","targetScheme":"Zielvokabular","targetConcept":"Zielkonzept | Zielkonzepte","mappingType":"Mapping-Typ","creator":"@:mappingBrowser.creator","created":"@:conceptDetail.created","modified":"@:conceptDetail.modified","annotations":"Annotationen","note":"Notiz","identifier":"Identifier","partOf":"Teil der Konkordanz"},"minimizer":{"minimize":"Komponente ausblenden","maximize":"Komponente einblenden"},"alerts":{"mappingDeleted":"Mapping wurde aus {0} gelöscht.","mappingNotDeleted":"Mapping konnte nicht aus {0} gelöscht werden.","mappingSaved":"Mapping wurde in {0} gespeichert.","mappingNotSaved":"Mapping konnte nicht in {0} gespeichert werden.","mappingRestored":"Mapping wurde in {0} wiederhergestellt.","mappingNotRestored":"Mapping konnte nicht in {0} wiederhergestellt werden.","annotationSaved":"Annotation wurde gespeichert.","annotationRemoved":"Annotation wurde entfernt.","annotationNotSaved":"Annotation konnte nicht gespeichert werden. Bitte Authentifizierung prüfen.","annotationNotRemoved":"Annotation konnte nicht gespeichert werden. Bitte Authentifizierung prüfen.","annotationError":"Ein Fehler bezüglich Annotationen ist aufgetreten. Bitte später noch einmal probieren.","newVersionText":"Es gibt eine neue Version von Cocoda.","newVersionLink":"Seite neu laden","loggedIn":"Du bist jetzt eingeloggt.","loggedInRegistryChanged":"Du bist nun authentifiziert, um Mappings in {0} zu speichern.","loggedInRegistryChangedUndoButton":"Mappings stattdessen lokal speichern.","loggedOut":"Du bist jetzt ausgeloggt.","nameError":"Fehler beim Ändern des Namens.","versionMismatch":"Datenbank {registryLabel} ({registryUri}) ist nicht versionskompatibel mit diesem Release (Datenbank: {registryVersion}, unterstützt: {jskosApi}). Bitte einen Administrator kontaktieren.","localMappingsFirstSaved":"Du hast soeben dein erstes Mapping in \\"Lokal\\" gespeichert. Bitte beachte, dass lokale Mappings in deinem Browser gespeichert werden, was bedeutet, dass sie verloren gehen, falls du den Browser wechselst oder die Daten des Browsers leerst. Es ist möglich, Mappings dauerhaft im \\"Konkordanz-Register\\" zu speichern, indem man sich einloggt und das Standard-Mapping-Register ändert. Bitte wende dich an das <a href=\'https://gbv.github.io/cocoda/dev/user-manual-de.html#benutzeraccounts\' target=\'_blank\'>Benutzerhandbuch</a> für mehr Informationen.","favoriteConceptsNonConcept":"Es können nur Konzepte zur Favoriten-Liste hinzugefügt werden."},"dataModal":{"title":"JSKOS-Daten exportieren","exportClipboard":"in die Zwischenablage kopieren","localDownload":"Download","apiLinks":"API","apiUrl":"URL","concept":"keine Konzepte | 1 Konzept | {count} Konzepte","scheme":"keine Vokabulare | 1 Vokabular | {count} Vokabulare","mapping":"keine Mappings | 1 Mapping | {count} Mappings","annotation":"keine Annotationen | 1 Annotation | {count} Annotationen","concordance":"keine Konkordanzen | 1 Konkordanz | {count} Konkordanzen","resource":"keine Ressourcen | 1 Ressource | {count} Ressourcen","button":"Quelldaten"},"registryInfo":{"schemes":"Vokabulare","concepts":"Konzepte","mappings":"Mappings","annotations":"Annotationen","occurrences":"Katalogvorkommen","authenticated":"Authentifiziert","notAuthenticated":"Authentifizierung notwendig","canSaveMappings":"Diese Datenbank kann zum Speichern von Mappings verwendet werden."},"annotationPopover":{"addConfirmation":"Bestätigen","removeConfirmation":"Bestätigung entfernen"},"languages":{"en":"Englisch","de":"Deutsch"},"cdkErrors":{"BackendUnavailableError":"Der Server ist nicht erreichbar.","BackendError":"Der Server scheint Probleme zu haben.","MissingApiUrlError":"@:cdkErrors.CDKError","MethodNotImplementedError":"Der Server scheint diese Aktion nicht zu unterstützten oder wurde nicht richtig konfiguriert.","NetworkError":"Es gibt Probleme mit der Netzwerkverbindung.","InvalidOrMissingParameterError":"Ein Parameter scheint fehlerhaft zu sein oder zu fehlen.","InvalidRequestError":"Die Anfrage scheint fehlerhaft zu sein."}}}')},b1fa:function(e,t,i){"use strict";i("1b56")},b758:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loader",class:"loader-"+e.size})},s=[],a={name:"LoadingIndicator",props:{size:{type:String,default:"md"}}},o=a,r=(i("438a"),i("2877")),l=Object(r["a"])(o,n,s,!1,null,"7957ec4c",null);t["a"]=l.exports},b94b:function(e){e.exports=JSON.parse('{"ConceptSchemeSelection":{"insertPrefLabel":{"prefLabel":{"en":"Copy selected concept label from opposite side into search field","de":"Ausgewähltes Konzept der gegenüberliegenden Seite in Suchfeld eintragen"},"definition":{"en":["When turned on, the label of the selected concept on the opposite side will be inserted in the concept search whenever the selected concept changes."],"de":["Falls eingeschaltet wird das Label vom ausgewählten Konzept der gegenüberliegenden Seite in das Suchfeld einfügt, sobald das Konzept sich ändert."]},"type":"Boolean","default":true,"sideDependent":true}},"ItemDetail":{"showAllAncestors":{"prefLabel":{"en":"Always show all ancestors in concept details","de":"Übergeordneten Konzepte immer anzeigen"},"type":"Boolean","default":false}},"ConceptListWrapper":{"addToMappingSelectsConcept":{"prefLabel":{"en":"Select concept when added to mapping","de":"Konzept beim Hinzufügen zu Mapping auswählen"},"type":"Boolean","default":true},"loadConceptsMappedStatus":{"prefLabel":{"en":"Mark mapped concepts","de":"Gemappte Konzepte markieren"},"definition":{"en":["Concepts with at least one mapping in the currently selected mapping database to the opposite concept scheme will be marked with a green bar."],"de":["Es wird ein grüner Balken rechts von Konzepten angezeigt, die in der ausgewählten Mapping-Datenbank mindestens ein Mapping auf das gegenüberstehende Vokabular haben."]},"type":"Boolean","default":true}},"MappingEditor":{"clearOnSave":{"prefLabel":{"en":"Clear on save","de":"Leere Editor nach Speichern"},"definition":{"en":["When turned on, the editor will be cleared after a mapping was saved."],"de":["Falls eingeschaltet wird der Editor nach dem Speichern eines Mappings geleert."]},"type":"Boolean","default":true},"only1to1mappings":{"prefLabel":{"en":"Only allow 1-to-1 mappings (1-to-n otherwise)","de":"Nur 1-zu-1 Mappings erlauben (sonst 1-zu-n)"},"definition":{"en":["When turned on, only 1-to-1 mappings will be allowed. When turned off, 1-to-n mappings will be allowed."],"de":["Falls eingeschaltet, werden nur 1-zu-1 Mappings erlaubt. Falls ausgeschaltet, werden 1-zu-n Mappings erlaubt."]},"type":"Boolean","default":false}},"MappingBrowser":{"resultLimit":{"prefLabel":{"en":"Results per page:","de":"Ergebnisse pro Seite:"},"type":"Number","default":5,"min":1,"max":20},"autoRefresh":{"prefLabel":{"en":"Automatically refresh (seconds):","de":"Automatisch aktualiseren (Sekunden):"},"definition":{"en":["Determines how often mappings are refreshed from the API. A value below 10 is not recommended. 0 disables automatic refresh."],"de":["Bestimmt, wie häufig Mappings von der API aktualisiert werden. Ein Wert unter 10 ist nicht empfohlen. 0 deaktiviert die automatische Aktualisierung."]},"type":"Number","min":0,"max":10000},"showEmpty":{"prefLabel":{"en":"Show empty sections","de":"Leere Abschnitte anzeigen"},"definition":{"en":["When turned off, sections with no mappings will be completely hidden."],"de":["Falls ausgeschaltet werden Abschnitte ohne Mappings komplett ausgeblendet."]},"type":"Boolean","default":true},"showIdentityWarning":{"prefLabel":{"en":"Show warning for mismatch in mapping identity","de":"Hinweis bei abweichender Identität"},"definition":{"en":["When enabled, a warning sign will be shown if one of your own mappings contains an identity different from the one currently selected."],"de":["Falls eingeschaltet wird eine Warnung angezeigt, falls in einem deiner Mappings eine von der aktuell ausgewählten abweichende Identität gespeichert ist."]},"type":"Boolean","default":true},"navigatorDivider":{"prefLabel":{"en":"Navigator"},"class":"fontWeight-heavy"},"showAllSchemes":{"prefLabel":{"en":"Show results of all concept schemes","de":"Alle Vokabulare berücksichtigen"},"definition":{"en":["When turned off, only the results of the currently selected concept schemes will be shown."],"de":["Falls ausgeschaltet werden nur Ergebnisse der Vokabulare angezeigt, die aktuell ausgewählt sind."]},"type":"Boolean","default":true},"navigatorShowResultsForLeft":{"prefLabel":{"en":"Results related to selected concept on the left side","de":"Mappings mit linkem Konzept anzeigen"},"type":"Boolean","default":true},"navigatorShowResultsForRight":{"prefLabel":{"en":"Results related to selected concept on the right side","de":"Mappings mit rechtem Konzept anzeigen"},"type":"Boolean","default":true},"moveCurrentRegistryToTop":{"prefLabel":{"en":"Currently selected mapping database at the top","de":"Ausgewählte Mapping-Datenbank oben"},"type":"Boolean","default":true}}}')},c1fc:function(e,t,i){"use strict";i("6188")},c444:function(e,t,i){"use strict";i("1e2d")},c98c:function(e,t,i){"use strict";i("15a9")},cdbb:function(e,t,i){"use strict";i("cedb")},cedb:function(e,t,i){},d465:function(e,t,i){"use strict";var n=function(){var e,t=this,i=t.$createElement,n=t._self._c||i;return n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html.left",value:t.tooltip?t.$jskos.prefLabel(t.registry):"",expression:"tooltip ? $jskos.prefLabel(registry) : ''",modifiers:{html:!0,left:!0}}],staticClass:"registry-notation",class:(e={},e[t.isCurrentRegistry?"registry-current-enabled":"registry-enabled"]=!t.disabled,e["registry-notation-current"]=t.isCurrentRegistry,e),style:"width: "+(18+9*(t.$jskos.notation(t.registry).length-1))+"px;"},[t._v(" "+t._s(t.$jskos.notation(t.registry))+" ")])},s=[],a={name:"RegistryNotation",props:{registry:{type:Object,default:null},disabled:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0}},computed:{isCurrentRegistry(){return this.$jskos.compare(this.registry,this.$store.getters.getCurrentRegistry)}}},o=a,r=(i("3ee3"),i("2877")),l=Object(r["a"])(o,n,s,!1,null,null,null);t["a"]=l.exports},d78f:function(e,t,i){},d8c4:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("dataModal.button"),delay:e.defaults.delay.medium},expression:"{ title: $t('dataModal.button'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"dataModalButton",style:"right: "+e.positionRight+"px; bottom: "+e.positionBottom+"px;",on:{click:e.openDataModal}},[i("font-awesome-icon",{attrs:{icon:"code"}})],1),i("data-modal",{ref:"dataModal",attrs:{data:e.data,type:e.type,url:e.url,"total-count":e.totalCount}})],1)},s=[],a=i("47b7"),o={name:"DataModalButton",components:{DataModal:a["a"]},props:{data:{type:[Object,Array],default:null},type:{type:String,default:null,validator:function(e){return-1!==["concept","scheme","mapping","annotation","concordance"].indexOf(e)}},url:{type:[String,Object],default:null},totalCount:{type:Number,default:null},positionRight:{type:Number,default:5},positionBottom:{type:Number,default:0}},methods:{openDataModal(){this.$refs.dataModal.show()}}},r=o,l=i("2877"),c=Object(l["a"])(r,n,s,!1,null,null,null);t["a"]=c.exports},dd6a:function(e,t,i){"use strict";let n,s;"undefined"!==typeof document.hidden?(n="hidden",s="visibilitychange"):"undefined"!==typeof document.msHidden?(n="msHidden",s="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(n="webkitHidden",s="webkitvisibilitychange"),t["a"]={data(){return{isPageVisible:!0}},created(){n&&document.addEventListener(s,this.handleVisibilityChangeInternal,!1),this.isPageVisible=!document[n]},beforeDestroy(){n&&document.removeEventListener(s,this.handleVisibilityChangeInternal,!1)},methods:{handleVisibilityChangeInternal(){this.isPageVisible=!document[n]}}}},eb21:function(e,t,i){},ef0f:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"mappingBrowser"}},[i("component-settings",{attrs:{tooltip:e.$t("mappingBrowser.settingsButton")}}),i("tabs",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},attrs:{fill:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.concordancesShown?i("tab",{attrs:{title:e.$t("mappingBrowser.concordances")},on:{click:e.handleClick}},[e.concordances&&e.concordances.length?[i("div",{staticStyle:{display:"flex",padding:"0px 4px"}},e._l(e.concordanceTableFields,(function(t){return i("div",{key:t.key,style:"padding: 0px 10px 0px 0px; flex: 0 0 "+t.width},["from"==t.key?i("b-input",{staticStyle:{width:"55%",display:"inline-block"},attrs:{type:"text",size:"sm",placeholder:e.$t("mappingBrowser.from")},model:{value:e.concordanceFilter.from,callback:function(t){e.$set(e.concordanceFilter,"from",t)},expression:"concordanceFilter.from"}}):e._e(),"to"==t.key?i("b-input",{staticStyle:{width:"75%",display:"inline-block"},attrs:{type:"text",size:"sm",placeholder:e.$t("mappingBrowser.to")},model:{value:e.concordanceFilter.to,callback:function(t){e.$set(e.concordanceFilter,"to",t)},expression:"concordanceFilter.to"}}):e._e(),"creator"==t.key?i("b-input",{staticStyle:{width:"80%",display:"inline-block"},attrs:{type:"text",size:"sm",placeholder:e.$t("mappingBrowser.creator")},model:{value:e.concordanceFilter.creator,callback:function(t){e.$set(e.concordanceFilter,"creator",t)},expression:"concordanceFilter.creator"}}):e._e(),null!=e.concordanceFilter[t.key]?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:"clear filter",delay:e.defaults.delay.medium},expression:"{ title: 'clear filter', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button mappingBrowser-from650",attrs:{icon:"times"},on:{click:function(i){e.concordanceFilter[t.key]=""}}},[e._v(" x ")]):e._e(),"from"==t.key?i("b-button",{staticClass:"mappingBrowser-from750",staticStyle:{"padding-right":"0","margin-right":"-5px"},attrs:{variant:"link",size:"sm",tabindex:"-1"},on:{click:function(t){var i;i=[e.concordanceFilter.to,e.concordanceFilter.from],e.concordanceFilter.from=i[0],e.concordanceFilter.to=i[1]}}},[i("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1):e._e()],1)})),0),i("div",{staticStyle:{flex:"1",height:"0",position:"relative"}},[i("flexible-table",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},attrs:{fields:e.concordanceTableFields,items:e.concordanceTableItems},scopedSlots:e._u([{key:"download",fn:function(t){var n=t.value;return i("span",{},e._l(n,(function(t,n){return i("span",{key:n},[e.nameOfDistribution(t)?i("a",{attrs:{href:t.download}},[e._v(" "+e._s(e.nameOfDistribution(t))+" ")]):e._e()])})),0)}},{key:"mappings",fn:function(t){var n=t.value;return i("span",{},[e._v(" "+e._s((parseInt(n)||"?").toLocaleString())+" ")])}},{key:"actions",fn:function(t){var n=t.item;return i("span",{},[i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.showMappings"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.showMappings'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"external-link-square-alt"},on:{click:function(t){return e.showMappingsForConcordance(n.concordance)}}})],1)}},{key:"from",fn:function(e){var t=e.value;return i("span",{},[i("item-name",{attrs:{item:t,"show-text":!1,"is-link":!0===t.__SAVED__,"is-left":!0,"font-size":"sm"}})],1)}},{key:"to",fn:function(e){var t=e.value;return i("span",{},[i("item-name",{attrs:{item:t,"show-text":!1,"is-link":t.__SAVED__,"is-left":!1,"font-size":"sm"}})],1)}}],null,!1,775637004)})],1),i("div",{staticStyle:{display:"flex"}},[i("p",{staticStyle:{"font-weight":"bold",flex:"1","padding-left":"5px"}},[e._v(" "+e._s(e.concordanceTableItems.length)+" "+e._s(e.$t("mappingBrowser.concordances"))+" ")]),i("p",{staticStyle:{"text-align":"right","font-weight":"bold","padding-right":"45px"}},[e._v(" "+e._s(e.$t("mappingBrowser.total"))+": "+e._s(e.concordanceTableItems.reduce((function(e,t){return e+parseInt(t.mappings)||0}),0).toLocaleString())+" "+e._s(e.$t("general.of"))+" "+e._s(e.totalNumberOfMappings&&e.totalNumberOfMappings.toLocaleString()||"?")+" ")]),e.concordances&&e.concordances.length>0?i("data-modal-button",{attrs:{data:e.concordances,"position-right":20,url:e.concordanceUrls,type:"concordance"}}):e._e()],1)]:e._e()],2):e._e(),i("tab",{attrs:{title:e.$t("mappingBrowser.mappingSearch")},on:{click:e.handleClick}},[i("div",{staticStyle:{flex:"none",padding:"0px 4px"}},[i("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[i("b-input",{staticStyle:{flex:"1",margin:"3px","min-width":"40px"},attrs:{state:""==e.searchFilterInput.fromScheme?null:null!=e.searchFromScheme,size:"sm",placeholder:e.$t("mappingBrowser.searchSourceScheme")},on:{drop:function(t){!e.lockScheme[!0]&&e.drop(t,{scheme:"searchFilterInput.fromScheme",concept:"searchFilterInput.fromNotation"})}},nativeOn:{keyup:[function(t){e.lockScheme[!0]=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}]},model:{value:e.searchFilterInput.fromScheme,callback:function(t){e.$set(e.searchFilterInput,"fromScheme",t)},expression:"searchFilterInput.fromScheme"}}),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.lockScheme[!0]?e.$t("mappingBrowser.unlockScheme"):e.$t("mappingBrowser.lockScheme"),expression:"lockScheme[true] ? $t('mappingBrowser.unlockScheme') : $t('mappingBrowser.lockScheme')"}],staticClass:"button",staticStyle:{flex:"none","font-size":"12px",margin:"auto 8px auto 2px"},on:{click:function(t){e.lockScheme[!0]=!e.lockScheme[!0]}}},[i("font-awesome-icon",{attrs:{icon:e.lockScheme[!0]?"lock":"lock-open"}})],1),i("b-input",{staticStyle:{flex:"2",margin:"3px","min-width":"60px"},attrs:{size:"sm",placeholder:e.$t("mappingBrowser.searchSourceNotation")},on:{drop:function(t){return e.drop(t,{scheme:e.lockScheme[!0]?null:"searchFilterInput.fromScheme",concept:"searchFilterInput.fromNotation"})}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.fromNotation,callback:function(t){e.$set(e.searchFilterInput,"fromNotation",t)},expression:"searchFilterInput.fromNotation"}}),i("div",{staticClass:"button",staticStyle:{flex:"none","font-size":"16px",margin:"auto 5px"},on:{click:e.swapClicked}},[i("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1),i("b-input",{staticStyle:{flex:"1",margin:"3px","min-width":"40px"},attrs:{state:""==e.searchFilterInput.toScheme?null:null!=e.searchToScheme,size:"sm",placeholder:e.$t("mappingBrowser.searchTargetScheme")},on:{drop:function(t){!e.lockScheme[!1]&&e.drop(t,{scheme:"searchFilterInput.toScheme",concept:"searchFilterInput.toNotation"})}},nativeOn:{keyup:[function(t){e.lockScheme[!1]=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}]},model:{value:e.searchFilterInput.toScheme,callback:function(t){e.$set(e.searchFilterInput,"toScheme",t)},expression:"searchFilterInput.toScheme"}}),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.lockScheme[!1]?e.$t("mappingBrowser.unlockScheme"):e.$t("mappingBrowser.lockScheme"),expression:"lockScheme[false] ? $t('mappingBrowser.unlockScheme') : $t('mappingBrowser.lockScheme')"}],staticClass:"button",staticStyle:{flex:"none","font-size":"12px",margin:"auto 8px auto 2px"},on:{click:function(t){e.lockScheme[!1]=!e.lockScheme[!1]}}},[i("font-awesome-icon",{attrs:{icon:e.lockScheme[!1]?"lock":"lock-open"}})],1),i("b-input",{staticStyle:{flex:"2",margin:"3px","min-width":"60px"},attrs:{size:"sm",placeholder:e.$t("mappingBrowser.searchTargetNotation")},on:{drop:function(t){return e.drop(t,{scheme:e.lockScheme[!1]?null:"searchFilterInput.toScheme",concept:"searchFilterInput.toNotation"})}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.toNotation,callback:function(t){e.$set(e.searchFilterInput,"toNotation",t)},expression:"searchFilterInput.toNotation"}}),i("b-button",{staticStyle:{flex:"none",margin:"3px"},attrs:{variant:"primary",size:"sm"},on:{click:e.searchClicked}},[i("font-awesome-icon",{attrs:{icon:"search"}}),e._v(e._s(e.$t("mappingBrowser.searchSubmit"))+" ")],1),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{title:e.$t("mappingBrowser."+(e.searchFilterExtended?"searchCollapse":"searchExtend")),placement:e.searchFilterExtended?"left":"bottom"},expression:"{\n              title: $t(`mappingBrowser.${searchFilterExtended ? 'searchCollapse' : 'searchExtend'}`),\n              placement: searchFilterExtended ? 'left' : 'bottom',\n            }"}],staticClass:"button fontSize-large",staticStyle:{flex:"none",margin:"3px",position:"relative",width:"20px"},on:{click:function(t){e.searchFilterExtended=!e.searchFilterExtended}}},[e.searchFilterExtended?i("font-awesome-icon",{staticStyle:{"vertical-align":"-0.3em"},attrs:{icon:"chevron-up"}}):i("font-awesome-icon",{staticStyle:{"vertical-align":"-0.3em"},attrs:{icon:"filter"}}),!e.searchFilterExtended&&(e.searchFilterInput.creator||e.searchFilterInput.type||e.searchFilterInput.partOf)?i("span",{staticClass:"text-success",staticStyle:{position:"absolute",top:"-9px",right:"-3px"}},[e._v(" • ")]):e._e()],1),e.searchFilterExtended?[i("div",{staticStyle:{"flex-basis":"100%",height:"0"}}),i("div",{staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.creator"))+": ")]),i("div",{staticStyle:{flex:"2",margin:"3px",display:"flex","align-items":"center"}},[i("b-input",{attrs:{size:"sm",placeholder:e.$t("mappingBrowser.creator")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.creator,callback:function(t){e.$set(e.searchFilterInput,"creator",t)},expression:"searchFilterInput.creator"}}),e.authorized&&e.searchFilterInput.creator!=e.userUris.join("|")?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.searchInsertSelfIntoCreator"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.searchInsertSelfIntoCreator'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",staticStyle:{"margin-left":"2px"},on:{click:function(t){e.searchFilterInput.creator=e.userUris.join("|")}}},[i("font-awesome-icon",{attrs:{icon:"user"}})],1):e._e()],1),i("div",{staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.searchType"))+": ")]),i("b-select",{staticStyle:{flex:"3",margin:"3px"},attrs:{size:"sm",options:e.typeOptions},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.type,callback:function(t){e.$set(e.searchFilterInput,"type",t)},expression:"searchFilterInput.type"}}),i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.searchBidirectionalTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.searchBidirectionalTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.searchBidirectional"))+": "),i("b-form-checkbox",{staticStyle:{display:"inline-block"},attrs:{size:"sm",value:"both","unchecked-value":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.direction,callback:function(t){e.$set(e.searchFilterInput,"direction",t)},expression:"searchFilterInput.direction"}})],1),i("div",{staticStyle:{"flex-basis":"100%",height:"0"}}),i("div",{staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.concordance"))+": ")]),i("b-form-select",{staticStyle:{flex:"2",margin:"3px"},attrs:{size:"sm",options:e.concordanceOptions},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.partOf,callback:function(t){e.$set(e.searchFilterInput,"partOf",t)},expression:"searchFilterInput.partOf"}}),e._l(e.searchRegistries,(function(t){return i("registry-notation",{key:t.uri,staticClass:"mappingBrowser-search-registryNotation",class:{pointer:!e.$jskos.compare(t,e.currentRegistry)},attrs:{registry:t,disabled:!e.showRegistry[t.uri]},nativeOn:{click:function(i){e.showRegistry[t.uri]=!e.showRegistry[t.uri]},mouseover:function(i){e.hoveredRegistry=t},mouseout:function(t){e.hoveredRegistry=null}}})})),i("b-button",{staticStyle:{flex:"none",margin:"3px"},attrs:{variant:"danger",size:"sm"},on:{click:e.clearSearchFilter}},[i("font-awesome-icon",{attrs:{icon:"ban"}}),e._v(" "+e._s(e.$t("mappingBrowser.searchClear"))+" ")],1)]:e._e()],2)]),e.searchSections.length?i("mapping-browser-table",{staticClass:"mappingBrowser-search-table",attrs:{sections:e.searchSections,"search-limit":e.componentSettings.resultLimit,"show-editing-tools":e.showEditingTools,"show-cocoda-link":e.showCocodaLink,"registry-has-errored":e.registryHasErrored},on:{pageChange:function(t){return e.changePage("search",t)}}}):i("div",{staticClass:"fontWeight-heavy",staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v(" "+e._s(e.$t("search.noResults"))+" ")]),i("div",{staticClass:"button",attrs:{id:"mappingBrowser-search-shareButton"}},[i("font-awesome-icon",{attrs:{icon:"share-alt-square"}}),e._v(" "+e._s(e.$t("mappingBrowser.searchShareLabel"))+" ")],1),i("b-popover",{attrs:{show:e.searchShareShow,target:"mappingBrowser-search-shareButton",triggers:"click",placement:"bottomleft"},on:{"update:show":function(t){e.searchShareShow=t}}},[i("div",{ref:"searchSharePopover"},[i("p",[i("b",[e._v(e._s(e.$t("mappingBrowser.searchShareTitle")))])]),i("p",{staticStyle:{"user-select":"none"}},[i("b-form-checkbox",{model:{value:e.searchShareIncludeSelected,callback:function(t){e.searchShareIncludeSelected=t},expression:"searchShareIncludeSelected"}},[e._v(" "+e._s(e.$t("mappingBrowser.searchShareInclude"))+" ")])],1),i("p",{attrs:{id:"mappingBrowser-search-shareLinkInput"}},[i("pre",[i("code",[e._v(e._s(e.searchShareLink))])])]),i("p",{staticStyle:{"text-align":"right"}},[i("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){return e.copyToClipboard("mappingBrowser-search-shareLinkInput")}}},[e._v(" "+e._s(e.$t("mappingBrowser.searchShareCopy"))+" ")])],1)])])],1),e.showNavigator?i("tab",{attrs:{title:e.$t("mappingBrowser.mappingNavigator")},on:{click:e.handleClick}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.selected.concept[!0]&&!e.selected.concept[!1],expression:"!selected.concept[true] && !selected.concept[false]"}],staticClass:"noItems fontWeight-heavy"},[e._v(" "+e._s(e.$t("mappingBrowser.chooseConcept"))+" ")]),e.selected.concept[!0]||e.selected.concept[!1]?i("div",{staticClass:"mappingBrowser-navigator-results"},e._l(e.registryGroups,(function(t){return i("div",{key:"mappingBrowser-registryGroup-"+t.stored,staticClass:"mappingBrowser-registryGroup"},[i("div",{staticClass:"mappingBrowser-registryGroup-header"},[i("span",{staticClass:"mappingBrowser-registryGroup-title fontWeight-heavy",attrs:{id:"registryGroup-"+t.stored}},[e._v(" "+e._s(t.label)+" ")]),i("span",{staticStyle:{"white-space":"nowrap",float:"right"}},e._l(t.registries.filter((function(t){return e.$jskos.isContainedIn(t,e.navigatorRegistries)})),(function(t){return i("registry-notation",{key:t.uri,staticClass:"mappingBrowser-registryGroup-notation",class:{pointer:!e.$jskos.compare(t,e.currentRegistry)},attrs:{registry:t,disabled:!e.showRegistry[t.uri]},nativeOn:{click:function(i){e.showRegistry[t.uri]=!e.showRegistry[t.uri]},mouseover:function(i){e.hoveredRegistry=t},mouseout:function(t){e.hoveredRegistry=null}}})})),1)]),(t.stored?e.navigatorSectionsDatabases:e.navigatorSectionsRecommendations).length?i("mapping-browser-table",{attrs:{sections:t.stored?e.navigatorSectionsDatabases:e.navigatorSectionsRecommendations,"search-limit":e.componentSettings.resultLimit,"registry-has-errored":e.registryHasErrored},on:{pageChange:function(t){return e.changePage("navigator",t)}}}):e.selected.concept[!0]||e.selected.concept[!1]?i("div",{staticClass:"fontWeight-heavy",staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v(" "+e._s(e.$t("search.noResults"))+" ")]):e._e()],1)})),0):e._e()]):e._e()],1)],1)},s=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mappingBrowser-table-container"},[e._t("default"),i("flexible-table",{staticClass:"mappingBrowser-table",attrs:{sections:e.sections,fields:e.fields,"hide-header":!0},on:{hover:e.hover},scopedSlots:e._u([{key:"sourceScheme",fn:function(t){var n=t.value;return i("span",{},[i("item-name",{staticClass:"fontWeight-heavy",attrs:{item:n,"show-text":!1,"is-link":!0,"is-left":!0,"font-size":"sm"}}),null===n?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopLeftAdjustment"},[e._v(' " ')]):e._e(),void 0===n?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopAdjustment mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],1)}},{key:"sourceConcepts",fn:function(t){var n=t.value;return i("span",{},[e._l(n,(function(t){return i("span",{key:t.uri},[e.$jskos.isContainedIn(t,e.loadingConcepts)?i("loading-indicator",{attrs:{size:"sm"}}):i("item-name",{attrs:{item:t,"show-text":!1,"show-popover":!0,"is-link":!0,"is-left":!0,"is-highlighted":e.$jskos.compare(t,e.selected.concept[!0])||e.$jskos.compare(t,e.selected.concept[!1])}})],1)})),0===n.length?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"sourceConceptsLong",fn:function(t){var n=t.value;return i("span",{},[e._l(n,(function(t){return i("span",{key:t.uri},[e.$jskos.isContainedIn(t,e.loadingConcepts)?i("loading-indicator",{attrs:{size:"sm"}}):i("item-name",{attrs:{item:t,"show-text":!0,"show-popover":!0,"is-link":!0,"is-left":!0,"is-highlighted":e.$jskos.compare(t,e.selected.concept[!0])||e.$jskos.compare(t,e.selected.concept[!1])}})],1)})),0===n.length?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"targetScheme",fn:function(t){var n=t.value;return i("span",{},[i("item-name",{staticClass:"fontWeight-heavy",attrs:{item:n,"show-text":!1,"is-link":!0,"is-left":!1,"font-size":"sm"}}),null===n?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopLeftAdjustment"},[e._v(' " ')]):e._e(),void 0===n?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopAdjustment mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],1)}},{key:"targetConcepts",fn:function(t){var n=t.value;return i("span",{},[e._l(n,(function(t){return i("span",{key:t.uri},[e.$jskos.isContainedIn(t,e.loadingConcepts)?i("loading-indicator",{attrs:{size:"sm"}}):i("span",[i("item-name",{attrs:{item:t,"show-text":!1,"show-popover":!0,"is-link":!0,"is-left":!1,"is-highlighted":e.$jskos.compare(t,e.selected.concept[!1])||e.$jskos.compare(t,e.selected.concept[!0])}}),i("br")],1)],1)})),0===n.length?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"targetConceptsLong",fn:function(t){var n=t.value;return i("span",{},[e._l(n,(function(t){return i("span",{key:t.uri},[e.$jskos.isContainedIn(t,e.loadingConcepts)?i("loading-indicator",{attrs:{size:"sm"}}):i("span",[i("item-name",{attrs:{item:t,"show-text":!0,"show-popover":!0,"is-link":!0,"is-left":!1,"is-highlighted":e.$jskos.compare(t,e.selected.concept[!1])||e.$jskos.compare(t,e.selected.concept[!0])}}),i("br")],1)],1)})),0===n.length?i("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"type",fn:function(t){var n=t.value;return i("span",{},[null!=n&&"→"!=e.$jskos.notation(n)?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.prefLabel(n,{fallbackToUri:!1}),delay:e.defaults.delay.medium},expression:"{ title: $jskos.prefLabel(value, { fallbackToUri: false }), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(e.$jskos.notation(n))+" ")]):e._e()])}},{key:"creator",fn:function(t){var n=t.item;return i("span",{},[e.$settings.components.MappingBrowser.showIdentityWarning&&n.mapping&&n.mapping.creator&&n.mapping.creator[0]&&n.mapping.creator[0].uri&&e.userUris&&e.userUris.includes(n.mapping.creator[0].uri)&&(e.$jskos.prefLabel(n.mapping.creator[0])!=e.$jskos.prefLabel(e.creator)||n.mapping.creator[0].uri!=e.creator.uri)?i("span",[i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.$t("mappingBrowser.creatorIsDifferent"),expression:"$t('mappingBrowser.creatorIsDifferent')",modifiers:{hover:!0}}],staticClass:"text-warning",attrs:{icon:"exclamation"}})],1):e._e(),null!=n.creator?i("span",{attrs:{id:"mappingBrowserTable-item-"+n.uniqueId+"-creator"}},[e._v(" "+e._s(n.creator)+" ")]):e._e(),null!=n.creator?i("b-popover",{attrs:{target:"mappingBrowserTable-item-"+n.uniqueId+"-creator",show:e.popoverShown["creator-"+n.uniqueId],triggers:"hover",delay:e.defaults.delay.medium,placement:"auto"},on:{"update:show":function(t){return e.$set(e.popoverShown,"creator-"+n.uniqueId,t)},hide:function(t){return e.popoverHide(t,"creator-"+n.uniqueId)}}},[i("div",{staticClass:"font-default"},[i("p",{staticClass:"fontWeight-heavy"},[e._v(e._s(n.creator))]),n.mapping.creator&&n.mapping.creator[0]&&n.mapping.creator[0].uri?[i("p",{staticClass:"fontSize-small"},[i("auto-link",{attrs:{link:n.mapping.creator[0].uri}})],1),i("p",{staticClass:"button",on:{click:function(t){e.$set(e.popoverShown,"creator-"+n.uniqueId,!1),e.searchForCreator(n.mapping.creator[0].uri)}}},[i("font-awesome-icon",{staticClass:"fontSize-small",attrs:{icon:"search"}}),e._v(" "+e._s(e.$t("mappingBrowser.searchForMappingsByCreator"))+" ")],1)]:e._e()],2)]):e._e()],1)}},{key:"actions",fn:function(t){return i("span",{},[t.item.mapping&&t.item.mapping.annotations?i("div",{staticClass:"button fontWeight-heavy",staticStyle:{display:"inline-block",position:"relative","min-width":"18px"},style:"color: "+e.annotationButtonColor(t.item.mapping.annotations)+";",attrs:{id:"mappingBrowser-hoveredMapping-annotationButton-"+t.item.uniqueId}},[t.item.mapping.annotations.find((function(e){return"moderating"==e.motivation}))?i("span",[i("font-awesome-icon",{staticClass:"text-success",attrs:{icon:"check"}})],1):i("span",[e._v(" "+e._s(e.annotationsScore(t.item.mapping.annotations).sign)+e._s(e.annotationsScore(t.item.mapping.annotations).score)+" ")])]):e._e(),t.item.mapping?i("div",{staticClass:"mappingBrowser-toolbar-button"},[i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.showDetail"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.showDetail'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"info-circle"},on:{click:function(i){(e.mappingDetailMapping=t.item.mapping)&&e.$refs.mappingDetail.show()}}})],1):e._e(),e.showEditingTools?i("div",{staticClass:"mappingBrowser-toolbar-button",style:"margin-left: 1px;"},[i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canUpdateMapping({mapping:t.item.mapping,user:e.user})?e.$t("mappingBrowser.edit",[e.$jskos.prefLabel(t.item.registry)]):e.$t("mappingBrowser.clone",[e.$jskos.prefLabel(e.currentRegistry)]),delay:e.defaults.delay.medium},expression:"{ title: canUpdateMapping({ mapping: data.item.mapping, user }) ? $t('mappingBrowser.edit', [$jskos.prefLabel(data.item.registry)]) : $t('mappingBrowser.clone', [$jskos.prefLabel(currentRegistry)]), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:e.canUpdateMapping({mapping:t.item.mapping,user:e.user})?"edit":"clone"},on:{click:function(i){return e.edit(t)}}})],1):e._e(),e.showEditingTools&&!e.$jskos.compare(t.item.registry,e.$store.getters.getCurrentRegistry)?i("div",{staticClass:"mappingBrowser-toolbar-button"},[e.canCreateMapping({registry:e.currentRegistry,mapping:t.item.mapping})?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.saveAsMapping",[e.$jskos.prefLabel(e.currentRegistry)]),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.saveAsMapping', [$jskos.prefLabel(currentRegistry)]), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"save"},on:{click:function(i){e.postMapping({mapping:t.item.mapping,registry:e.currentRegistry,_before:function(){e.loadingGlobal=!0},_after:function(){e.loadingGlobal=!1}})}}}):e._e()],1):e.showEditingTools?i("div",{staticClass:"mappingBrowser-toolbar-button"},[e.canDeleteMapping({mapping:t.item.mapping,user:e.user})?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.delete"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.delete'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button-delete",attrs:{icon:"trash-alt"},on:{click:function(i){e.deleteMapping({mapping:t.item.mapping,_before:function(){e.loadingGlobal=!0},_after:function(){e.loadingGlobal=!1}})}}}):e._e()],1):e._e(),e.showCocodaLink?i("div",{staticClass:"mappingBrowser-toolbar-button"},[i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.openInCocoda"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.openInCocoda'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"external-link-square-alt"},on:{click:function(i){return e.openInCocoda(t.item.mapping)}}})],1):e._e()])}},{key:"ITEM_ROW",fn:function(t){var n=t.item;return i("span",{},["loading"==n.type?i("loading-indicator",{attrs:{size:"sm"}}):e._e(),"noItems"==n.type?i("span",[e._v(" "+e._s(e.$t("mappingBrowser.noItems"))+" ")]):e._e()],1)}},{key:"extra",fn:function(t){return i("span",{},[null==t.item.occurrence?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:t.value.tooltip,delay:e.defaults.delay.medium},expression:"{ title: data.value.tooltip, delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(t.value.date)+" ")]):-1==t.item.occurrence.count?i("span",[e._v("-")]):i("span",[i("auto-link",{attrs:{link:t.item.occurrence.url,text:String(t.item.occurrence.count)}})],1)])}},{key:"BEFORE_SECTION",fn:function(t){var n=t.section;return i("span",{},[i("div",{staticStyle:{display:"flex",position:"relative"}},[i("div",{class:{"fontWeight-heavy":!0,"mappingBrowser-registry-selectable":e.$jskos.mappingRegistryIsStored(n.registry)},staticStyle:{flex:"1","padding-left":"5px"},on:{click:function(t){return e.useRegistryForSaving(n.registry)}}},[i("registry-info",{attrs:{registry:n.registry,"show-details":!1,"show-capabilities":!1}})],1),n.totalCount>e.searchLimit?i("b-pagination",{staticClass:"mappingBrowser-pagination justify-content-center",class:{"pagination-hide-goToLast":n.totalCount>5e4},attrs:{value:n.page,"total-rows":n.totalCount,"per-page":e.searchLimit,size:"sm"},on:{input:function(t){return e.$emit("pageChange",{registry:n.registry,page:t,userInitiated:!1})},change:function(t){return e.$emit("pageChange",{registry:n.registry,page:t,userInitiated:!0})}}}):e._e(),i("div",{staticClass:"mappingBrowser-pagination-number fontSize-small"},[n.items.length<n.totalCount?i("span",[e._v(" "+e._s(n.items.length)+" "+e._s(e.$t("general.of"))+" "+e._s(n.totalCount.toLocaleString())+" ")]):e._e(),e.registryHasErrored[n.registry.uri]?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.registryHasErrored"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.registryHasErrored'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"registry-has-errored-indicator"},[e._v(" 🔴 ")]):e._e()]),i("data-modal-button",{attrs:{data:n.items.map((function(e){return e.mapping})).filter((function(e){return null!=e})),url:n.url,"total-count":n.totalCount,type:"mapping"}})],1),n.loading?i("loading-indicator-full",{attrs:{size:"sm"}}):e._e()],1)}}])},[i("span",{attrs:{slot:"HEAD_actions"},slot:"HEAD_actions"})]),i("mapping-detail",{ref:"mappingDetail",attrs:{mapping:e.mappingDetailMapping}}),i("annotation-popover",{attrs:{id:e.hoveredId,mapping:this.$store.state.hoveredMapping,"id-prefix":"mappingBrowser-hoveredMapping-annotationButton-"},on:{"refresh-annotations":e.refreshAnnotations}})],2)},o=[],r=i("68bc"),l=i("1757"),c=i("b758"),p=i("a4fe"),d=i("9ecc"),h=i("aedf"),g=i("40e1"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"annotationPopoverTop",attrs:{id:"annotationPopoverTop-"+e.iid}},[e.enable?i("b-popover",{ref:"annotationPopover",attrs:{target:e.element,show:e.show,boundary:"window",placement:"lefttop"},on:{"update:show":function(t){e.show=t}}},[e.loading?i("loading-indicator-full",{staticStyle:{"z-index":"1100"}}):e._e(),i("div",{ref:"annotationPopoverDiv",staticClass:"annotationPopover"},[i("div",{staticClass:"annotationPopover-upper"},[e.annotations.length?i("div",{staticClass:"annotationPopover-left"},[i("annotation-list",{staticClass:"annotationPopover-history",attrs:{annotations:e.annotations,provider:e.provider},on:{loading:function(t){e.loading=t}}})],1):e._e(),i("div",{staticClass:"annotationPopover-voting"},[i("div"),i("div",[i("font-awesome-icon",{class:{"annotationPopover-voting-button-current":"+1"==e.ownScore,button:e.canSaveAnnotation,"button-disabled":!e.canSaveAnnotation,"annotationPopover-voting-button":!0},attrs:{icon:"thumbs-up"},on:{click:function(t){e.canSaveAnnotation&&e.assessing("+1")}}})],1),i("div",{staticClass:"annotationPopover-score"},[i("span",{staticClass:"fontWeight-heavy",class:{"text-success":e.score.startsWith("+"),"text-danger":e.score.startsWith("-")}},[e._v(" "+e._s(e.score)+" ")])]),i("div",[i("font-awesome-icon",{class:{"annotationPopover-voting-button-current":"-1"==e.ownScore,button:e.canSaveAnnotation,"button-disabled":!e.canSaveAnnotation,"annotationPopover-voting-button":!0},attrs:{icon:"thumbs-down"},on:{click:function(t){e.canSaveAnnotation&&e.assessing("-1")}}})],1)])]),e.canConfirm?i("div",{staticClass:"annotationPopover-lower"},[i("b-button",{staticClass:"bbutton-small",attrs:{variant:"success"},on:{click:e.confirm}},[e._v(" "+e._s(e.$t("annotationPopover.addConfirmation"))+" ")])],1):e._e()])],1):e._e()],1)},m=[],f=i("2ef0"),b=i.n(f),v=i("1f25"),y=i("a189"),w=i("193e"),k={name:"AnnotationPopover",components:{LoadingIndicatorFull:p["a"],AnnotationList:v["a"]},mixins:[y["a"],w["a"]],props:{id:{type:String,default:null},idPrefix:{type:String,default:""},mapping:{type:Object,default:null}},data(){return{iid:null,imapping:null,show:!1,loading:!1}},computed:{enable(){return this.iid&&this.element},elementId(){return this.idPrefix+(this.iid||"")},element(){return document.getElementById(this.elementId)},annotations(){return b.a.get(this.imapping,"annotations")||[]},score(){let e=0;for(let{bodyValue:i}of this.annotations.filter(e=>"assessing"==e.motivation))e+=parseInt(i)||0;let t=e>0?"+":e<0?"-":"±";return`${t}${Math.abs(e)}`},ownAssessment(){return!this.userUris&&this.creator.uri?this.provider.isAuthorizedFor({type:"annotations",action:"update",user:this.user,crossUser:!0})&&this.provider.isAuthorizedFor({type:"annotations",action:"delete",user:this.user,crossUser:!0})?this.annotations.find(e=>"assessing"==e.motivation&&e.creator&&e.creator.id==this.creator.uri):null:this.annotations.find(e=>"assessing"==e.motivation&&this.$jskos.annotationCreatorMatches(e,this.userUris))},ownScore(){return b.a.get(this.ownAssessment,"bodyValue")},provider(){return b.a.get(this.imapping,"_registry")},canSaveAnnotation(){return!!this.provider&&this.provider.isAuthorizedFor({type:"annotations",action:"create",user:this.user})},canConfirm(){if(!this.provider)return!1;if(this.annotations.find(e=>"moderating"==e.motivation&&this.$jskos.annotationCreatorMatches(e,this.userUris)))return!1;if(this.provider.isAuthorizedFor({type:"annotations",action:"create",user:this.user})){const e=b.a.get(this.provider,"_config.annotations.moderatingIdentities")||[];if(b.a.intersection(e,this.userUris).length>0)return!0}return!1}},watch:{id(){this.id&&this.id!=this.iid&&(this.iid=null,b.a.delay(()=>{this.iid=this.id,this.imapping=this.mapping},50))},show(){this.scrollToBottom()},annotations(){this.scrollToBottom()},iid(){this.scrollToBottom()}},methods:{hoverHandlers(){return[{elements:[this.$refs.annotationPopoverDiv,this.element],delta:5,handler:e=>{this.show=e}}]},scrollToBottom(){this.show&&b.a.delay(()=>{if(this.$refs.annotationPopoverDiv){let e=this.$refs.annotationPopoverDiv.getElementsByClassName("annotationPopover-history")[0];e&&(e.scrollTop=2e4)}},50)},assessing(e){let t=this.provider;if(!t||!t.has.annotations)return this.$log.warn("No provider found to add annotation."),void this.alert(this.$t("alerts.annotationError"),null,"danger");let i=b.a.get(this.imapping,"uri");if(!i)return this.$log.warn("No URI found to add annotation."),void this.alert(this.$t("alerts.annotationError"),null,"danger");this.loading=!0;const n=(e,t)=>{this.alert(`${this.$t("alerts."+t)} ${this.getErrorMessage(e)}`,null,"danger")};let s;if(this.ownAssessment)if(this.ownScore!=e){if(!this.provider.isAuthorizedFor({type:"annotations",action:"update",user:this.user}))return this.alert(this.$t("alerts.annotationNotSaved"),null,"danger"),void(this.loading=!1);s=t.patchAnnotation({annotation:{id:this.ownAssessment.id,bodyValue:e}}).then(t=>{t?(this.ownAssessment.bodyValue=e,this.alert(this.$t("alerts.annotationSaved"),null,"success"),this.$emit("refresh-annotations",{uri:i,annotations:this.annotations})):this.alert(this.$t("alerts.annotationNotSaved"),null,"danger")}).catch(e=>n(e,"annotationNotSaved"))}else{if(!this.provider.isAuthorizedFor({type:"annotations",action:"delete",user:this.user}))return this.alert(this.$t("alerts.annotationNotRemoved"),null,"danger"),void(this.loading=!1);s=this.remove(this.annotations.indexOf(this.ownAssessment)).then(e=>{e?(this.alert(this.$t("alerts.annotationRemoved"),null,"success"),this.$emit("refresh-annotations",{uri:i,annotations:this.annotations})):this.alert(this.$t("alerts.annotationNotRemoved"),null,"danger")}).catch(e=>n(e,"annotationNotRemoved"))}else{if(!this.canSaveAnnotation)return this.alert(this.$t("alerts.annotationNotSaved"),null,"danger"),void(this.loading=!1);let a={target:i,motivation:"assessing",bodyValue:e};this.creator&&this.creator.uri&&(a.creator={id:this.creator.uri},this.creatorName&&(a.creator.name=this.creatorName)),s=t.postAnnotation({annotation:a}).then(e=>{let t=b.a.get(this.imapping,"uri");i==t&&e?(this.alert(this.$t("alerts.annotationSaved"),null,"success"),this.imapping.annotations.push(e),this.$emit("refresh-annotations",{uri:i,annotations:this.annotations})):this.alert(this.$t("alerts.annotationNotSaved"),null,"danger")}).catch(e=>n(e,"annotationNotSaved"))}s.catch(e=>{this.$log.error("AnnotationPopover - Error adding annotation",e),this.alert(this.$t("alerts.annotationError"),null,"danger")}).then(()=>{this.loading=!1})},remove(e){let t=this.provider,i=this.annotations[e];if(i)return this.loading=!0,t.deleteAnnotation({annotation:i}).then(t=>(this.loading=!1,!(i.id!=this.annotations[e].id||!t)&&(this.$delete(this.imapping.annotations,e),t)))},async confirm(){const e=this.provider;if(!e||!e.has.annotations)return this.$log.warn("No provider found to add annotation."),void this.alert(this.$t("alerts.annotationError"),null,"danger");const t=b.a.get(this.imapping,"uri");if(!t)return this.$log.warn("No URI found to add annotation."),void this.alert(this.$t("alerts.annotationError"),null,"danger");let i={target:t,motivation:"moderating"};this.creator&&this.creator.uri&&(i.creator={id:this.creator.uri},this.creatorName&&(i.creator.name=this.creatorName)),this.loading=!0;try{i=await e.postAnnotation({annotation:i})}catch(s){i=null}this.loading=!1;const n=b.a.get(this.imapping,"uri");t==n&&i?(this.alert(this.$t("alerts.annotationSaved"),null,"success"),this.imapping.annotations.push(i),this.$emit("refresh-annotations",{uri:t,annotations:this.annotations})):this.alert(this.$t("alerts.annotationNotSaved"),null,"danger")}}},S=k,$=(i("6cfe"),i("23a6"),i("2877")),_=Object($["a"])(S,u,m,!1,null,"0f0590b0",null),C=_.exports,M=i("d8c4"),L=i("616f"),R=i("564d"),x={name:"MappingBrowser",components:{ItemName:r["a"],AutoLink:l["a"],LoadingIndicator:c["a"],LoadingIndicatorFull:p["a"],FlexibleTable:h["a"],RegistryInfo:d["a"],MappingDetail:g["a"],AnnotationPopover:C,DataModalButton:M["a"]},mixins:[y["a"],L["a"],R["a"],w["a"]],props:{sections:{type:Array,default:()=>[]},searchLimit:{type:Number,default:5},showEditingTools:{type:Boolean,default:!0},showCocodaLink:{type:Boolean,default:!1},registryHasErrored:{type:Object,default:()=>({})}},data(){return{hoveredId:null,mappingDetailMapping:null,popoverShown:{},currentPopovers:{}}},computed:{fields(){return[{key:"sourceScheme",label:"",width:"4%",minWidth:"",align:"left",sortable:!1,class:"fontSize-small"},{key:"sourceConcepts",label:this.$t("mappingBrowser.from"),width:"10%",minWidth:"",align:"left",sortable:!1,compare:(e,t)=>this.$jskos.compareFunctions.mappingsByConcepts(e.mapping,t.mapping,"from"),class:"mappingBrowser-table-concepts"},{key:"sourceConceptsLong",label:this.$t("mappingBrowser.from"),width:"22%",minWidth:"",align:"left",sortable:!1,compare:(e,t)=>this.$jskos.compareFunctions.mappingsByConcepts(e.mapping,t.mapping,"from"),class:"mappingBrowser-table-conceptsLong"},{key:"type",label:"",width:"4%",minWidth:"",sortable:!1,compare:(e,t)=>{let i=this.$jskos.prefLabel(b.a.get(e,"type"),{fallbackToUri:!1}),n=this.$jskos.prefLabel(b.a.get(t,"type"),{fallbackToUri:!1});return i<n?-1:i>n?1:0}},{key:"targetScheme",label:"",width:"4%",minWidth:"",align:"left",sortable:!1,class:"fontSize-small"},{key:"targetConcepts",label:this.$t("mappingBrowser.to"),width:"10%",minWidth:"",align:"left",sortable:!1,compare:(e,t)=>this.$jskos.compareFunctions.mappingsByConcepts(e.mapping,t.mapping,"to"),class:"mappingBrowser-table-concepts"},{key:"targetConceptsLong",label:this.$t("mappingBrowser.to"),width:"22%",minWidth:"",align:"left",sortable:!1,compare:(e,t)=>this.$jskos.compareFunctions.mappingsByConcepts(e.mapping,t.mapping,"to"),class:"mappingBrowser-table-conceptsLong"},{key:"creator",label:this.$t("mappingBrowser.creator"),width:"10%",minWidth:"",align:"left",sortable:!1,class:"mappingBrowser-table-creator"},{key:"extra",label:this.$t("mappingBrowser.date"),width:"10%",minWidth:"",align:"center",sortable:!1,class:"mappingBrowser-table-extra",compare:(e,t)=>{let i=b.a.get(e,"occurrence.count",-1),n=b.a.get(t,"occurrence.count",-1);return-1==i&&-1==n&&(i=b.a.get(e,"extra"),n=b.a.get(t,"extra")),i<n?-1:i>n?1:0}},{key:"actions",label:"",width:"12%",minWidth:"",align:"right",sortable:!1}]}},created(){this.hover=b.a.debounce(this._hover,20)},mounted(){let e=document.getElementsByClassName("table");for(let t of e){let e=t.getElementsByTagName("thead")[0],i=t.getElementsByTagName("tbody")[0];i.onscroll=()=>{e.scrollLeft=i.scrollLeft}}},methods:{edit(e){const t=this.canUpdateMapping({mapping:e.item.mapping,user:this.user});t&&this.useRegistryForSaving(e.item.registry);let i=e=>{let t=this.$jskos.copyDeep(e);return t.from.memberSet=e.from.memberSet.slice(),t.to.memberSet?t.to.memberSet=e.to.memberSet.slice():t.to.memberList?t.to.memberList=e.to.memberList.slice():t.to.memberChoice&&(t.to.memberChoice=e.to.memberChoice.slice()),t._registry=e._registry,t.fromScheme=e.fromScheme,t.toScheme=e.toScheme,t},n=i(e.item.mapping);this.$store.commit({type:"mapping/empty"}),this.$store.commit({type:"mapping/set",mapping:n,original:t?e.item.mapping:null})},annotationsScore(e){let t=0;for(let{bodyValue:n}of e.filter(e=>"assessing"==e.motivation))t+=parseInt(n)||0;let i=t>0?"+":t<0?"-":"±";return t=Math.abs(t),{score:t,sign:i}},annotationButtonColor(e){let t=3,{score:i,sign:n}=this.annotationsScore(e),s=150*Math.min(i/t,1),a=85,o=85,r=85;"-"==n?(a+=s,o-=50,r-=50):"+"==n&&(o+=s,a-=50,r-=50);let l=`rgb(${a}, ${o}, ${r})`;return l},_hover(e){this.$store.commit({type:"setHoveredMapping",mapping:e&&e.mapping}),this.hoveredId=e&&e.uniqueId},canUseRegistryForSaving(e){return null!=this.config.registries.find(t=>e.isAuthorizedFor({type:"mappings",action:"create",user:this.user})&&this.$jskos.compare(t,e))},useRegistryForSaving(e){this.$jskos.mappingRegistryIsStored(e)&&this.$store.commit({type:"settings/set",prop:"mappingRegistry",value:e.uri})},popoverHide(e,t){this.popoverShown[t]&&(e.preventDefault(),this.currentPopovers[t]=e)},hoverHandlers(){let e=[];return b.a.forEach(this.currentPopovers,(t,i)=>{e.push({elements:[t.target,t.relatedTarget],delta:5,handler:e=>{e||(this.$set(this.popoverShown,i,!1),this.$delete(this.currentPopovers,i))}})}),e},searchForCreator(e){let t=this.$parent;while(t&&"MappingBrowser"!=t.$options.name)t=t.$parent;t&&t.searchWithParams&&t.searchWithParams({fromScheme:"",fromNotation:"",toScheme:"",toNotation:"",creator:e,direction:"",type:null,partOf:null})},refreshAnnotations({uri:e,annotations:t}){for(let i of this.sections)for(let n of i.items)n.mapping&&n.mapping.uri==e&&(n.mapping.annotations=t)},openInCocoda(e){let t="./?";for(let i of["from","to"]){const n=this.$jskos.conceptsOfMapping(e,i)[0];n&&n.uri&&(t+=`${i}=${encodeURIComponent(n.uri)}&`);const s=e[i+"Scheme"];s&&s.uri&&(t+=`${i}Scheme=${encodeURIComponent(s.uri)}&`)}window.open(t.substring(0,t.length-1),"_self")}}},T=x,I=(i("3cc1"),i("4a22"),Object($["a"])(T,a,o,!1,null,"6bc5e670",null)),D=I.exports,j=i("d465"),B=i("1e4f"),A=i("bc3a"),N=i.n(A),F=i("8fb2"),O=i("5635"),E=i("dd6a"),z={name:"MappingBrowser",components:{FlexibleTable:h["a"],MappingBrowserTable:D,RegistryNotation:j["a"],ItemName:r["a"],ComponentSettings:B["a"],DataModalButton:M["a"]},mixins:[y["a"],L["a"],F["a"],O["a"],R["a"],E["a"]],props:{showNavigator:{type:Boolean,default:!0},showEditingTools:{type:Boolean,default:!0},showCocodaLink:{type:Boolean,default:!1}},data(){return{tab:0,concordancesLoaded:!1,totalNumberOfMappings:null,hasSwitchedToNavigator:!1,searchShareShow:!1,searchShareLinkPart:"",searchShareIncludeSelected:!1,registryGroupShow:{},concordanceFilter:{from:"",to:"",creator:""},searchFilterInput:null,searchFilter:null,searchFilterExtended:!1,searchPages:{},searchResults:{},searchLoading:{},searchCancelToken:{},searchNeedsRefresh:[],lockScheme:{[!0]:!0,[!1]:!0},previousSelected:{concept:{[!0]:null,[!1]:null},scheme:{[!0]:null,[!1]:null}},navigatorPages:{},navigatorResults:{},navigatorLoading:{},navigatorNeedsRefresh:[],navigatorCancelToken:{},hoveredRegistry:null,searchRepeatManagers:{},navigatorRepeatManagers:{},registryHasErrored:{}}},computed:{concordanceTableFields(){return[{key:"from",label:this.$t("mappingBrowser.from"),width:"13%",minWidth:"",sortable:!0,align:"left",titleClass:"test"},{key:"to",label:this.$t("mappingBrowser.to"),width:"9%",minWidth:"",sortable:!0,align:"left"},{key:"description",label:this.$t("mappingBrowser.description"),width:"24%",minWidth:"",sortable:!0,align:"left",class:"mappingBrowser-from750"},{key:"creator",label:this.$t("mappingBrowser.creator"),width:"16%",minWidth:"",sortable:!0,align:"left"},{key:"date",label:this.$t("mappingBrowser.date"),width:"10%",minWidth:"",sortable:!0,align:"left",class:"mappingBrowser-from550"},{key:"download",label:this.$t("mappingBrowser.download"),width:"11%",minWidth:"",sortable:!1,align:"left",class:"mappingBrowser-from650"},{key:"mappings",label:this.$t("registryInfo.mappings"),width:"13%",minWidth:"",sortable:!0,align:"right",compare:(e,t)=>(parseInt(e.mappings)||0)-(parseInt(t.mappings)||0)},{key:"actions",label:"",width:"4%",sortable:!1,align:"right"}]},concordanceTableItems(){let e=[];for(let t of this.concordances||[]){let i={concordance:t};i.from=b.a.get(t,"fromScheme"),i.from=this.getObject(i.from)||i.from,i.fromNotation=this.$jskos.notation(i.from)||"-",i.to=b.a.get(t,"toScheme"),i.to=this.getObject(i.to)||i.to,i.toNotation=this.$jskos.notation(i.to)||"-",i.description=(this.$jskos.languageMapContent(t,"scopeNote")||[])[0]||"-",i.creator=this.$jskos.prefLabel(b.a.get(t,"creator[0]"),{fallbackToUri:!1})||"-",i.date=b.a.get(t,"modified")||b.a.get(t,"created")||"",i.download=b.a.get(t,"distributions",[]),i.mappings=b.a.get(t,"extent"),i.fromNotation.toLowerCase().startsWith(this.concordanceFilter.from.toLowerCase())&&i.toNotation.toLowerCase().startsWith(this.concordanceFilter.to.toLowerCase())&&i.creator.toLowerCase().startsWith(this.concordanceFilter.creator.toLowerCase())&&e.push(i)}return e},concordancesShown(){return!this.concordances||this.concordances&&this.concordances.length},tabIndexes(){let e={concordances:this.concordancesShown?0:null,search:this.concordancesShown?1:0,navigator:this.concordancesShown?2:1};return this.showNavigator||delete e.navigator,e},typeOptions(){let e=[{text:this.$t("mappingBrowser.searchAllTypes"),value:null}];for(let t of this.$jskos.mappingTypes)e.push({text:`${this.$jskos.notation(t)} ${this.$jskos.prefLabel(t)}`,value:t.uri});return e},concordanceOptions(){let e=[{value:null,text:this.$t("mappingBrowser.searchAllConcordances")}];for(let t of this.concordanceTableItems){let i=`${t.fromNotation} to ${t.toNotation} (${t.description})`;e.push({value:t.concordance.uri,text:i})}return e},searchFromScheme(){return this.getSchemeForFilter(this.searchFilterInput.fromScheme)},searchToScheme(){return this.getSchemeForFilter(this.searchFilterInput.toScheme)},needsRefresh(){return this.$store.state.mapping.mappingsNeedRefresh},searchRegistries(){return b.a.get(this.registryGroups.find(e=>e.stored),"registries",[])},mappingRegistriesSorted(){return b.a.flatten(this.registryGroups.map(e=>e.registries))},navigatorRegistries(){return this.mappingRegistriesSorted.filter(e=>e.supportsScheme&&e.supportsScheme(this.selected.scheme[!0])||e.supportsScheme&&e.supportsScheme(this.selected.scheme[!1]))},registryGroups(){let e=[{stored:!0,label:this.$t("general.storedMappings"),registries:[]},{stored:!1,label:this.$t("general.recommendedMappings"),registries:[]}];for(let t of this.mappingRegistries){let i=e.find(e=>e.stored===this.$jskos.mappingRegistryIsStored(t));i.registries.push(t)}if(e=e.filter(e=>e.registries.length>0),this.componentSettings.moveCurrentRegistryToTop)for(let t of e)t.registries=t.registries.sort((e,t)=>this.$jskos.compare(e,this.currentRegistry)?-1:this.$jskos.compare(t,this.currentRegistry)?1:0);return e},searchSections(){return this.resultsToSections(this.searchResults,this.searchPages,this.searchLoading,"mappingSearch-")},navigatorSectionsDatabases(){return this.resultsToSections(this.navigatorResults,this.navigatorPages,this.navigatorLoading,"mappingNavigator-").filter(e=>this.$jskos.mappingRegistryIsStored(e.registry))},navigatorSectionsRecommendations(){return this.resultsToSections(this.navigatorResults,this.navigatorPages,this.navigatorLoading,"mappingNavigator-").filter(e=>!this.$jskos.mappingRegistryIsStored(e.registry))},searchShareLink(){let e=this.searchShareIncludeSelected?window.location.href:window.location.href.split("?")[0];return e+=`${e.includes("?")?"&":"?"}${this.searchShareLinkPart}`,e},concordanceRegistries(){return this.config.registries.filter(e=>e.has.concordances)},concordanceUrls(){let e={};for(let t of this.concordanceRegistries)t.has.concordances&&t._api.concordances&&(e[this.$jskos.prefLabel(t)]=t._api.concordances);return e}},watch:{tab(e,t){if(e==this.tabIndexes.search){for(let e of Object.values(this.searchRepeatManagers))e&&e.isPaused&&e.start();if(this.searchNeedsRefresh.length){if(1==this.searchNeedsRefresh.length)return void this.search(this.searchNeedsRefresh[0].registryUri,this.searchNeedsRefresh[0].page);if(this.searchNeedsRefresh.find(e=>!e.registryUri))this.search();else{let e=b.a.uniq(this.searchNeedsRefresh.map(e=>e.registryUri));for(let t of e)this.search(t,this.searchPages[t])}}}else if(e==this.tabIndexes.navigator){for(let e of Object.values(this.navigatorRepeatManagers))e&&e.isPaused&&e.start();this.navigatorRefresh()}if(t==this.tabIndexes.search)for(let i of Object.values(this.searchRepeatManagers))i&&!i.isPaused&&i.stop();if(t==this.tabIndexes.navigator)for(let i of Object.values(this.navigatorRepeatManagers))i&&!i.isPaused&&i.stop()},isPageVisible(e){if(e){if(this.tab==this.tabIndexes.search)for(let t of Object.values(this.searchRepeatManagers))t&&t.isPaused&&t.start();else if(this.tab==this.tabIndexes.navigator)for(let t of Object.values(this.navigatorRepeatManagers))t&&t.isPaused&&t.start()}else for(let t of[].concat(Object.values(this.searchRepeatManagers),Object.values(this.navigatorRepeatManagers)))t&&!t.isPaused&&t.stop()},navigatorNeedsRefresh(e){e.length>0&&this.tab==this.tabIndexes.navigator&&this.navigatorRefresh()},selected:{handler(){if(!(this.$jskos.compare(this.selected.concept[!0],this.previousSelected.concept[!0])&&this.$jskos.compare(this.selected.concept[!1],this.previousSelected.concept[!1])&&this.$jskos.compare(this.selected.scheme[!0],this.previousSelected.scheme[!0])&&this.$jskos.compare(this.selected.scheme[!1],this.previousSelected.scheme[!1]))){this.navigatorPages={},this.navigatorResults={},this.navigatorNeedsRefresh.push(null);let e=!1;for(let[t,i]of[["from",!0],["to",!1]])if(this.lockScheme[i]&&!this.$jskos.compare(this.selected.scheme[i],this.previousSelected.scheme[i])){const n=this.selected.scheme[i];this.searchFilterInput[t+"Scheme"]=n?this.$jskos.notation(n):"",e=!0}e&&this.searchClicked()}this.previousSelected={},this.previousSelected.concept={[!0]:this.selected.concept[!0]?{uri:this.selected.concept[!0].uri}:null,[!1]:this.selected.concept[!1]?{uri:this.selected.concept[!1].uri}:null},this.previousSelected.scheme={[!0]:this.selected.scheme[!0]?{uri:this.selected.scheme[!0].uri}:null,[!1]:this.selected.scheme[!1]?{uri:this.selected.scheme[!1].uri}:null},this.hasSwitchedToNavigator||!this.selected.concept[!0]&&!this.selected.concept[!1]||(this.tab=this.tabIndexes.navigator,this.hasSwitchedToNavigator=!0)},deep:!0},needsRefresh(e){if(e){let e=this.$store.state.mapping.mappingsNeedRefreshRegistry;e?(this.navigatorNeedsRefresh.push(e),this.search(e,this.searchPages[e])):(this.navigatorNeedsRefresh.push(null),this.search()),this.$store.commit("mapping/setRefresh",{refresh:!1})}},currentRegistry(e){if(this.showRegistry[e.uri]=!0,this.componentSettings.moveCurrentRegistryToTop)for(let t of document.getElementsByClassName("flexibleTable-body"))t.scrollTop=0},locale(e,t){if(e!=t)for(let i of this.navigatorRegistries.filter(e=>!this.$jskos.mappingRegistryIsStored(e)&&this.showRegistry[e.uri]))this.navigatorNeedsRefresh.push(i.uri)},lockScheme:{handler(){let e=!1;for(let[t,i]of[["from",!0],["to",!1]])if(this.lockScheme[i]){const n=this.selected.scheme[i];this.searchFilterInput[t+"Scheme"]=n?this.$jskos.notation(n):"",e=!0}e&&this.searchClicked()},deep:!0},"componentSettings.resultLimit"(e,t){let i;if(this.tab==this.tabIndexes.search?i="search":this.tab==this.tabIndexes.navigator&&(i="navigator"),i)for(let n of Object.keys(this[i+"Results"])){let s=this[i+"Pages"][n]||1,a=(s-1)*t,o=Math.floor(a/e)+1;"search"==i?this.search(n,o):(this.$set(this.navigatorPages,n,o),this.navigatorNeedsRefresh.push(n))}},"componentSettings.showAllSchemes"(){this.$store.commit("mapping/setRefresh")},"componentSettings.navigatorShowResultsForLeft"(){this.$store.commit("mapping/setRefresh")},"componentSettings.navigatorShowResultsForRight"(){this.$store.commit("mapping/setRefresh")},"componentSettings.autoRefresh"(){let e;if(this.tab==this.tabIndexes.search?e="search":this.tab==this.tabIndexes.navigator&&(e="navigator"),e)for(let t of Object.keys(this[e+"Results"]))"search"==e?this.search(t,this.searchPages[t]):this.navigatorNeedsRefresh.push(t)}},created(){this.navigatorRefresh=b.a.debounce(this._navigatorRefresh,100),this.clearSearchFilter(),this.tab=this.tabIndexes.search},async mounted(){if(!this.concordances||!this.concordances.length){try{const e=b.a.flatten(await Promise.all(this.concordanceRegistries.map(e=>e.getConcordances())));b.a.forEach(e,(e,t)=>{this.$set(this.concordances,t,e)}),this.concordances.length=e.length,this.totalNumberOfMappings=(await Promise.all(this.concordanceRegistries.map(e=>e.getMappings({limit:1})))).reduce((e,t)=>e+t._totalCount,0)}catch(e){this.$log.error("MappingBrowser - Error loading concordances",e)}this.concordancesLoaded=!0}this.navigatorNeedsRefresh.push(null)},beforeDestroy(){for(let e of[].concat(Object.values(this.searchRepeatManagers),Object.values(this.navigatorRepeatManagers)))e&&!e.isPaused&&e.stop()},methods:{clickHandlers(){let e=[];for(let t of this.registryGroups)e.push({elements:[b.a.get(this.$refs[`registryGroup-${t.stored}-popover`],"[0]"),document.getElementById("registryGroup-"+t.stored)],handler:()=>{this.$set(this.registryGroupShow,t.stored,!1)}});return e.push({elements:[this.$refs.searchSharePopover,document.getElementById("mappingBrowser-search-shareButton")],handler:()=>{this.searchShareShow=!1}}),e},generateCancelToken(){return N.a.CancelToken.source()},showMappingsForConcordance(e){this.tab=this.tabIndexes.search,this.clearSearchFilter(),this.searchFilterInput.partOf=e.uri,this.searchClicked()},nameOfDistribution(e){let t=e.mimetype;return t.includes("json")?"JSKOS":t.includes("csv")?"CSV":null},getSchemeForFilter(e){return this.schemes.find(t=>e&&(this.$jskos.compare(t,{uri:e})||this.$jskos.notation(t).toLowerCase()==e.toLowerCase()))},clearSearchFilter(){this.searchFilterInput={fromScheme:this.searchFilterInput&&this.searchFilterInput.fromScheme||"",fromNotation:"",toScheme:this.searchFilterInput&&this.searchFilterInput.toScheme||"",toNotation:"",creator:"",direction:"",type:null,partOf:null},this.lockScheme[!0]||(this.searchFilterInput.fromScheme=""),this.lockScheme[!1]||(this.searchFilterInput.toScheme=""),this.searchFilterExtended=!1,this.searchResults={},this.searchClicked()},searchWithParams(e){this.tab=this.tabIndexes.search,b.a.forOwn(e,(e,t)=>{null!=e&&(this.searchFilterInput[t]=e)}),this.searchClicked()},searchClicked(){this.searchFilter=b.a.cloneDeep(this.searchFilterInput),this.search(null,1)},search(e=null,t){if(this.tab!=this.tabIndexes.search)return void this.searchNeedsRefresh.push({registryUri:e,page:t});if(this.searchNeedsRefresh=[],this.searchFilter.partOf){let e=[];for(let t of this.concordances.filter(e=>this.$jskos.compare(e,{uri:this.searchFilter.partOf}))){let i=b.a.get(t,"_registry.uri");i&&!e.includes(i)&&e.push(i)}if(e.length>0)for(let t of e)this.showRegistry[t]=!0}let i=this.searchRegistries.filter(t=>null==e||t.uri==e);for(let a of i){this.searchCancelToken[a.uri]&&this.searchCancelToken[a.uri].cancel("There was a newer refresh operation.");const e=this.searchRepeatManagers[a.uri];if(e&&!e.isPaused&&e.stop(),!this.showRegistry[a.uri]){this.$delete(this.searchResults,a.uri);continue}let i=this.generateCancelToken();this.searchCancelToken[a.uri]=i,this.$set(this.searchPages,a.uri,t),this.$set(this.searchLoading,a.uri,!0);const n=void 0===this.componentSettings.autoRefresh?this.config.autoRefresh.mappings:1e3*this.componentSettings.autoRefresh,s=()=>this.getMappings({from:this.searchFilter.fromNotation,to:this.searchFilter.toNotation,fromScheme:this.getSchemeForFilter(this.searchFilter.fromScheme),toScheme:this.getSchemeForFilter(this.searchFilter.toScheme),creator:this.searchFilter.creator,type:this.searchFilter.type,direction:this.searchFilter.direction,partOf:this.searchFilter.partOf,registry:a.uri,offset:((this.searchPages[a.uri]||1)-1)*this.componentSettings.resultLimit,limit:this.componentSettings.resultLimit,cancelToken:i.token}),o=e=>{if(i==this.searchCancelToken[a.uri]){if(!e)return this.$set(this.registryHasErrored,a.uri,!0),this.searchResults[a.uri]&&!this.searchResults[a.uri].includes(null)||this.$set(this.searchResults,a.uri,[]),void this.$set(this.searchLoading,a.uri,!1);this.$set(this.registryHasErrored,a.uri,!1),t=t||this.searchPages[a.uri]||1,0==e.length&&t>1?this.search(a.uri,t-1):(this.$set(this.searchResults,a.uri,e),this.$set(this.searchLoading,a.uri,!1),this.$set(this.searchPages,a.uri,t))}};if(n){const e=this.repeat({function:()=>s(),interval:n,callback:(e,t)=>{e&&this.$log.warn("Mapping Browser (Search): Error during refresh",e),o(t)}});this.$set(this.searchRepeatManagers,a.uri,e)}else s().then(o)}let n={};b.a.forOwn(this.searchFilter,(e,t)=>{e&&(n[t]=e)});let s=encodeURIComponent(JSON.stringify(n));this.searchShareLinkPart="search="+s},_navigatorRefresh(){if(!this.navigatorNeedsRefresh.length)return;let e;e=this.navigatorNeedsRefresh.includes(null)?null:b.a.uniq(this.navigatorNeedsRefresh),this.navigatorNeedsRefresh=[];let t={direction:"both",mode:"or",selected:this.selected},i=this.componentSettings.navigatorShowResultsForLeft?b.a.get(this,"selected.concept[true]"):null,n=this.componentSettings.navigatorShowResultsForRight?b.a.get(this,"selected.concept[false]"):null;if(i&&(t["from"]=i),n&&(t["to"]=n),i||n){e||(this.navigatorPages={});for(let i of this.navigatorRegistries){if(e&&!e.includes(i.uri))continue;if(!this.showRegistry[i.uri]){this.$delete(this.navigatorResults,i.uri);continue}const n=this.navigatorRepeatManagers[i.uri];n&&!n.isPaused&&n.stop(),this.navigatorCancelToken[i.uri]&&this.navigatorCancelToken[i.uri].cancel("There was a newer refresh operation.");let s=this.generateCancelToken();this.navigatorCancelToken[i.uri]=s,e||this.$set(this.navigatorResults,i.uri,[null]);const a=void 0===this.componentSettings.autoRefresh?this.config.autoRefresh.mappings:1e3*this.componentSettings.autoRefresh,o=()=>this.getMappings({...t,registry:i.uri,limit:this.$jskos.mappingRegistryIsStored(i)?100:this.componentSettings.resultLimit,cancelToken:s.token}),r=e=>{if(s==this.navigatorCancelToken[i.uri]){if(!e)return this.$set(this.registryHasErrored,i.uri,!0),void(this.navigatorResults[i.uri]&&!this.navigatorResults[i.uri].includes(null)||this.$set(this.navigatorResults,i.uri,[]));this.$set(this.registryHasErrored,i.uri,!1),e=e.sort((t,i)=>{if(t._occurrence||i._occurrence)return b.a.get(i,"_occurrence.count",0)-b.a.get(t,"_occurrence.count",0);let n={a:10,b:10};return b.a.forOwn({a:t,b:i},(e,t)=>{let i=this.$jskos.conceptsOfMapping(e,"from"),s=this.$jskos.conceptsOfMapping(e,"to"),a=this.$jskos.isContainedIn(this.selected.concept[!0],i),o=this.$jskos.isContainedIn(this.selected.concept[!1],s);if(a&&o)return;n[t]-=1;let r=this.$jskos.isContainedIn(this.selected.concept[!0],s),l=this.$jskos.isContainedIn(this.selected.concept[!1],i);r&&l||(n[t]-=1,a||(n[t]-=4),o||(n[t]-=3),l||(n[t]-=2),r||(n[t]-=1))}),n.b-n.a!=0?n.b-n.a:e.indexOf(t)-e.indexOf(i)}),e._totalCount=void 0,this.componentSettings.showAllSchemes||(e=e.filter(e=>{if(this.selected.scheme[!0]&&this.selected.scheme[!1]){let t=!0;for(let i of[e.fromScheme,e.toScheme]){let e=!1;for(let t of[!0,!1])this.$jskos.compare(i,this.selected.scheme[t])&&(e=!0);t=t&&e}return t}return!0})),this.$set(this.navigatorResults,i.uri,e),this.navigatorPages[i.uri]>1&&e.length<(this.navigatorPages[i.uri]-1)*this.componentSettings.resultLimit+1&&this.$set(this.navigatorPages,i.uri,this.navigatorPages[i.uri]-1)}};if(a){const e=this.repeat({function:()=>o(),interval:a,callback:(e,t)=>{e&&this.$log.warn("Mapping Browser (Navigator): Error during refresh",e),r(t)}});this.$set(this.navigatorRepeatManagers,i.uri,e)}else o().then(r)}}else this.navigatorResults={}},swapClicked(){this.lockScheme[!0]=!1,this.lockScheme[!1]=!1,[this.searchFilterInput.fromScheme,this.searchFilterInput.fromNotation,this.searchFilterInput.toScheme,this.searchFilterInput.toNotation]=[this.searchFilterInput.toScheme,this.searchFilterInput.toNotation,this.searchFilterInput.fromScheme,this.searchFilterInput.fromNotation],this.searchClicked()},resultsToSections(e,t,i,n){let s=[];for(let a of this.mappingRegistriesSorted.filter(t=>e[t.uri])){let o={};o.registry=a,this.$jskos.compare(a,this.currentRegistry)&&(o._class="mappingBrowser-table-currentRegistrySection"),o.items=[],o.loading=i[a.uri],o.page=t[a.uri]||1;let r=e[a.uri]||[];if(o.totalCount=r._totalCount||r.length,1==r.length&&null==r[0]&&(o.loading=!0),0==o.totalCount&&!this.componentSettings.showEmpty)continue;r._url&&(o.url=r._url),this.mbLoadConcepts(b.a.flatten(r.map(e=>this.$jskos.conceptsOfMapping(e))));let l=0;for(let t of r){if(!this.$jskos.mappingRegistryIsStored(a)){const i=e[this.currentRegistry.uri]||[],n=e=>e&&e.identifier.find(e=>e.startsWith("urn:jskos:mapping:members:"));if(i.find(e=>n(e)==n(t))){l+=1;continue}}let i={mapping:t,registry:a};if(i.sourceScheme=b.a.get(t,"fromScheme")||void 0,i.targetScheme=b.a.get(t,"toScheme")||void 0,i.sourceConcepts=this.$jskos.conceptsOfMapping(t,"from").filter(e=>null!=e),i.targetConcepts=this.$jskos.conceptsOfMapping(t,"to").filter(e=>null!=e),i.sourceConceptsLong=i.sourceConcepts,i.targetConceptsLong=i.targetConcepts,b.a.get(t,"from")||0!=i.sourceConcepts.length||(i.sourceScheme=void 0),b.a.get(t,"to")||0!=i.targetConcepts.length||(i.targetScheme=void 0),i.sourceConcepts.length+i.targetConcepts.length==0){l+=1;continue}let s=this.$jskos.mappingMembersIdentifier({from:{memberSet:[this.selected.concept[!0]]},to:{memberSet:[this.selected.concept[!1]]}}),r=this.$jskos.mappingMembersIdentifier(this.$store.state.mapping.mapping),c=t.identifier.includes(s)||t.identifier.includes(r);i._rowClass="",c&&(i._rowClass="mappingBrowser-table-row-match");let p=b.a.get(this.$store.state.mapping.original,"uri");p&&t.uri==p&&(i._rowClass="mappingBrowser-table-row-edited"),i.creator=t.creator&&t.creator[0]||"","object"===typeof i.creator&&(i.creator=this.$jskos.prefLabel(i.creator)),i.extra={date:t.modified||t.created},i.extra.date&&i.extra.date.length>10&&(i.extra.tooltip=i.extra.date,i.extra.date=i.extra.date.slice(0,10)),i.source=this.$jskos.prefLabel(a),i.sourceShort=this.$jskos.notation(a),i.type=this.$jskos.mappingTypeByType(t.type),i.occurrence=t._occurrence,i.uniqueId=this.hash(n+a.uri+JSON.stringify(b.a.omit(this.$jskos.copyDeep(t)))),this.$jskos.compare(i.registry,this.hoveredRegistry)&&(i._rowClass+=" mappingBrowser-hoveredRegistry"),o.items.push(i)}void 0===r._totalCount&&(o.items=o.items.slice((o.page-1)*this.componentSettings.resultLimit,o.page*this.componentSettings.resultLimit)),o.totalCount-=l,s.push(o)}return s},mbLoadConcepts(e){let t=[];for(let i of e)i&&!this.$jskos.isContainedIn(i,this.loadingConcepts)&&this.getProvider(i)&&t.push(i);this.loadConcepts(t)},droppedConcept(e,t){b.a.forOwn(t,(t,i)=>{let n="";"scheme"==i?n=this.$jskos.isScheme(e)?b.a.get(e,"notation[0]"):b.a.get(e,"inScheme[0].notation[0]"):"concept"==i&&this.$jskos.isConcept(e)&&(n=b.a.get(e,"notation[0]")),n&&b.a.set(this,t,n)})},changePage(e,{registry:t,page:i,userInitiated:n}){let s=this[e+"Pages"][t.uri];n?(this.$set(this[e+"Pages"],t.uri,i),"search"==e&&this.search(t.uri,i)):i!=s&&(this.$set(this[e+"Pages"],t.uri,i),this.$nextTick(()=>{this.$set(this[e+"Pages"],t.uri,s)}))}}},P=z,U=(i("c98c"),i("c444"),Object($["a"])(P,n,s,!1,null,"7b23d511",null));t["a"]=U.exports},f82e:function(e,t,i){"use strict";i("3176")},fb8a:function(e,t,i){"use strict";i("5d13")},fc0e:function(e,t,i){}}]);