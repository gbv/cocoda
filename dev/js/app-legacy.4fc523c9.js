(function(e){function t(t){for(var i,s,a=t[0],c=t[1],l=t[2],u=0,h=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var p=c;r.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(e,t,n){e.exports=n("bd14")},"0229":function(e,t,n){},"0397":function(e,t,n){"use strict";n("9fce")},1329:function(e,t,n){},2395:function(e,t,n){},"291e":function(e,t,n){"use strict";n("cce3")},"2f83":function(e,t,n){"use strict";n("c6cd")},"30c6":function(e,t,n){},3218:function(e,t,n){"use strict";n("30c6")},"32be":function(e,t,n){},"357f":function(e,t,n){"use strict";n("58f5")},3710:function(e,t,n){"use strict";n("1329")},3873:function(e,t,n){},"398f":function(e,t,n){},"440f":function(e,t,n){},"47f0":function(e){e.exports=JSON.parse('[{"uri":"http://w3id.org/nkos/nkostype#gazetteer","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["gazetteer"],"prefLabel":{"en":"Gazetteer","de":"Gazetteer"},"altLabel":{"de":["Ortsverzeichnis","Ortslexikon"]},"scopeNote":{"en":["geospatial dictionary of named and typed places"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#glossary","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["glossary"],"prefLabel":{"en":"Glossary","de":"Glossar"},"scopeNote":{"en":["a collection of textual glosses or of specialized terms with their meanings"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#categorization_schema","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["categorization_schema"],"prefLabel":{"en":"Categorization schema","de":"Kategorienschema"},"scopeNote":{"en":["schedule of concepts and pre-coordinated combinations of concepts, arranged by classification"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#classification_schema","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["classification_schema"],"prefLabel":{"en":"Classification schema","de":"Klassifikation"},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#list","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["list"],"prefLabel":{"en":"List","de":"Liste"},"scopeNote":{"en":["a limited set of terms arranged as a simple alphabetical list or in some other logically evident way; containing no relationships of any kind"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#name_authority_list","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["name_authority_list"],"prefLabel":{"en":"Name authority list","de":"Namensdatei"},"scopeNote":{"en":["controlled vocabulary for use in naming particular entities consistently"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#ontology","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["ontology"],"prefLabel":{"en":"Ontology","de":"Ontologie"},"scopeNote":{"en":["A formal model that allows knowledge to be represented for a specific domain. An ontology describes the types of things that exist (classes), the relationships between them (properties) and the logical ways those classes and properties can be used together (axioms)"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#subject_heading_scheme","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["subject_heading_scheme"],"prefLabel":{"en":"Subject heading scheme","de":"Schlagwortliste"},"scopeNote":{"en":["structured vocabulary comprising terms available for subject indexing, plus rules for combining them into pre-coordinated strings of terms where necessary"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#semantic_network","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["semantic_network"],"prefLabel":{"en":"Semantic network","de":"Semantisches Netz"},"scopeNote":{"en":["set of terms representing concepts, modeled as the nodes in a network of variable relationship types"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#synonym_ring","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["synonym_ring"],"prefLabel":{"en":"Synonym ring","de":"Synset"},"scopeNote":{"en":["set of synonymous or almost synonymous terms, any of which can be used to refer to a particular concept"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#taxonomy","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["taxonomy"],"prefLabel":{"en":"Taxonomy","de":"Taxonomie"},"scopeNote":{"en":["scheme of categories and subcategories that can be used to sort and otherwise organize items of knowledge or information"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#terminology","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["terminology"],"prefLabel":{"en":"Terminology","de":"Terminologie"},"scopeNote":{"en":["set of designations belonging to one special language [ISO 1087-1:2000, definition 3.5.1]"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#thesaurus","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["thesaurus"],"prefLabel":{"en":"Thesaurus","de":"Thesaurus"},"scopeNote":{"en":["controlled and structured vocabulary in which concepts are represented by terms, organized so that relationships between concepts are made explicit, and preferred terms are accompanied by lead-in entries for synonyms or quasi-synonyms"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#dictionary","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["dictionary"],"prefLabel":{"en":"Dictionary","de":"Wörterbuch"},"scopeNote":{"en":["a reference source containing words usually alphabetically arranged along with information about their forms, pronunciations, functions, etymologies, meanings, and syntactical and idiomatic uses"]},"narrower":[]}]')},"48b1":function(e,t,n){},"4a6b":function(e,t,n){},"4d52":function(e,t,n){"use strict";n("440f")},"4f79":function(e,t,n){"use strict";n("48b1")},"58f5":function(e,t,n){},"5f3b":function(e,t,n){},"65b7":function(e,t,n){},6779:function(e,t,n){"use strict";n("32be")},"69ee":function(e,t,n){},"6aea":function(e,t,n){"use strict";n("69ee")},"7c55":function(e,t,n){"use strict";n("2395")},"9fce":function(e,t,n){},a6bd:function(e,t,n){},b298:function(e,t,n){"use strict";n("3873")},bd14:function(e,t,n){"use strict";n.r(t);var i=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"font-default",attrs:{id:"app"}},[n("div",{staticClass:"alertsContainer"},e._l(e.$store.state.alerts.alerts,(function(t,i){return n("b-alert",{key:i,staticStyle:{display:"flex"},attrs:{variant:t.variant,show:t.countdown||!t.shouldCountdown,dismissible:!t.shouldCountdown,fade:""},on:{dismissed:function(n){return e.$store.commit({type:"alerts/setCountdown",alert:t,countdown:0})},"dismiss-count-down":function(n){return e.$store.commit({type:"alerts/setCountdown",alert:t,countdown:n})}}},[n("div",{staticStyle:{flex:"1"},domProps:{innerHTML:e._s(t.text)}}),t.buttonText?n("div",{staticClass:"fontWeight-heavy"},[n("a",{attrs:{href:""},domProps:{innerHTML:e._s(t.buttonText)},on:{click:function(e){return e.preventDefault(),t.buttonHandler(t,e)}}})]):e._e()])})),1),e.loadingGlobal||e.loading?n("loading-indicator-full"):e._e(),e.loaded?[n("the-navbar",{ref:"navbar"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected.scheme[!0]||e.selected.scheme[!1],expression:"selected.scheme[true] || selected.scheme[false]"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.swapSides"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.swapSides'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],attrs:{id:"swapSides"},on:{click:e.swapSides}},[n("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1),n("div",{staticClass:"main"},[e.config.error?n("div",{staticClass:"flexbox-row configError fontSize-large"},[n("div",{domProps:{innerHTML:e._s(e.$t("general."+e.config.error,e.config))}})]):e.schemes.length?n("div",{staticClass:"flexbox-row"},[e._l([!0,!1],(function(t,i){return n("div",{key:"browser-"+i,staticClass:"browser mainComponent",class:{order1:t,order5:!t},attrs:{id:"browserComponent_"+t}},[n("minimizer",{attrs:{name:"browserComponent_"+t,"is-column":!0}}),n("concept-scheme-selection",{ref:t?"conceptSchemeSelectionLeft":"conceptSchemeSelectionRight",refInFor:!0,staticClass:"mainComponent visualComponent",style:null!=e.selected.scheme[t]?"":"flex: 1;",attrs:{"is-left":t}}),null!=e.selected.scheme[t]?n("div",{staticClass:"conceptBrowser"},[n("item-detail",{staticClass:"mainComponent visualComponent conceptBrowserItem conceptBrowserItemDetail",attrs:{id:"itemDetailComponent_"+t,item:e.selected.concept[t]||e.selected.scheme[t],"is-left":t,settings:e.itemDetailSettings[t?"left":"right"]},on:{searchMappings:function(t){return e.searchMappings(t)},searchConcept:function(n){return e.setConceptSearchQuery(t,n,!0)}}}),n("resizing-slider"),n("concept-list-wrapper",{ref:t?"conceptListLeft":"conceptListRight",refInFor:!0,staticClass:"mainComponent visualComponent conceptBrowserItem conceptBrowserItemList",attrs:{id:"conceptListComponent_"+t,"is-left":t}})],1):e._e()],1)})),e.mappingRegistries.length>0?n("resizing-slider",{staticClass:"order2",attrs:{"is-column":!0}}):e._e(),e.mappingRegistries.length>0?n("div",{staticClass:"mappingTool order3",attrs:{id:"mappingTool"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected.scheme[!0]||e.selected.scheme[!1]||e.forceMappingBrowser&&e.$store.getters["mapping/getConcepts"]().length>0||!e.forceMappingBrowser,expression:"selected.scheme[true] || selected.scheme[false] || (forceMappingBrowser && $store.getters['mapping/getConcepts']().length > 0) || !forceMappingBrowser"}],staticClass:"mappingToolItem mainComponent visualComponent",attrs:{id:"mappingEditorComponent"}},[e.selected.scheme[!0]||e.selected.scheme[!1]||e.forceMappingBrowser&&e.$store.getters["mapping/getConcepts"]().length>0?n("mapping-editor"):n("div",{staticClass:"placeholderComponentCenter"},[n("div",{staticClass:"fontWeight-heavy fontSize-large"},[n("p",[e._v(e._s(e.$t("general.welcome")))]),n("p",[n("a",{attrs:{href:"./user-manual-"+e.locale+".html",target:"_blank"}},[e._v(e._s(e.$t("general.manual")))]),e._v(" - "),n("a",{attrs:{href:"https://gbv.github.io/cocoda/",target:"_blank"}},[e._v(e._s(e.$t("general.documentation")))]),e._v(" - "),n("a",{attrs:{href:"https://github.com/gbv/cocoda",target:"_blank"}},[e._v(e._s(e.$t("general.github")))])]),e.config.feedbackUrl?n("p",[n("br"),n("a",{attrs:{href:e.config.feedbackUrl,target:"_blank"}},[e._v(e._s(e.$t("general.feedback")))]),n("br"),e._v(" "+e._s(e.$t("general.feedback2"))+" ")]):e._e(),e.forceMappingBrowser?e._e():n("hr"),e.forceMappingBrowser?e._e():n("p",[e.$refs.mappingBrowser&&e.$refs.mappingBrowser.tabIndexes&&null!=e.$refs.mappingBrowser.tabIndexes.concordances?n("span",[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.showConcordances.apply(null,arguments)}}},[e._v(e._s(e.$t("general.showConcordances")))]),e._v(" - ")]):e._e(),n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.showMappingSearch.apply(null,arguments)}}},[e._v(e._s(e.$t("general.showMappingSearch")))])])])]),n("minimizer",{directives:[{name:"show",rawName:"v-show",value:!e.forceMappingEditor,expression:"!forceMappingEditor"}],ref:"mappingEditorMinimizer",attrs:{name:"mappingEditorComponent",text:e.$t("mappingEditor.title"),"force-minimized":!e.forceMappingEditor&&null}})],1),n("resizing-slider",{directives:[{name:"show",rawName:"v-show",value:(e.selected.scheme[!0]||e.selected.scheme[!1]||e.forceMappingBrowser)&&(e.selected.scheme[!0]||e.selected.scheme[!1]||e.forceMappingBrowser&&e.$store.getters["mapping/getConcepts"]().length>0||!e.forceMappingBrowser),expression:"(selected.scheme[true] || selected.scheme[false] || forceMappingBrowser) && (selected.scheme[true] || selected.scheme[false] || (forceMappingBrowser && $store.getters['mapping/getConcepts']().length > 0) || !forceMappingBrowser)"}],attrs:{"cocoda-red":!0}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected.scheme[!0]||e.selected.scheme[!1]||e.forceMappingBrowser,expression:"selected.scheme[true] || selected.scheme[false] || forceMappingBrowser"}],staticClass:"mappingToolItem mainComponent visualComponent",attrs:{id:"mappingBrowserComponent"}},[n("mapping-browser",{ref:"mappingBrowser"}),n("minimizer",{ref:"mappingBrowserMinimizer",attrs:{name:"mappingBrowserComponent",text:e.$t("mappingBrowser.title")}})],1)],1):e._e(),e.mappingRegistries.length>0?n("resizing-slider",{staticClass:"order4",attrs:{"is-column":!0}}):e._e()],2):e._e()])]:e._e()],2)},r=[],s=n("a34a"),a=n.n(s),c=n("3a0b"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.canSaveCurrentMapping?"mappingEditor-notSaved":e.canExportCurrentMapping&&!e.hasChangedFromOriginal?"mappingEditor-saved":"CurrentMappingEditor-cantSave",attrs:{id:"mappingEditor"}},[n("component-settings",{attrs:{tooltip:e.$t("mappingEditor.settingsButton")}}),e.canSaveCurrentMapping?n("div",{staticClass:"mappingEditor-mappingNotSaved fontSize-small fontWeight-heavy"},[e._v(" "+e._s(e.$jskos.prefLabel(e.$store.getters.getCurrentRegistry))+": "+e._s(e.$t("mappingEditor.notSaved"))+" ")]):e._e(),n("div",{staticClass:"mappingEditorToolbar"},[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canSwapCurrentMapping?e.$t("mappingEditor.swapMapping"):"",delay:e.defaults.delay.medium},expression:"{ title: canSwapCurrentMapping ? $t('mappingEditor.swapMapping') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canSwapCurrentMapping,"button-disabled":!e.canSwapCurrentMapping},on:{click:e.swapMapping}},[n("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canSaveCurrentMapping?e.$t("mappingEditor.saveMapping",[e.$jskos.prefLabel(e.currentRegistry)]):"",delay:e.defaults.delay.medium},expression:"{ title: canSaveCurrentMapping ? $t('mappingEditor.saveMapping', [$jskos.prefLabel(currentRegistry)]) : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canSaveCurrentMapping,"button-disabled":!e.canSaveCurrentMapping},on:{click:e.saveCurrentMapping}},[n("font-awesome-icon",{attrs:{icon:"save"}})],1),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canDeleteCurrentMapping?e.$t("mappingEditor.deleteMapping"):!e.$store.getters.getCurrentRegistry.has.auth||e.$store.getters.getCurrentRegistry.auth?"":e.$t("general.authNecessary"),delay:e.defaults.delay.medium},expression:"{ title: canDeleteCurrentMapping ? $t('mappingEditor.deleteMapping') : ((!$store.getters.getCurrentRegistry.has.auth || $store.getters.getCurrentRegistry.auth) ? '' : $t('general.authNecessary')), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{"button-delete":e.canDeleteCurrentMapping,"button-disabled":!e.canDeleteCurrentMapping},on:{click:e.deleteCurrentMapping}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canCloneCurrentMapping?e.$t("mappingEditor.cloneMapping"):"",delay:e.defaults.delay.medium},expression:"{ title: canCloneCurrentMapping ? $t('mappingEditor.cloneMapping') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canCloneCurrentMapping,"button-disabled":!e.canCloneCurrentMapping},on:{click:e.cloneMapping}},[n("font-awesome-icon",{attrs:{icon:"clone"}})],1),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canClearCurrentMapping?e.$t("mappingEditor.clearMapping"):"",delay:e.defaults.delay.medium},expression:"{ title: canClearCurrentMapping ? $t('mappingEditor.clearMapping') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canClearCurrentMapping,"button-disabled":!e.canClearCurrentMapping},on:{click:e.clearMapping}},[n("font-awesome-icon",{attrs:{icon:"ban"}})],1),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{title:e.mappingStatus.message||"",placement:"bottom"},expression:"{\n        title: mappingStatus.message || '',\n        placement: 'bottom'\n      }"}],staticClass:"mappingEditorToolbarItem mappingEditor-mappingAlert fontWeight-heavy",class:{"text-warning":e.mappingStatus.warning,"text-danger":e.mappingStatus.invalid}},[e.$jskos.conceptsOfMapping(e.mapping).length>0&&e.mappingStatus.message?n("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):e._e()],1)]),e._l([!0,!1],(function(t,i){return n("div",{key:i,staticClass:"mappingEditorPart",class:{"mappingEditorPart-noConcepts":null==e.$store.getters["mapping/getScheme"](t)||!e.$store.getters["mapping/getConcepts"](t).length,"mappingEditorPart-dropTarget":null!=e.$store.state.draggedConcept},style:{order:2*i},on:{dragover:e.dragOver,drop:function(n){return e.drop(n,t)}}},[null!=e.$store.getters["mapping/getScheme"](t)&&e.$store.getters["mapping/getConcepts"](t).length?n("div",[n("div",{staticClass:"mappingScheme fontWeight-heavy"},[n("item-name",{attrs:{item:e.$store.getters["mapping/getScheme"](t),"is-link":!0,"is-left":t,"show-text":!1}})],1),n("div",{staticClass:"mappingConceptList"},[n("div",[n("div",{staticStyle:{flex:"1"}}),n("ul",e._l(e.$store.getters["mapping/getConcepts"](t),(function(i,o){return n("li",{key:o},[n("item-name",{attrs:{item:i,"is-link":!0,"is-left":t,"is-highlighted":e.$jskos.compare(i,e.selected.concept[!0])||e.$jskos.compare(i,e.selected.concept[!1]),"show-popover":!0,"font-size":"large"}}),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingEditor.removeConceptFromMapping"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingEditor.removeConceptFromMapping'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button fontSize-large",on:{click:function(n){return e.$store.commit({type:"mapping/remove",concept:i,isLeft:t})}}},[n("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)],1)})),0),n("div",{staticStyle:{flex:"1"}})])])]):n("div",[n("div",{staticClass:"mappingNoConcepts"},[null==e.$store.state.draggedConcept?n("div",{staticStyle:{"margin-bottom":"-12px"}},[e._v(" "+e._s(e.$t("mappingEditor.placeholder"))),n("br"),n("br")]):n("div",{staticClass:"fontWeight-heavy"},[e._v(" "+e._s(e.$t("mappingEditor.placeholderDragging"))+" ")]),null==e.$store.state.draggedConcept?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.isAddButtonEnabled(t)?e.$t("mappingEditor.addConcept"):"",delay:e.defaults.delay.medium},expression:"{ title: isAddButtonEnabled(isLeft) ? $t('mappingEditor.addConcept') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditor-addButton",class:{button:e.isAddButtonEnabled(t),"button-disabled":!e.isAddButtonEnabled(t)},on:{click:function(n){return e.addToMappingInternal(t)}}},[n("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1):e._e()])])])})),n("div",{staticClass:"mappingTypeSelection"},[n("mapping-type-selection",{attrs:{mapping:e.$store.state.mapping.mapping}})],1),n("div",{staticClass:"mappingEditor-creator fontSize-small"},[e._v(" "+e._s(e.creatorName)+" ")]),n("div",{staticClass:"mappingEditor-title"},[e._v(" "+e._s(e.$t("mappingEditor.title"))+" "),e.currentGuidelines?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingEditor.guidelines"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingEditor.guidelines'), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[n("a",{attrs:{href:e.currentGuidelines.url,target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)]):e._e()]),n("b-modal",{ref:"deleteModal",attrs:{title:e.$t("mappingEditor.deleteTitle"),"hide-footer":""}},[n("p",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.$t("mappingEditor.deleteText"))+" "),e.hasChangedFromOriginal?n("span",[n("br"),e._v(e._s(e.$t("mappingEditor.deleteChangesText"))+" ")]):e._e()]),n("div",{staticClass:"mappingEditor-deleteButtons"},[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.deleteOriginalMapping(!0)&&e.$refs.deleteModal.hide()}}},[e._v(" "+e._s(e.$t("mappingEditor.deleteConfirm"))+" ")]),n("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$refs.deleteModal.hide()}}},[e._v(" "+e._s(e.$t("mappingEditor.cancel"))+" ")])],1)]),n("mapping-detail",{ref:"mappingDetail",attrs:{mapping:e.mapping}}),n("div",{staticClass:"mappingEditor-infoIcon"},[n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.showDetail"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.showDetail'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"info-circle"},on:{click:function(t){return e.$refs.mappingDetail.show()}}})],1)],2)},p=[],u=n("68bc"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mappingTypes",on:{mouseover:function(t){e.hovered=!0},mouseout:function(t){e.hovered=!1}}},e._l(e.mappingTypes,(function(t){return n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.$jskos.prefLabel(t)+e.definition(t),delay:e.defaults.delay.medium},expression:"{ title: $jskos.prefLabel(mappingType) + definition(mappingType), delay: defaults.delay.medium }",modifiers:{hover:!0,right:!0}}],key:t.uri,staticClass:"mappingType",class:{mappingTypeSelected:e.hovered&&t&&e.mappingTypeSelected&&t.uri==e.mappingTypeSelected.uri,"fontWeight-heavy":t&&e.mappingTypeSelected&&t.uri==e.mappingTypeSelected.uri,mappingTypeHovered:t&&e.mappingTypeHovered&&t.uri==e.mappingTypeHovered.uri},style:"display: "+(t&&e.mappingTypeSelected&&t.uri==e.mappingTypeSelected.uri||e.hovered?"inline-block":"none")+";",on:{click:function(n){return e.choose(t)}}},[e._v(" "+e._s(e.$jskos.notation(t))+" ")])})),0)},d=[],m={name:"MappingTypeSelection",props:{mapping:{type:Object,default:null}},data:function(){return{hovered:!1,mappingTypes:this.$jskos.mappingTypes,mappingTypeHovered:null}},computed:{mappingTypeSelected:function(){var e=this.mapping;return this.$jskos.mappingTypeByType(e?e.type:null)}},methods:{choose:function(e){this.$store.commit({type:"mapping/setType",uri:e.uri})},definition:function(e){var t=this.$jskos.definition(e);return t.length?": "+t.join(", "):""}}},f=m,g=(n("6779"),n("2877")),v=Object(g["a"])(f,h,d,!1,null,"e94da702",null),y=v.exports,b=n("2ef0"),w=n.n(b),S=n("1e4f"),C=n("40e1"),k=n("a189"),$=n("616f"),_=n("8fb2");function L(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function x(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var M={data:function(){return{hotkeys:[]}},methods:{shortcutHandler:function(){},enableShortcuts:function(){var e,t=this,n=this.$options.name,i=0,o=L(this.config.shortcuts||[]);try{var r=function(){var o=e.value;o.component===n&&(t.addHotkey(o.keys,(function(){t.shortcutHandler(o)})),i+=1)};for(o.s();!(e=o.n()).done;)r()}catch(s){o.e(s)}finally{o.f()}i&&document.addEventListener("keydown",this.hotkeyHandler)},hotkeyHandler:function(e){var t=w.a.pick(e,["key","keyCode","metaKey","ctrlKey","altKey","shiftKey"]);if("INPUT"==w.a.get(e,"srcElement.tagName")){for(var n=[{key:"a",ctrlKey:!0,metaKey:!1,altKey:!1,shiftKey:!1},{key:"a",ctrlKey:!1,metaKey:!0,altKey:!1,shiftKey:!1},{key:"µ",ctrlKey:!1,metaKey:!1,altKey:!0,shiftKey:!1}],i=!1,o=0,r=n;o<r.length;o++){var s=r[o],a=s.key?"keyCode":"key";if(w.a.isEqual(w.a.omit(s,[a]),w.a.omit(t,[a]))){i=!0;break}}if(i)return}var c=!0,l=document.getElementsByClassName("modal show");if(0==l.length){var p,u=L(this.hotkeys);try{for(u.s();!(p=u.n()).done;){var h=p.value,d=h.shortcut.key?"keyCode":"key";w.a.isEqual(w.a.omit(t,[d]),w.a.omit(h.shortcut,[d]))&&(c=h.handler()&&c)}}catch(m){u.e(m)}finally{u.f()}}c||(e.stopPropagation(),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0)},addHotkey:function(e,t){e=e.split(",");var n,i=L(e);try{for(i.s();!(n=i.n()).done;){var o,r=n.value,s=r.split("+"),a=null,c=null,l=!1,p=!1,u=!1,h=!1,d=L(s);try{for(d.s();!(o=d.n()).done;){var m=o.value;"ctrl"==m?p=!0:"alt"==m||"option"==m?u=!0:"meta"==m||"command"==m?l=!0:"shift"==m?h=!0:m.startsWith("keyCode:")?c=parseInt(m.replace("keyCode:","")):a=m}}catch(f){d.e(f)}finally{d.f()}this.hotkeys.push({handler:t,shortcut:{key:a,keyCode:c,metaKey:l,ctrlKey:p,altKey:u,shiftKey:h}})}}catch(f){i.e(f)}finally{i.f()}}}},I=n("564d");function O(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){O(r,i,o,s,a,"next",e)}function a(e){O(r,i,o,s,a,"throw",e)}s(void 0)}))}}function A(e){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var D={name:"MappingEditor",components:{ItemName:u["a"],MappingTypeSelection:y,ComponentSettings:S["a"],MappingDetail:C["a"]},mixins:[k["a"],$["a"],_["a"],M,I["a"]],computed:{mapping:function(){return this.$store.state.mapping.mapping},original:function(){return this.$store.state.mapping.original},canSaveCurrentMapping:function(){return!this.mappingStatus.invalid&&(this.$store.getters["mapping/canUpdate"]?this.hasChangedFromOriginal:this.$store.getters["mapping/canCreate"])},canDeleteCurrentMapping:function(){return this.$store.getters["mapping/canDelete"]},canClearCurrentMapping:function(){return this.mapping.fromScheme||this.mapping.toScheme},canExportCurrentMapping:function(){return this.mapping.fromScheme&&this.mapping.toScheme},canSwapCurrentMapping:function(){return this.$jskos.conceptsOfMapping(this.mapping,"to").length<=1&&this.$jskos.conceptsOfMapping(this.mapping).length>0},canCloneCurrentMapping:function(){return null!=this.original.uri},mappingStatus:function(){var e=this,t=this.currentRegistry;if(!t.isAuthorizedFor({type:"mappings",action:"create",user:this.user}))return{message:this.$t("registryInfo.notAuthenticated")+" (".concat(this.$jskos.prefLabel(t),")"),invalid:!0};for(var n=0,i=["fromScheme","toScheme"];n<i.length;n++){var o=i[n];if(!this.mapping[o])return{message:this.$t("mappingEditor.invalidMissing",[o]),invalid:!0}}for(var r=function(){var n=a[s],i=w.a.get(t,"config.mappings.".concat(n,"Whitelist"));if(i&&!i.find((function(t){return e.$jskos.compare(t,e.mapping[n])})))return{v:{message:e.$t("mappingEditor.invalidWhitelist",["".concat(n," ").concat(e.$jskos.prefLabel(e.mapping[n],{fallbackToUri:!1})||""),e.$jskos.prefLabel(t)]),invalid:!0}}},s=0,a=["fromScheme","toScheme"];s<a.length;s++){var c=r();if("object"===A(c))return c.v}var l=w.a.get(t,"config.mappings.cardinality");if("1-to-1"==l&&this.$jskos.conceptsOfMapping(this.mapping,"to").length>1)return{message:this.$t("mappingEditor.invalid1to1",[this.$jskos.prefLabel(t)]),invalid:!0};if(this.original.uri&&!this.$jskos.compare(t,this.original.registry))return{message:this.$t("mappingEditor.warningUpdateRegistry",[this.$jskos.prefLabel(this.original.registry),this.$jskos.prefLabel(t)]),warning:!0};if(this.original.uri&&!this.$store.getters["mapping/canUpdate"])return{message:this.$t("mappingEditor.warningUpdateNotAllowed"),warning:!0};for(var p=0,u=["fromScheme","toScheme"];p<u.length;p++){var h=u[p];if(this.original.uri&&!this.$jskos.compare(this.mapping[h],this.original.mapping[h]))return{message:this.$t("mappingEditor.warningUpdateScheme",[h]),warning:!0}}return{message:null,invalid:!1,warning:!1}},mappingEncoded:function(){return encodeURIComponent(JSON.stringify(this.prepareMapping()))},hasChangedFromOriginal:function(){return this.$store.getters["mapping/hasChangedFromOriginal"]},schemeRight:function(){return this.selected.scheme[!1]},currentGuidelines:function(){var e=this;return(this.config.guidelines||[]).find((function(t){return e.$jskos.compare(t.fromScheme,e.selected.scheme[!0])&&e.$jskos.compare(t.toScheme,e.selected.scheme[!1])}))}},watch:{mappingEncoded:function(){var e=w.a.get(this.$el.parentElement.getElementsByClassName("minimizer"),"[0].__vue__");e&&e.toggleMinimize(!1),this.$store.commit({type:"mapping/setScheme",isLeft:!1,scheme:this.selected.scheme[!1]})},schemeRight:function(){this.$store.commit({type:"mapping/setScheme",isLeft:!1,scheme:this.selected.scheme[!1]})},creator:function(){this.setCreator()},"original.uri":function(){this.setCreator()}},mounted:function(){this.enableShortcuts(),this.setCreator()},methods:{shortcutHandler:function(e){var t=e.action,n=e.isLeft;switch(t){case"saveMapping":this.saveCurrentMapping();break;case"clearMapping":this.clearMapping();break;case"addConcept":this.addToMappingInternal(n);break}},saveCurrentMapping:function(){var e=this;return T(a.a.mark((function t(){var n,i;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canSaveCurrentMapping){t.next=2;break}return t.abrupt("return",!1);case 2:return e.creator?e.setCreator():e.removeCreator(),n=e.original.uri&&e.$jskos.compare(e.currentRegistry,e.original.registry),t.next=6,e[n?"putMapping":"postMapping"]({registry:e.currentRegistry,mapping:e.mapping,_before:function(){e.loadingGlobal=!0},_after:function(){e.loadingGlobal=!1}});case 6:i=t.sent,e.$store.commit({type:"mapping/set",original:i}),e.componentSettings.clearOnSave&&e.clearMapping();case 9:case"end":return t.stop()}}),t)})))()},setCreator:function(){var e=this,t=(this.mapping.contributor||[]).concat((this.mapping.creator||[]).filter((function(t){return!(e.creator.uri&&t.uri&&e.creator.uri==t.uri)&&!(e.creatorName&&e.$jskos.prefLabel(t,{fallbackToUri:!1})&&e.creatorName==e.$jskos.prefLabel(t,{fallbackToUri:!1}))}))),n=[this.creator];this.$store.commit({type:"mapping/setCreator",creator:n}),this.$store.commit({type:"mapping/setContributor",contributor:t})},removeCreator:function(){var e=(this.mapping.contributor||[]).concat(this.mapping.creator||[]);this.$store.commit({type:"mapping/setCreator",creator:null}),this.$store.commit({type:"mapping/setContributor",contributor:e})},deleteCurrentMapping:function(){return!!this.canDeleteCurrentMapping&&(this.$refs.deleteModal.show(),!0)},deleteOriginalMapping:function(){var e=arguments,t=this;return T(a.a.mark((function n(){var i;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]&&e[0],n.next=3,t.deleteMapping({mapping:t.mapping,_before:function(){t.loadingGlobal=!0},_after:function(){t.loadingGlobal=!1}});case 3:return i&&t.clearMapping(),n.abrupt("return",!0);case 5:case"end":return n.stop()}}),n)})))()},clearMapping:function(){return!!this.canClearCurrentMapping&&(this.$store.commit({type:"mapping/empty"}),!0)},labelForScheme:function(e){return this.$jskos.notation(e,"scheme")},isAddButtonEnabled:function(e){return this.$store.getters["mapping/canAdd"](this.selected.concept[e],this.selected.scheme[e],e)},isDeleteAllButtonEnabled:function(e){return this.$store.getters["mapping/getConcepts"](e).length>0},addButtonDisabledReason:function(e){var t=e?this.selected.concept[!0]:this.selected.concept[!1];return this.$store.getters["mapping/checkScheme"](e?this.selected.scheme[!0]:this.selected.scheme[!1],e)?null==t?"Please select a concept.":this.$store.getters["mapping/added"](t,e)?"Selected concept is already in mapping.":"Other reason.":"Scheme does not match."},addToMappingInternal:function(e){if(this.isAddButtonEnabled(e)){var t=e?this.selected.concept[!0]:this.selected.concept[!1];this.addToMapping({concept:t,scheme:this.selected.scheme[e],isLeft:e})}},deleteAll:function(e){this.$store.commit({type:"mapping/removeAll",isLeft:e})},droppedConcept:function(e,t){this.$jskos.isConcept(e)&&(this.addToMapping({concept:e,scheme:e.inScheme&&e.inScheme[0]||this.selected.scheme[t],isLeft:t}),this.loadConcepts([e]))},swapMapping:function(){this.canSwapCurrentMapping&&this.$store.commit({type:"mapping/switch"})},cloneMapping:function(){var e=this.$jskos.copyDeep(this.mapping);delete e.uri,this.$store.commit({type:"mapping/set",original:null}),this.$store.commit({type:"mapping/set",mapping:e})}}},F=D,E=(n("3218"),n("2f83"),Object(g["a"])(F,l,p,!1,null,"3af73640",null)),z=E.exports,P=n("ef0f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conceptListWrapper",style:0==e.concepts.length?"min-height: 80px; max-height: 80px;":""},[n("tabs",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},attrs:{value:e.currentChoiceIndex,fill:""},on:{change:e.tabChanged},scopedSlots:e._u([{key:"title",fn:function(t){return[n("span",[e._v(" "+e._s(t.tab.title)+" ")])]}}])},e._l(e.dataChoices,(function(t,i){return n("tab",{key:"conceptListWrapper-dataChoice-"+i,staticStyle:{position:"relative"},attrs:{title:t.label,hidden:t!==e.currentChoice},nativeOn:{dragover:function(t){return e.dragOver.apply(null,arguments)},drop:function(n){return e.drop(n,t.droppedConcept)},scroll:function(t){return e.loadConceptsInView.apply(null,arguments)}}},[n("concept-list",{ref:"conceptList",refInFor:!0,attrs:{"is-left":e.isLeft,concepts:t.concepts,"show-children":t.showChildren,"show-scheme":t.showScheme,"no-items-label":t.noItemsLabel,buttons:t.buttons,shown:i==e.currentChoiceIndex}})],1)})),1),e.dataChoices.filter((function(e){return e.available})).length>1?n("div",{staticClass:"button conceptListWrapper-listSelectionButton",attrs:{id:"conceptListWrapper-listSelectionButton-"+e.isLeft}},[n("font-awesome-icon",{attrs:{icon:"chevron-up"}})],1):e._e(),n("component-settings"),n("data-modal-button",{attrs:{data:e.minimizeConcepts(e.currentChoice.concepts),"position-right":20,"position-bottom":0,type:"concept",url:e.currentChoice.url}}),n("b-popover",{ref:"listSelectionPopover",attrs:{placement:"top",show:e.listSelectionPopoverShow,target:"conceptListWrapper-listSelectionButton-"+e.isLeft},on:{"update:show":function(t){e.listSelectionPopoverShow=t}}},[n("div",{attrs:{id:"conceptListWrapper-listSelectionPopover-"+e.isLeft}},e._l(e.dataChoices,(function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.available,expression:"choice.available"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:t.tooltip,delay:e.defaults.delay.medium,html:!0},expression:"{ title: choice.tooltip, delay: defaults.delay.medium, html: true }",modifiers:{hover:!0}}],key:"conceptListWrapper-listSelectionPopover-"+e.isLeft+"-"+i,class:{"fontWeight-heavy":t===e.currentChoice,"conceptListWrapper-listSelectionPopover-choice":!0},on:{click:function(t){return e.chooseIndex(i)}}},[n("div",{staticClass:"fontSize-small",staticStyle:{display:"inline-block",width:"18px"}},[n("font-awesome-icon",{attrs:{icon:t.icon}})],1),e._v(" "+e._s(t.label)+" ")])})),0)]),e.currentChoice.reloadButton?n("div",{staticClass:"dataModalButton fontSize-small conceptListWrapper-reloadButton",on:{click:e.reloadList}},[n("font-awesome-icon",{attrs:{icon:"sync-alt"}})],1):e._e(),e.loading?n("loading-indicator-full"):e._e(),e.concepts.length>0?n("minimizer",{attrs:{name:"conceptList_"+e.isLeft,text:e.currentChoice.label}}):e._e()],1)},B=[],R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"minimizer"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.minimized,expression:"!minimized"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("minimizer.minimize"),delay:e.defaults.delay.medium},expression:"{ title: $t('minimizer.minimize'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"utilityButton minimizeButton",on:{click:function(t){return e.toggleMinimize()},mouseover:function(t){e.minimizeHovered=!0},mouseout:function(t){e.minimizeHovered=!1}}},[n("font-awesome-icon",{attrs:{icon:"window-minimize"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.minimized,expression:"minimized"}],staticClass:"minimizedOverlay",on:{click:function(t){return e.toggleMinimize()}}},[n("div",[e._v(" "+e._s(e.text)+" "),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("minimizer.maximize"),delay:e.defaults.delay.medium},expression:"{ title: $t('minimizer.maximize'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"maximizeButton"},[n("font-awesome-icon",{attrs:{icon:"plus-square"}})],1)])]),e.minimizeHovered?n("div",{staticClass:"minimizedHoverOverlay"}):e._e()])},H=[];function U(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function V(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var K={name:"Minimizer",mixins:[I["a"]],props:{name:{type:String,default:null},text:{type:String,default:""},isColumn:{type:Boolean,default:!1},forceMinimized:{type:Boolean,default:null}},data:function(){return{previousFlex:"",previousMinSizes:[],minimizedLocal:!1,minimizerSize:"40px",minimizeHovered:!1}},computed:{minimized:{get:function(){return null!=this.forceMinimized?this.forceMinimized:null!=this.name?this.$settings.minimized[this.name]||!1:this.minimizedLocal},set:function(e){if(null!=this.name){var t=w.a.cloneDeep(this.$settings.minimized);t[this.name]=e,this.$store.commit({type:"settings/set",prop:"minimized",value:t})}else this.minimizedLocal=e}}},watch:{minimized:function(){this.refreshMinimize()}},mounted:function(){this.refreshMinimize()},methods:{toggleMinimize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.minimized=null!=e?e:!this.minimized},refreshMinimize:function(){this.minimized&&(this.previousMinSizes=[]);var e=this.$el;while(!e.classList.contains("mainComponent"))if(e=e.parentElement,this.minimized){var t=window.getComputedStyle(e),n=void 0;n=this.isColumn?t.getPropertyValue("min-width"):t.getPropertyValue("min-height"),this.previousMinSizes.push({element:e,minSize:n}),this.isColumn?(e.style.minWidth=this.minimizerSize,e.style.maxWidth=this.minimizerSize):(e.style.minHeight=this.minimizerSize,e.style.maxHeight=this.minimizerSize)}var i=window.getComputedStyle(e);if(this.minimized){e.classList.add("mainComponent-minimized"),this.previousFlex=i.getPropertyValue("flex"),e.style.flex="0 1 "+this.minimizerSize,e.dataset.minimized=1,this.refresh("minimize");var o,r=window.getComputedStyle(this.$el.getElementsByClassName("minimizedOverlay")[0]).getPropertyValue("z-index"),s=U(e.getElementsByClassName("minimizer"));try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a!=this.$el){var c=a.__vue__;c.minimized&&window.getComputedStyle(a.getElementsByClassName("minimizedOverlay")[0]).getPropertyValue("z-index")>=r&&(a.getElementsByClassName("minimizedOverlay")[0].style.zIndex=r-1)}}}catch(h){s.e(h)}finally{s.f()}}else{e.classList.remove("mainComponent-minimized"),e.style.flex=this.previousFlex;var l,p=U(this.previousMinSizes);try{for(p.s();!(l=p.n()).done;){var u=l.value;this.isColumn?(u.element.style.minWidth=u.minSize,u.element.style.maxWidth=""):(u.element.style.minHeight=u.minSize,u.element.style.maxHeight="")}}catch(h){p.e(h)}finally{p.f()}e.dataset.minimized=0,this.refresh("minimize")}}}},G=K,q=(n("4d52"),Object(g["a"])(G,R,H,!1,null,"1137645c",null)),Q=q.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conceptList",style:"margin-bottom: "+(e.noItems?0:30)+"px;"},[n("div",{ref:"conceptListItems",staticClass:"conceptListItems"},e._l(e.items,(function(t,i){var o=t.concept,r=t.depth,s=t.isSelected;return n("concept-list-item",{key:"conceptListItems-"+e.isLeft+"-"+i,attrs:{concept:o,depth:r,"is-selected":s,index:i,"is-left":e.isLeft,"show-children":e.showChildren,"show-scheme":e.showScheme,buttons:e.buttons}})})),1),e.noItems?n("div",{staticClass:"conceptListItems-noItems"},[e._v(" "+e._s(e.noItemsLabel||e.$t("conceptList.noItems"))+" ")]):e._e(),e.loading||e.concepts.includes(null)?n("loading-indicator-full"):e._e()],1)},X=[],Y=n("a4fe"),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!=e.concept?n("div",{staticClass:"conceptListItem",class:{hovered:e.isHovered&&!e.isHovered,selected:e.isSelected,"concept-mappingsExist":e.showConceptMappedStatus&&e.mappedStatus,"concept-mappingsDoNotExist":e.showConceptMappedStatus&&!e.mappedStatus},style:"padding-left: "+10*e.depth+"px",attrs:{"data-uri":e.concept.uri},on:{mouseover:function(t){return e.hovering(e.concept)},mouseout:function(t){return e.hovering(null)}}},[n("div",{staticClass:"conceptBox",attrs:{draggable:"true"},on:{dragstart:function(t){return e.dragStart(e.concept,t)},dragend:function(t){return e.dragEnd()}}},[e.showChildren&&e.hasChildren?n("div",{staticClass:"arrowBox",on:{click:function(t){return e.openByArrow(!e.isOpen)}}},[n("i",{class:{right:!e.isOpen,down:e.isOpen}})]):e._e(),e._l(e.buttons.filter((function(e){return"before"==e.position})),(function(t,i){return n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:t.tooltip,delay:e.defaults.delay.medium},expression:"{ title: button.tooltip, delay: defaults.delay.medium}",modifiers:{hover:!0}}],key:"conceptListItem-buttons-"+i,staticClass:"button fontSize-verySmall conceptListItem-buttonBefore",on:{click:function(n){return t.onClick(n,e.concept)}}},[n("font-awesome-icon",{attrs:{icon:t.icon}})],1)})),n(e.url?"router-link":"div",{tag:"div",staticClass:"labelBox",class:{labelBoxFull:e.showChildren&&!e.hasChildren,labelBoxSelected:e.isSelected,labelBoxSingle:!e.showChildren},attrs:{to:e.url},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onClick.apply(null,arguments)}}},[e.scheme&&e.showScheme?n("span",[e._v(" "+e._s(e.$jskos.notation(e.scheme))+" ")]):e._e(),e.concept&&-1==e.concept.__DETAILSLOADED__?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.unknownConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.unknownConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"fontSize-small"},[n("font-awesome-icon",{attrs:{icon:"bolt"}})],1):e._e(),e.concept&&e.concept.type&&e.concept.type.includes("http://rdf-vocabulary.ddialliance.org/xkos#CombinedConcept")?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.combinedConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.combinedConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"fontSize-normal"},[n("font-awesome-icon",{attrs:{icon:"puzzle-piece"}})],1):e._e(),n("span",{staticClass:"fontWeight-heavy",domProps:{innerHTML:e._s(e.getNotation(e.concept,"concept",!0))}}),n("span",{class:{"fontWeight-medium":e.isSelected}},[e._v(" "+e._s(e.$jskos.prefLabel(e.concept,{fallbackToUri:0==e.$jskos.notation(e.concept).length}))+" ")])]),e.canAddToMapping?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.addToMapping"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.addToMapping'), delay: defaults.delay.medium}",modifiers:{hover:!0}}],staticClass:"addToMapping",on:{click:function(t){return e.addConcept()}}},[n("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1):e._e()],2),e.showChildren&&e.hasChildren&&e.isOpen&&e.concept.narrower.includes(null)?n("loading-indicator",{staticStyle:{"margin-left":"36px"},attrs:{size:"sm"}}):e._e()],1):e._e()},ee=[],te=n("b758"),ne={name:"ConceptListItem",components:{LoadingIndicator:te["a"],ItemName:u["a"]},mixins:[$["a"],_["a"]],props:{concept:{type:Object,default:null},depth:{type:Number,default:null},index:{type:Number,default:null},isLeft:{type:Boolean,default:!0},isSelected:{type:Boolean,default:!1},showChildren:{type:Boolean,default:!1},showScheme:{type:Boolean,default:!1},buttons:{type:Array,default:function(){return[]}}},data:function(){return{isHoveredFromHere:!1,loadingChildren:!1,preventClick:!1,preventClickArrow:!1,canAddToMapping:!1,interval:null,url:null}},computed:{hasChildren:function(){return 0!=w.a.get(this.concept,"narrower.length",1)},isHovered:function(){return this.isHoveredFromHere},childrenLoaded:function(){return!this.concept.narrower||!this.concept.narrower.includes(null)},isOpen:function(){return w.a.get(this.concept,"__ISOPEN__[".concat(this.isLeft,"]"),!1)},scheme:function(){return w.a.get(this.concept,"inScheme[0]")},mappedStatus:function(){return this.$store.getters.mappedStatus(this.concept,this.isLeft)},showConceptMappedStatus:function(){return this.$store.state.settings.settings.components.ConceptListWrapper.loadConceptsMappedStatus}},created:function(){this.hovering=w.a.debounce(this._hovering,20)},methods:{_hovering:function(e){var t=this;this.$store.commit({type:"setHoveredConcept",concept:e}),this.isHoveredFromHere=null!=e,this.canAddToMapping=this.$store.getters["mapping/canAdd"](this.concept,this.$store.state.selected.scheme[this.isLeft],this.isLeft),window.clearInterval(this.interval),null!=e&&(this.interval=setInterval((function(){t.isMouseOver()||(t.isHoveredFromHere=!1,window.clearInterval(t.interval))}),500)),this.url=e?this.getRouterUrl(e,this.isLeft,!0):null},openByArrow:function(e){var t=this;this.preventClickArrow||(this.open(this.concept,this.isLeft,e),this.loadChildren(),this.preventClickArrow=!0,w.a.delay((function(){w.a.delay((function(){t.preventClickArrow=!1}),200)}),50))},select:function(e){this.setSelected({isLeft:this.isLeft,concept:e})},onClick:function(){var e=this;this.preventClick||this.isSelected&&this.hasChildren&&(this.preventClick=!0,w.a.delay((function(){e.open(e.concept,e.isLeft,!e.isOpen),w.a.delay((function(){e.preventClick=!1}),200)}),50))},addConcept:function(){!this.isSelected&&this.$store.state.settings.settings.components.ConceptListWrapper.addToMappingSelectsConcept&&this.select(this.concept),this.addToMapping({concept:this.concept,scheme:this.$store.state.selected.scheme[this.isLeft],isLeft:this.isLeft})},loadChildren:function(){var e=this;this.loadingChildren=!0,this.loadNarrower(this.concept).then((function(t){e.loadingChildren=!1,e.showChildren&&t&&t.__ISOPEN__&&t.__ISOPEN__[e.isLeft]&&e.scrollTo()}))},scrollTo:function(){var e=this.$el.parentElement;while(!e.classList.contains("scrollable")){if(!e.parentElement)break;e=e.parentElement}var t={container:e,easing:"ease-in",offset:-20,cancelable:!0,x:!1,y:!0};this.$scrollTo(this.$el,200,t)}}},ie=ne,oe=(n("4f79"),Object(g["a"])(ie,Z,ee,!1,null,"23cb50c0",null)),re=oe.exports,se=n("2e22");function ae(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ce(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function ce(e,t){if(e){if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pe={mixins:[$["a"]],computed:{loadConceptsMappedStatus:function(){return this.$store.state.settings.settings.components.ConceptListWrapper.loadConceptsMappedStatus},loadConceptsMappedStatusOtherScheme:function(){return w.a.isBoolean(this.isLeft)?this.$store.state.selected.scheme[!this.isLeft]:null}},created:function(){this.loadMappingsForConcepts=w.a.debounce(this._loadMappingsForConcepts,300)},watch:{loadConceptsMappedStatusConceptsToLoad:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])},currentRegistry:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])},loadConceptsMappedStatusOtherScheme:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])},loadConceptsMappedStatus:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])}},methods:{_loadMappingsForConcepts:function(e){var t=this;if(this.loadConceptsMappedStatus){var n=this.currentRegistry,i=this.loadConceptsMappedStatusOtherScheme;e=e.filter((function(e){return!w.a.get(e,"__MAPPED__",[]).find((function(e){return t.$jskos.compare(e.registry,n)&&t.$jskos.compare(e.scheme,i)}))}));var o=e.map((function(e){return e.uri}));i&&o.length&&Promise.all(w.a.chunk(o,15).map((function(e){return t.getMappings({from:e.join("|"),toScheme:i.uri,direction:"both",registry:n.uri,limit:500})}))).then((function(){var o,r=ae(e.filter((function(e){return!w.a.get(e,"__MAPPED__",[]).find((function(e){return t.$jskos.compare(e.registry,n)&&t.$jskos.compare(e.scheme,i)}))})));try{for(r.s();!(o=r.n()).done;){var s=o.value;t.$set(s,"__MAPPED__",[]),s.__MAPPED__.push({registry:n,scheme:i,exist:[]})}}catch(a){r.e(a)}finally{r.f()}}))}}}};function ue(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=he(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function he(e,t){if(e){if("string"===typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var me={name:"ConceptList",components:{LoadingIndicatorFull:Y["a"],ConceptListItem:re},mixins:[$["a"],I["a"],pe],props:{isLeft:{type:Boolean,default:!0},concepts:{type:Array,default:function(){return[null]}},showChildren:{type:Boolean,default:!1},noItemsLabel:{type:String,default:null},showScheme:{type:Boolean,default:!1},buttons:{type:Array,default:function(){return[]}},shown:{type:Boolean,default:!1}},data:function(){return{loading:!1,currentSelectedConcept:null,shouldScroll:!0,scrollTo:Object(se["a"])(),oldPreviousConcept:null,oldNextConcept:null}},computed:{schemeSelected:function(){return this.selected.scheme[this.isLeft]},conceptSelected:function(){return this.selected.concept[this.isLeft]},items:function(){var e,t=[],n=ue(this.concepts);try{for(n.s();!(e=n.n()).done;){var i=e.value,o={concept:i,depth:0,isSelected:this.$jskos.compare(this.conceptSelected,i)};if(t.push(o),this.showChildren){var r=this.children(o);t=t.concat(r)}}}catch(s){n.e(s)}finally{n.f()}return t},noItems:function(){return 0==this.items.length&&!this.loading},itemsLength:function(){return this.items.length},otherScheme:function(){return this.selected.scheme[!this.isLeft]},loadConceptsMappedStatusConceptsToLoad:function(){return this.items.filter((function(e){return e.concept})).map((function(e){return e.concept}))},previousConcept:function(){var e=this,t=this.items.findIndex((function(t){return e.$jskos.compare(t.concept,e.conceptSelected)}));if(-1==t)return null;if(!this.showChildren){var n=this.items[t-1];return n&&n.concept}return null},nextConcept:function(){var e=this,t=this.items.findIndex((function(t){return e.$jskos.compare(t.concept,e.conceptSelected)}));if(-1==t)return null;if(!this.showChildren){var n=this.items[t+1];return n&&n.concept}var i=function t(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n)return null;if(i&&n.narrower&&n.narrower.length)return n.narrower[0];var o=w.a.last(n.ancestors)||w.a.first(n.broader),r=w.a.get(o,"narrower");if(o||(r=e.items.filter((function(e){return 0==e.depth})).map((function(e){return e.concept}))),!r)return null;var s=r[r.findIndex((function(t){return e.$jskos.compare(t,n)}))+1];return s||(o?t(o,!1):null)};return i(this.selected.concept[this.isLeft])}},watch:{conceptSelected:{handler:function(){var e=this,t=this.conceptSelected;if(t!=this.currentSelectedConcept&&(this.currentSelectedConcept=t,this.shouldScroll=!0),this.$jskos.isConcept(t))if(!this.showChildren||t.ancestors&&!t.ancestors.includes(null)){var n,i=!0,o=ue(t.ancestors||[]);try{for(o.s();!(n=o.n()).done;){var r=n.value;!this.showChildren||r.narrower&&!r.narrower.includes(null)||(i=!1)}}catch(l){o.e(l)}finally{o.f()}if(i&&this.shouldScroll){if(this.shouldScroll=!1,this.showChildren){var s,a=ue(this.conceptSelected.ancestors||[]);try{for(a.s();!(s=a.n()).done;){var c=s.value;this.open(c,this.isLeft,!0)}}catch(l){a.e(l)}finally{a.f()}}w.a.delay((function(){if(!e.shouldScroll){var n=e.$refs.conceptListItems.querySelectorAll("[data-uri='".concat(t.uri,"']"))[0],i=e.$refs.conceptListItems;while(null!=i&&!i.classList.contains("cocoda-vue-tabs-content"))i=i.parentElement;var o={container:i,easing:"ease-in",offset:-50,cancelable:!0,x:!1,y:!0};n&&e.scrollToInternal(n,o),e.loading=!1}}),100)}else i||(this.loading=!0)}else this.loading=!0},deep:!0},itemsLength:function(){this.loadMappingsForItems()},shown:function(){this.commitPreviousConcept(),this.commitNextConcept()},previousConcept:function(){this.$jskos.compare(this.previousConcept,this.oldPreviousConcept)||(this.commitPreviousConcept(),this.oldPreviousConcept=this.previousConcept)},nextConcept:function(){this.$jskos.compare(this.nextConcept,this.oldNextConcept)||(this.commitNextConcept(),this.oldNextConcept=this.nextConcept)}},methods:{commitPreviousConcept:function(){this.shown&&this.$store.commit({type:"selected/setPreviousConcept",isLeft:this.isLeft,concept:this.previousConcept})},commitNextConcept:function(){this.shown&&this.$store.commit({type:"selected/setNextConcept",isLeft:this.isLeft,concept:this.nextConcept})},scrollToInternal:function(e,t){var n=t.container;"none"==n.style.display?this.scrollLater={el:e,options:t}:(this.scrollTo(e,200,t),this.scrollLater=null)},scroll:function(){var e=this;this.scrollLater&&this.$nextTick((function(){e.scrollToInternal(e.scrollLater.el,e.scrollLater.options)}))},children:function(e){var t=[],n=e.concept,i=e.depth+1;if(n&&n.__ISOPEN__&&n.__ISOPEN__[this.isLeft]){var o,r=ue(n.narrower);try{for(r.s();!(o=r.n()).done;){var s=o.value,a={concept:s,depth:i,isSelected:this.$jskos.compare(this.conceptSelected,s)};t.push(a),t=t.concat(this.children(a))}}catch(c){r.e(c)}finally{r.f()}}return t},loadMappingsForItems:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad,this.isLeft)}}},fe=me,ge=(n("f696"),Object(g["a"])(fe,J,X,!1,null,"ba49e394",null)),ve=ge.exports,ye=n("d8c4"),be=n("193e");function we(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){we(r,i,o,s,a,"next",e)}function a(e){we(r,i,o,s,a,"throw",e)}s(void 0)}))}}function Ce(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ke(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function ke(e,t){if(e){if("string"===typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _e={name:"ConceptListWrapper",components:{Minimizer:Q,ConceptList:ve,ComponentSettings:S["a"],DataModalButton:ye["a"],LoadingIndicatorFull:Y["a"]},mixins:[I["a"],$["a"],_["a"],be["a"]],props:{isLeft:{type:Boolean,default:!0}},data:function(){return{listSelectionPopoverShow:!1,loading:0}},computed:{dataChoices:function(){var e=this,t=w.a.get(this.selected.scheme[this.isLeft],"_registry.top");t&&(t+="?uri=".concat(encodeURIComponent(this.selected.scheme[this.isLeft].uri)));var n,i=[{id:"topConcepts",label:this.$t("conceptList.topConceptsShort"),tooltip:this.$t("conceptList.topConcepts"),noItemsLabel:this.$t("schemeDetail.noTopConcepts"),concepts:this._topConcepts,showChildren:!0,showScheme:!1,url:t,available:this._topConcepts.length>0,icon:"sitemap"},{id:"favoriteConcepts",label:this.$t("conceptList.favoriteConceptsShort"),tooltip:this.$t("conceptList.favoriteConcepts"),concepts:this.favoriteConcepts,showChildren:!1,showScheme:!0,available:!0,buttons:[{position:"before",icon:"times-circle",tooltip:this.$t("schemeSelection.starRemove"),onClick:function(t,n){e.$store.dispatch("removeConceptFromFavorites",n)}}],droppedConcept:function(t){e.$store.dispatch("addConceptToFavorites",t)},icon:"star"}],o=0,r=Ce(this.config.conceptLists||[]);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(!s.schemes||s.schemes.find((function(t){return e.$jskos.compare(t,e.selected.scheme[e.isLeft])}))){var a=this.$jskos.notation(s),c=this.$jskos.prefLabel(s),l="";a&&(c&&(l="<b>".concat(c,"</b><br>")),c=a),l+=this.$jskos.languageMapContent(s,"scopeNote")||"";var p={id:"custom-".concat(o),label:c,tooltip:l,concepts:s.concepts.map((function(t){return e.saveObject(t,{type:"concept"})})),showChildren:!1,showScheme:!0,url:s.url||s.conceptsUrl,available:s.concepts.length>0,icon:"list"};p.reloadButton=null!=p.url,i.push(p),o+=1}else o+=1}}catch(u){r.e(u)}finally{r.f()}return i},_topConcepts:function(){var e=w.a.get(this.selected.scheme[this.isLeft],"uri",null);return w.a.get(this.topConcepts,e)||[]},concepts:function(){return this.currentChoice.concepts},currentChoice:{get:function(){var e=this.$settings.conceptListChoice[this.isLeft];return this.dataChoices.find((function(t){return t.id===e&&t.available}))||this.dataChoices.find((function(e){return e.available}))},set:function(e){this.$store.commit({type:"settings/set",prop:"conceptListChoice[".concat(this.isLeft,"]"),value:e.id})}},currentChoiceIndex:{get:function(){var e=this;return this.dataChoices.findIndex((function(t){return t===e.currentChoice}))},set:function(e){this.currentChoice=this.dataChoices[e]}}},created:function(){this.loadConceptsInView=w.a.debounce(this._loadConceptsInView,300)},methods:{chooseIndex:function(e){this.currentChoiceIndex=e,this.listSelectionPopoverShow=!1},tabChanged:function(e){var t=e.index,n=w.a.get(this,"$refs.conceptList[".concat(t,"]"));n&&n.scroll&&n.scroll(),this.loadConceptsInView()},droppedConcept:function(e,t){t&&t(e)},_loadConceptsInView:function(){var e=[],t=w.a.get(this,"$refs.conceptList[".concat(this.currentChoiceIndex,"]")),n=w.a.get(t,"$parent.$el");if(t&&t.$children&&n){var i,o=Ce(t.$children);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r&&r.$el){var s=r.$el;this.checkInView(n,s)&&e.push(r.concept)}}}catch(a){o.e(a)}finally{o.f()}}this.loadConcepts(e)},checkInView:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.scrollTop,o=i+e.clientHeight,r=t.offsetTop,s=r+t.clientHeight,a=r>=i&&s<=o,c=n&&(r<i&&s>i||s>o&&r<o);return a||c},minimizeConcepts:function(e){var t,n=[],i=Ce(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o){var r={uri:o.uri,notation:o.notation};o.inScheme&&o.inScheme[0]&&o.inScheme[0].uri&&(r.inScheme=[{uri:o.inScheme[0].uri}]),n.push(r)}}}catch(s){i.e(s)}finally{i.f()}return n},hoverHandlers:function(){var e=this;return[{elements:[document.getElementById("conceptListWrapper-listSelectionButton-".concat(this.isLeft)),document.getElementById("conceptListWrapper-listSelectionPopover-".concat(this.isLeft))],delta:5,handler:function(t){e.listSelectionPopoverShow=t}}]},reloadList:function(){var e=this;return Se(a.a.mark((function t(){var n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading+=1,t.next=3,e.$store.dispatch("loadConceptLists");case 3:n=t.sent,e.$store.commit({type:"setConfig",option:"conceptLists",value:n}),e.loading-=1;case 6:case"end":return t.stop()}}),t)})))()}}},Le=_e,xe=(n("c66b"),Object(g["a"])(Le,N,B,!1,null,null,null)),je=xe.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"itemDetail",on:{dragover:e.dragOver,drop:e.drop}},[n("minimizer",{attrs:{name:"itemDetail_"+e.isLeft,text:e.type+" Detail"}}),null!=e.item?n("div",{staticClass:"itemDetail-content"},[n("Concept"==e.type?"ConceptDetail":"SchemeDetail",{tag:"component",attrs:{item:e.item,"is-left":e.isLeft,settings:e.internalSettings},on:{searchMappings:function(t){return e.$emit("searchMappings",t)},searchConcept:function(t){return e.$emit("searchConcept",t)}}})],1):e.loading?e._e():n("div",{staticClass:"fillAndCenter fontSize-normal fontWeight-heavy"},[e._v(" "+e._s(e.$t("itemDetail.pleaseSelect"))+" ")]),n("component-settings"),n("data-modal-button",{attrs:{data:e.item,"position-right":20,url:e.apiUrl}}),e.loading?n("loading-indicator-full"):e._e()],1)},Ie=[],Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!=e.item?n("div",{staticClass:"conceptDetail"},[n("div",{staticClass:"conceptDetail-ancestors"},[e.ancestors.length>3&&!e.settings.showAllAncestors?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.showAncestors?e.$t("conceptDetail.showLessAncestors"):e.$t("conceptDetail.showAllAncestors"),delay:e.defaults.delay.medium},expression:"{ title: showAncestors ? $t('conceptDetail.showLessAncestors') : $t('conceptDetail.showAllAncestors'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button conceptDetail-ancestors-expand",on:{click:function(t){e.showAncestors=!e.showAncestors}}},[n("font-awesome-icon",{attrs:{icon:e.showAncestors?"angle-down":"angle-right"}})],1):e._e(),e._l(e.ancestors.filter((function(e){return null!=e})),(function(t,i){return n("div",{key:"conceptDetail-"+e.isLeft+"-ancesters-"+t.uri+"-"+i,class:{"concept-mappingsExist":(e.showAncestors||e.settings.showAllAncestors||0==i||i==e.ancestors.length-1||e.ancestors.length<=3)&&e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(t,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(t,e.isLeft)}},[e.showAncestors||e.settings.showAllAncestors||0==i||i==e.ancestors.length-1||e.ancestors.length<=3?n("span",[n("font-awesome-icon",{staticClass:"u-flip-horizontal",attrs:{icon:"level-up-alt"}}),n("item-name",{attrs:{item:t,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}})],1):1==i?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.showAllAncestors"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.showAllAncestors'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-ancestors-more button",on:{click:function(t){e.showAncestors=!0}}},[n("font-awesome-icon",{staticClass:"u-flip-horizontal",attrs:{icon:"ellipsis-v"}})],1):e._e()])})),e._l((0==e.ancestors.length&&e.item.__BROADERLOADED__?e.broader:[]).filter((function(e){return null!=e})),(function(t,i){return n("div",{key:"conceptDetail-"+e.isLeft+"-broader-"+t.uri+"-"+i,class:{"concept-mappingsExist":e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(t,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(t,e.isLeft)}},[n("font-awesome-icon",{attrs:{icon:"sort-up"}}),n("item-name",{attrs:{item:t,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}})],1)})),0!=e.ancestors.length&&e.ancestors.includes(null)||0==e.ancestors.length&&0!=e.broader.length&&!e.item.__BROADERLOADED__?n("loading-indicator",{attrs:{size:"sm"}}):e._e()],2),n("div",{staticClass:"conceptDetail-name",class:{"concept-mappingsExist":e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(e.item,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(e.item,e.isLeft)}},[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.clearConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.clearConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button conceptDetail-name-clearButton",on:{click:function(t){e.$router.push({path:e.getRouterUrl(e.selected.scheme[e.isLeft],e.isLeft)})}}},[n("font-awesome-icon",{attrs:{icon:"times-circle"}})],1),n("item-name",{attrs:{item:e.item,"is-highlighted":!0,"font-size":"normal"}}),n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.isContainedIn(e.item,e.favoriteConcepts)?e.$t("schemeSelection.starRemove"):e.$t("schemeSelection.starAdd"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.isContainedIn(item, favoriteConcepts) ? $t('schemeSelection.starRemove') : $t('schemeSelection.starAdd'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"pointer fontSize-verySmall",class:e.$jskos.isContainedIn(e.item,e.favoriteConcepts)?"starFavorite":"starNormal",attrs:{icon:"star"},on:{click:function(t){e.$jskos.isContainedIn(e.item,e.favoriteConcepts)?e.$store.dispatch("removeConceptFromFavorites",e.item):e.$store.dispatch("addConceptToFavorites",e.item)}}}),e.showAddToMappingButton?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.addToMapping"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.addToMapping'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-name-addButton",class:{button:e.showAddToMappingButton},on:{click:function(t){e.addToMapping({concept:e.item,scheme:e.item.inScheme&&e.item.inScheme[0]||e.selected.scheme[e.isLeft],isLeft:e.isLeft})}}},[n("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1):e._e()],1),n("tabs",{ref:"tabs",staticStyle:{"margin-top":"3px",position:"relative"},attrs:{borders:"bottom",size:"sm"}},[e.previousConcept?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.previousConceptTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.previousConceptTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-previousButton"},[n("router-link",{attrs:{to:e.getRouterUrl(e.previousConcept,e.isLeft,!0)}},[n("b-button",{attrs:{variant:"light"}},[n("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1)],1)],1):e._e(),e.nextConcept?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.nextConceptTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.nextConceptTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-nextButton"},[n("router-link",{attrs:{to:e.getRouterUrl(e.nextConcept,e.isLeft,!0)}},[n("b-button",{attrs:{variant:"light"}},[n("font-awesome-icon",{attrs:{icon:"arrow-right"}})],1)],1)],1):e._e(),n("tab",{attrs:{title:e.$t("conceptDetail.info")}},[e._l([e.item.uri].concat(e.item.identifier).filter((function(e){return null!=e})),(function(t,i){return n("div",{key:"conceptDetail-"+e.isLeft+"-identifier-"+i,class:(t.startsWith("http"),"conceptDetail-identifier")},[n("font-awesome-icon",{attrs:{icon:t.startsWith("http")?"link":"id-card"},on:{dblclick:function(t){e.copyToClipboard(e.elementForEvent(t))}}}),n("auto-link",{attrs:{link:t}})],1)})),e._l(e.types,(function(t){return n("div",{key:"conceptDetail-"+e.isLeft+"-type-"+t.uri,staticClass:"conceptDetail-identifier"},[n("b",[e._v(e._s(e.$t("general.type"))+":")]),e._v(" "+e._s(e.$jskos.prefLabel(t))+" ")])})),e.item.creator&&e.item.creator.length?n("div",{staticClass:"conceptDetail-identifier"},[n("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(e.$jskos.prefLabel(e.item.creator[0]))+" ")],1):e._e(),e.item.created?n("div",{staticClass:"conceptDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.created"))+":")]),e._v(" "+e._s(e.dateToString(e.item.created,!0))+" ")]):e._e(),e.item.issued?n("div",{staticClass:"conceptDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.issued"))+":")]),e._v(" "+e._s(e.dateToString(e.item.issued,!0))+" ")]):e._e(),e.item.modified?n("div",{staticClass:"conceptDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.modified"))+":")]),e._v(" "+e._s(e.dateToString(e.item.modified,!0))+" ")]):e._e(),e.item.definition?e._l([e.$jskos.languagePreference.selectLanguage(e.item.definition)].concat(Object.keys(e.item.definition).filter((function(t){return t!=e.$jskos.languagePreference.selectLanguage(e.item.definition)&&"-"!=t}))),(function(t){return n("div",{key:"conceptDetail-"+e.isLeft+"-defintion-"+t,staticClass:"conceptDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.definition"))+" ("+e._s(t)+"):")]),e._v(" "+e._s(e.$jskos.definition(e.item,{language:t}).join(", "))+" ")])})):e._e()],2),n("tab",{attrs:{title:e.$t("conceptDetail.labels")}},[e._l([e.$jskos.languagePreference.selectLanguage(e.item.prefLabel)].concat(Object.keys(e.item.prefLabel||{}).filter((function(t){return t!=e.$jskos.languagePreference.selectLanguage(e.item.prefLabel)}))).filter((function(e){return e&&"-"!=e})),(function(t){return n("div",{key:"conceptDetail-"+e.isLeft+"-prefLabel-"+t,staticClass:"conceptDetail-identifier"},[n("span",{staticClass:"fontWeight-medium",on:{click:function(n){e.copyAndSearch(e.$jskos.prefLabel(e.item,{language:t}))}}},[e._v(" "+e._s(e.$jskos.prefLabel(e.item,{language:t}))+" ")]),n("span",{staticClass:"text-lightGrey"},[e._v("("+e._s(t)+")")])])})),e.$jskos.languageMapContent(e.item,"altLabel")?n("div",{staticClass:"fontWeight-heavy",staticStyle:{"margin-top":"10px"}},[e._v(" "+e._s(e.$t("conceptDetail.altLabels"))+": ")]):e._e(),e._l(Object.keys(e.item.altLabel||{}).map((function(t){return e.item.altLabel[t].map((function(e){return{language:t,label:e}}))})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return"-"!=e.language})).sort((function(t,n){return t.language==e.$jskos.languagePreference.selectLanguage(e.item.altLabel)?-1:n.language==e.$jskos.languagePreference.selectLanguage(e.item.altLabel)?1:0})),(function(t,i){var o=t.language,r=t.label;return n("div",{key:"conceptDetail-"+e.isLeft+"-altLabel-"+o+"-"+i,staticClass:"conceptDetail-identifier"},[n("span",{on:{click:function(t){return e.copyAndSearch(r)}}},[e._v(" "+e._s(r)+" ")]),n("span",{staticClass:"text-lightGrey"},[e._v("("+e._s(o)+")")])])}))],2),e._l([[{de:e.gndTerms},e.$t("conceptDetail.gnd")],[e.item.scopeNote,e.$t("conceptDetail.scope")],[e.item.editorialNote,e.$t("conceptDetail.editorial")]].filter((function(e){return Object.values(e[0]||{}).reduce((function(e,t){return e+t.length}),0)>0})),(function(t,i){var o=t[0],r=t[1];return[n("tab",{key:"conceptDetail-"+e.isLeft+"-notes-"+i,staticClass:"conceptDetail-notes",attrs:{title:r,hidden:""==o}},e._l(Object.keys(o||{}).map((function(e){return o[e].map((function(t){return{language:e,note:t}}))})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return"-"!=e.language})).sort((function(t,n){return t.language==e.$jskos.languagePreference.selectLanguage(o)?-1:n.language==e.$jskos.languagePreference.selectLanguage(o)?1:0})),(function(t,i){var o=t.language,r=t.note;return n("div",{key:"conceptDetail-"+e.isLeft+"-notes-"+o+"-"+i,staticClass:"conceptDetail-note"},[n("span",{domProps:{innerHTML:e._s(r)}}),n("span",{staticClass:"text-lightGrey"},[e._v(" ("+e._s(o)+")")])])})),0)]})),e.item.memberList&&e.item.memberList.length?n("tab",{attrs:{title:"coli-ana"}},[n("ul",{staticClass:"coli-ana"},[n("li",[n("div"),n("div",[e._v(e._s(e.$jskos.notation(e.item)))]),n("div")]),e._l(e.item.memberList.filter((function(e){return null!=e})),(function(t,i){return n("li",{key:t.uri+"-"+i,class:{"font-weight-bold":e.item.memberList[i-1]&&e.isMemberParentOf(e.item.memberList[i-1],t)&&!e.isMemberParentOf(t,e.item.memberList[i+1])}},[n("div",[e.isMemberParentOf(e.item.memberList[i-1],t)?n("span",[e._v(" ↳ ")]):e._e()]),n("div",[e._v(e._s(t.notation[1]))]),n("div",[n("item-name",{attrs:{item:e.getObject(t)||t,"show-notation":!1,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}}),t.uri.includes("facet")?e._e():n("span",[e._v(" ("),n("item-name",{attrs:{item:t,"show-text":!1,"is-link":!1,"font-size":"small"}}),e._v(") ")],1)],1)])}))],2),null===e.item.memberList[e.item.memberList.length-1]?n("p",{domProps:{innerHTML:e._s(e.$t("conceptDetail.coliAnaIncomplete"))}}):e._e(),n("p",{domProps:{innerHTML:e._s(e.$t("conceptDetail.coliAnaInfo",{url:e.config["coli-ana"]+"?notation="+e.$jskos.notation(e.item)}))}})]):e._e(),e.config.searchLinks?n("tab",{key:"conceptDetail-"+e.isLeft+"-searchLinks",attrs:{title:e.$t("conceptDetail.searchLinks")}},[n("ul",{staticStyle:{"margin-bottom":"0"}},e._l(e.searchLinks,(function(t,i){return n("li",{key:"searchLink-"+e.isLeft+"-"+i},[n("a",{attrs:{href:t.url,target:"_blank"}},[e._v(" "+e._s(t.label)+" ")])])})),0)]):e._e()],2),n("item-detail-narrower",{attrs:{narrower:e.item.narrower,"is-left":e.isLeft}})],1):e._e()},Te=[],Ae=n("1757"),De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.narrower&&e.narrower.length>0?n("div",{staticClass:"itemDetailNarrower"},[null!=e.text?n("div",{staticClass:"fontWeight-heavy"},[e._v(" "+e._s(e.text)+" ")]):e._e(),e._l(e.narrower.filter((function(e){return null!=e})),(function(t){return n("div",{key:t.uri,staticClass:"itemDetailNarrower-item",class:{"concept-mappingsExist":e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(t,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(t,e.isLeft)}},[n("font-awesome-icon",{staticClass:"u-flip-horizontal",attrs:{icon:"level-down-alt"}}),n("item-name",{attrs:{item:t,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}})],1)})),0!=e.narrower.length&&e.narrower.includes(null)?n("loading-indicator",{attrs:{size:"sm"}}):e._e()],2):e._e()},Fe=[],Ee={name:"ItemDetailNarrower",components:{ItemName:u["a"],LoadingIndicator:te["a"]},mixins:[pe],props:{narrower:{type:Array,default:function(){return new Array}},text:{type:String,default:null},isLeft:{type:Boolean,default:!0}},computed:{loadConceptsMappedStatusConceptsToLoad:function(){return this.narrower.filter((function(e){return e}))}}},ze=Ee,Pe=(n("c804"),Object(g["a"])(ze,De,Fe,!1,null,"69945c5f",null)),Ne=Pe.exports,Be=n("bc3a"),Re=n.n(Be);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){We(r,i,o,s,a,"next",e)}function a(e){We(r,i,o,s,a,"throw",e)}s(void 0)}))}}function Ge(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=qe(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function qe(e,t){if(e){if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Je={name:"ConceptDetail",components:{AutoLink:Ae["a"],ItemName:u["a"],LoadingIndicator:te["a"],ItemDetailNarrower:Ne},mixins:[$["a"],I["a"],M,pe],props:{item:{type:Object,default:null},isLeft:{type:Boolean,default:!0},settings:{type:Object,default:function(){return{}}}},data:function(){return{showAncestors:!1}},computed:{showAddToMappingButton:function(){return this.$store.getters["mapping/canAdd"](this.item,w.a.get(this.item,"inScheme[0]")||this.selected.scheme[this.isLeft],this.isLeft)},ancestors:function(){return w.a.get(this.item,"ancestors",[])||[]},broader:function(){return w.a.get(this.item,"broader",[])||[]},searchLinks:function(){var e,t=this,n=this.$i18n.locale,i=this.$jskos.notation(this.item),o=this.$jskos.prefLabel(this.item),r={language:n,notation:i,prefLabel:o},s=[],a=Ge(this.config.searchLinks);try{var c=function(){var n,i=e.value,o=t.selected.scheme[t.isLeft],a=i.schemeUris||[],c=!a.length,l=Ge(a);try{for(l.s();!(n=l.n()).done;){var p=n.value;t.$jskos.compare(o,{uri:p})&&(c=!0)}}catch(h){l.e(h)}finally{l.f()}if(!c)return"continue";var u=i.url;w.a.forOwn(r,(function(e,t){u=w.a.replace(u,new RegExp("{".concat(t,"}"),"g"),e)})),s.push({url:u,label:t.$jskos.prefLabel(i)})};for(a.s();!(e=a.n()).done;)c()}catch(l){a.e(l)}finally{a.f()}return s=s.filter((function(e,t,n){return t===n.findIndex((function(t){return t.url==e.url}))})),s},types:function(){var e=this;if(!this.item||(this.item.type||[]).length<=1)return[];var t,n=[],i=w.a.get(this.item,"inScheme[0].types",[]),o=Ge(this.item.type||[]);try{var r=function(){var o=t.value;if("http://www.w3.org/2004/02/skos/core#Concept"==o)return"continue";var r={uri:o};r=i.find((function(t){return e.$jskos.compare(t,r)}))||r,n.push(r)};for(o.s();!(t=o.n()).done;)r()}catch(s){o.e(s)}finally{o.f()}return n},gndTerms:function(){var e,t=this,n=this.getObject({uri:"http://bartoc.org/en/node/430"}),i=w.a.get(this.item,"__GNDMAPPINGS__",[]),o=[],r=Ge(i);try{for(r.s();!(e=r.n()).done;){var s,a=e.value,c=Ge(this.$jskos.conceptsOfMapping(a));try{var l=function(){var e=s.value;t.$jskos.compare(n,w.a.get(e,"inScheme[0]"))&&!o.find((function(n){return t.$jskos.compare(n.concept,e)}))&&o.push({concept:e,type:t.$jskos.mappingTypeByType(a.type)})};for(c.s();!(s=c.n()).done;)l()}catch(f){c.e(f)}finally{c.f()}}}catch(f){r.e(f)}finally{r.f()}for(var p=[],u=["conceptDetail.relevanceVeryHigh","conceptDetail.relevanceHigh","conceptDetail.relevanceMedium","conceptDetail.relevanceLow","conceptDetail.relevanceGeneric"],h=function(){var e,n=m[d],i="<strong>".concat(t.$t("conceptDetail.relevance"),": ").concat(t.$t(n),"</strong> - "),r=[],s=Ge(o.filter((function(e){return e.type.RELEVANCE==t.$t(n,"en")})));try{for(s.s();!(e=s.n()).done;){var a=e.value.concept;a&&t.$jskos.prefLabel(a,{fallbackToUri:!1})&&r.push(w.a.escape(t.$jskos.prefLabel(a)))}}catch(f){s.e(f)}finally{s.f()}r.length>0&&(i+=r.join(", "),p.push(i))},d=0,m=u;d<m.length;d++)h();return p},previousConcept:function(){return this.selected.previousConcept[this.isLeft]},nextConcept:function(){return this.selected.nextConcept[this.isLeft]},loadConceptsMappedStatusConceptsToLoad:function(){return this.item?[this.item].concat(this.item.ancestors||[],this.item.broader||[]).filter((function(e){return null!=e})):[]}},watch:{item:function(e,t){this.$jskos.compare(e,t)||this.refresh()},settings:function(e,t){w.a.isEqual(e,t)||this.refresh()}},mounted:function(){this.refresh(),this.enableShortcuts()},methods:{shortcutHandler:function(e){var t=e.action,n=e.isLeft;"nextConcept"==t&&n==this.isLeft&&this.nextConcept&&this.setSelected({concept:this.nextConcept,isLeft:n})},refresh:function(){this.showAncestors=!1,this.loadGndTerms(),this.loadConcepts([this.item],{force:!0}),this.loadColiAna()},loadGndTerms:function(){var e=this;return Ke(a.a.mark((function t(){var n,i,o,r,s,c,l,p,u,h,d,m;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.item){t.next=2;break}return t.abrupt("return");case 2:if(n=e.item,i=e.getObject({uri:"http://bartoc.org/en/node/430"}),!e.$jskos.compare(i,w.a.get(n,"inScheme[0]"))){t.next=6;break}return t.abrupt("return");case 6:return o=e.config.registries.filter((function(t){return t.has.mappings&&e.$jskos.mappingRegistryIsStored(t)})).map((function(t){return e.getMappings({registry:t,direction:"both",from:n,toScheme:i.uri}).catch((function(){return[]}))})),t.t0=w.a,t.next=10,Promise.all(o);case 10:t.t1=t.sent,r=t.t0.flatten.call(t.t0,t.t1),s=[],c=Ge(r);try{for(c.s();!(l=c.n()).done;){p=l.value,u=e.$jskos.conceptsOfMapping(p),h=Ge(u);try{for(h.s();!(d=h.n()).done;)m=d.value,e.$jskos.compare(i,w.a.get(m,"inScheme[0]"))&&s.push(m)}catch(a){h.e(a)}finally{h.f()}}}catch(a){c.e(a)}finally{c.f()}return s=w.a.uniqWith(s,e.$jskos.compare),t.next=18,e.loadConcepts(s);case 18:e.$set(n,"__GNDMAPPINGS__",r);case 19:case"end":return t.stop()}}),t)})))()},loadColiAna:function(){var e=this;return Ke(a.a.mark((function t(){var n,i,o,r,s;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.config["coli-ana"],n){t.next=3;break}return t.abrupt("return");case 3:if(i=e.item,i){t.next=6;break}return t.abrupt("return");case 6:if(!i.memberList){t.next=8;break}return t.abrupt("return");case 8:if(o=e.getObject({uri:"http://dewey.info/scheme/edition/e23/"}),e.$jskos.compare(o,w.a.get(i,"inScheme[0]"))){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,Re.a.get("".concat(n,"analyze"),{params:{notation:e.$jskos.notation(i)}});case 13:r=t.sent,s=(r.data||[]).find((function(t){return e.$jskos.compare(t,i)})),s&&(s.memberList.forEach((function(t){e.saveObject(t,{scheme:o,type:"concept"})})),e.$set(i,"memberList",s.memberList.map((function(t){return Ue(Ue({},t),{},{inScheme:[o],prefLabel:(e.getObject(t)||t).prefLabel})}))),e.loadConcepts(s.memberList),e.$nextTick((function(){var t=e.$refs.tabs,n=t.tabs.findIndex((function(e){return"coli-ana"===e.title}));-1===i.__DETAILSLOADED__&&-1!==n&&t.activateTab(n)})));case 16:case"end":return t.stop()}}),t)})))()},isMemberParentOf:function(e,t){return!!(e&&t&&t.broader&&t.broader.length)&&this.$jskos.compare(e,t.broader[0])},elementForEvent:function(e){var t=e.target;return"path"==t.tagName.toLowerCase()&&(t=t.parentElement),t=t.nextElementSibling,t},hasNotes:function(e){for(var t=["scopeNote","editorialNote","altLabel"],n=!1,i=0,o=t;i<o.length;i++){var r=o[i];n=n||this.$jskos.languageMapContent(e,r)&&this.$jskos.languageMapContent(e,r).length}return n},copyAndSearch:function(e){this.$emit("searchConcept",e)}}},Xe=Je,Ye=(n("ddf0"),n("6aea"),Object(g["a"])(Xe,Oe,Te,!1,null,"eca397e6",null)),Ze=Ye.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schemeDetail"},[n("item-name",{attrs:{item:e.item,"is-highlighted":!0,"font-size":"normal"}}),e.item.license||e.licenseAttribution(e.item)?n("div",{staticClass:"schemeDetail-license"},[e._l(e.item.license,(function(t,i){return n("span",{key:"schemeDetail-"+e.isLeft+"-license-"+i},[n("a",{attrs:{href:t.uri,target:"_blank"}},[e.defaults.licenseBadges[t.uri]?n("img",{staticClass:"schemeDetail-licenseBadge",attrs:{src:e.defaults.licenseBadges[t.uri]}}):n("span",[e._v(" "+e._s(t.uri)+" ")])])])})),e.licenseAttribution(e.item)?n("span",[e._v(" by "),e.licenseAttribution(e.item).url?n("a",{attrs:{href:e.licenseAttribution(e.item).url,target:"_blank"}},[n("auto-link",{attrs:{link:e.licenseAttribution(e.item).label}})],1):n("span",[n("auto-link",{attrs:{link:e.licenseAttribution(e.item).label}})],1)]):e._e()],2):e._e(),e._l([e.item.uri].concat(e.item.identifier).filter((function(e){return null!=e})),(function(t,i){return n("div",{key:"schemeDetail-"+e.isLeft+"-identifier-"+i,staticClass:"schemeDetail-identifier"},[n("font-awesome-icon",{attrs:{icon:t.startsWith("http")?"link":"id-card"}}),n("auto-link",{attrs:{link:t}})],1)})),e.item.created?n("div",{staticClass:"schemeDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.created"))+":")]),e._v(" "+e._s(e.dateToString(e.item.created,!0))+" ")]):e._e(),e.item.issued?n("div",{staticClass:"schemeDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.issued"))+":")]),e._v(" "+e._s(e.dateToString(e.item.issued,!0))+" ")]):e._e(),e.item.modified?n("div",{staticClass:"schemeDetail-identifier"},[n("b",[e._v(e._s(e.$t("conceptDetail.modified"))+":")]),e._v(" "+e._s(e.dateToString(e.item.modified,!0))+" ")]):e._e(),e.item.languages?n("div",{staticClass:"schemeDetail-identifier"},[n("b",[e._v(e._s(e.$t("schemeDetail.languages"))+":")]),e._v(" "+e._s(e.item.languages.join(", "))+" ")]):e._e(),e.item.type&&e.item.type.length>1?n("div",{staticClass:"schemeDetail-identifier"},[n("b",[e._v(e._s(e.$t("general.type"))+":")]),e._l(e.item.type.filter((function(e){return"http://www.w3.org/2004/02/skos/core#ConceptScheme"!=e})),(function(t,i){return n("span",{key:"schemeDetail-"+e.isLeft+"-type-"+i},[e._v(" "+e._s(e.$jskos.prefLabel(e.kosTypes.find((function(e){return e.uri==t})))||t)+" "),i!=e.item.type.length-2?n("span",[e._v(" / ")]):e._e()])}))],2):e._e(),n("div",{staticClass:"schemeDetail-identifier"},[n("b",[e._v(e._s(e.$t("schemeDetail.registry"))+": ")]),n("registry-notation",{attrs:{registry:e.item._registry,tooltip:!1}}),e._v("   "),n("registry-name",{attrs:{registry:e.item._registry,tooltip:!1}})],1),e.$jskos.notation(e.item)?n("div",{staticClass:"schemeDetail-identifier"},[n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.$emit("searchMappings",{fromScheme:e.isLeft?e.$jskos.notation(e.item):null,fromNotation:e.isLeft?"":null,toScheme:e.isLeft?null:e.$jskos.notation(e.item),toNotation:e.isLeft?null:"",direction:"both"})}}},[n("font-awesome-icon",{attrs:{icon:"external-link-square-alt"}}),e._v(e._s(e.$t("schemeDetail.availableMappings"))+" ")],1)]):e._e(),e.settings.showTopConceptsInScheme&&e.topConcepts[e.item.uri]&&e.topConcepts[e.item.uri].length>0?n("item-detail-narrower",{attrs:{narrower:e.topConcepts[e.item.uri],"is-left":e.isLeft,text:"Top Concepts:"}}):e.settings.showTopConceptsInScheme?n("div",[e._v(" "+e._s(e.$t("schemeDetail.noTopConcepts"))+" ")]):e._e()],2)},tt=[],nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html.right",value:e.tooltip?e.tooltipHtml:"",expression:"tooltip ? tooltipHtml : ''",modifiers:{html:!0,right:!0}}],domProps:{innerHTML:e._s(e.registryName)}})},it=[],ot={name:"RegistryName",props:{registry:{type:Object,default:null},tooltip:{type:Boolean,default:!0}},computed:{registryName:function(){var e=this.$jskos.prefLabel(this.registry),t=this.$jskos.notation(this.registry);return e?e.replace(t,(function(){return"<b>"+t+"</b>"})):(t=0,t||"?")},tooltipHtml:function(){return this.$jskos.definition(this.registry).join("<br>")}}},rt=ot,st=Object(g["a"])(rt,nt,it,!1,null,null,null),at=st.exports,ct=n("d465"),lt=n("47f0"),pt={name:"SchemeDetail",components:{AutoLink:Ae["a"],ItemName:u["a"],ItemDetailNarrower:Ne,RegistryName:at,RegistryNotation:ct["a"]},mixins:[$["a"]],props:{item:{type:Object,default:null},isLeft:{type:Boolean,default:!0},settings:{type:Object,default:function(){return{}}}},data:function(){return{kosTypes:lt}},methods:{licenseAttribution:function(e){var t=e.publisher||e.creator;return t&&0!=t.length?{url:t[0].url||t[0].uri,label:this.$jskos.prefLabel(t[0])}:null}}},ut=pt,ht=(n("3710"),Object(g["a"])(ut,et,tt,!1,null,"3f01b351",null)),dt=ht.exports,mt={name:"ItemDetail",components:{LoadingIndicatorFull:Y["a"],Minimizer:Q,ConceptDetail:Ze,SchemeDetail:dt,DataModalButton:ye["a"],ComponentSettings:S["a"]},mixins:[$["a"],_["a"],I["a"]],props:{item:{type:Object,default:null},isScheme:{type:Boolean,default:!1},isLeft:{type:Boolean,default:!0},settings:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,defaultSettings:{showGndTerms:!0,showSchemeInAncestors:!0,showTopConceptsInScheme:!1,showAllAncestors:!1,showAllNotes:!1}}},computed:{type:function(){return this.$jskos.isConcept(this.item)?"Concept":"Scheme"},internalSettings:function(){return Object.assign({},this.defaultSettings,{showAllAncestors:this.componentSettings.showAllAncestors},this.settings)},apiUrl:function(){if(!this.item||!this.item.uri)return null;var e;if(this.$jskos.isScheme(this.item)){var t=w.a.get(this.item,"inScheme[0]._registry")||w.a.get(this.item,"_registry");e=w.a.get(t,"_api.schemes")||w.a.get(t,"_api.data")||w.a.get(t,"_api.concepts")}else{var n=w.a.get(this.item,"inScheme[0]._registry");e=w.a.get(n,"_api.data")||w.a.get(n,"_getDataUrl")&&n._getDataUrl(this.item)||w.a.get(n,"_api.concepts")}return e&&w.a.isString(e)?"".concat(e).concat(e.includes("?")?"&":"?","uri=").concat(encodeURIComponent(this.item.uri)):null}},watch:{item:function(){this.$el.scrollTop=0}},mounted:function(){this.$el.scrollTop=0},methods:{droppedConcept:function(e){this.$router.push({path:this.getRouterUrl(e,this.isLeft,!0)})}}},ft=mt,gt=(n("291e"),Object(g["a"])(ft,Me,Ie,!1,null,"0a3e1a4f",null)),vt=gt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.resizingSlider"),delay:e.defaults.delay.medium,placement:e.isColumn?"right":"top"},expression:"{ title: $t('general.resizingSlider'), delay: defaults.delay.medium, placement: isColumn ? 'right' : 'top' }",modifiers:{hover:!0}}],class:{resizingSliderCol:e.isColumn,resizingSliderRow:!e.isColumn},on:{mousedown:e.startResizing}},[n("div",[n("font-awesome-icon",{attrs:{icon:e.isColumn?"ellipsis-v":"ellipsis-h"}})],1)])},bt=[];function wt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=kt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function St(e,t){return Lt(e)||_t(e,t)||kt(e,t)||Ct()}function Ct(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kt(e,t){if(e){if("string"===typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _t(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){o=!0,r=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(o)throw r}}return n}}function Lt(e){if(Array.isArray(e))return e}var xt={name:"ResizingSlider",mixins:[I["a"]],props:{isColumn:{type:Boolean,default:!1}},data:function(){return{resizing:!1,savedValues:{}}},computed:{flex:function(){return this.$settings.flex||{}}},watch:{flex:function(){this.refreshFlex()}},mounted:function(){this.refreshFlex()},methods:{getSiblings:function(){var e,t,n=this.$el,i=n.parentElement,o=window.getComputedStyle(n),r=o.getPropertyValue("order");try{r=parseInt(r)}catch(s){r=0}r>0?(e=i.querySelector(".order"+(r-1)),t=i.querySelector(".order"+(r+1))):(e=n.previousElementSibling,t=n.nextElementSibling);while(e&&(e.classList.contains("resizingSliderRow")||e.classList.contains("resizingSliderColumn")))e=e.previousElementSibling;while(t&&(t.classList.contains("resizingSliderRow")||t.classList.contains("resizingSliderColumn")))t=t.nextElementSibling;return[e,t]},startResizing:function(e){var t=this.getSiblings(),n=St(t,2),i=n[0],o=n[1];if(null!=i&&null!=o){var r=i.clientWidth,s=o.clientWidth,a=i.clientHeight,c=o.clientHeight,l=r+s,p=a+c,u=window.getComputedStyle(i),h=window.getComputedStyle(o),d=parseFloat(u.getPropertyValue("flex-grow"))+parseFloat(h.getPropertyValue("flex-grow")),m=parseInt(u.getPropertyValue("min-width")),f=parseInt(h.getPropertyValue("min-width")),g=parseInt(u.getPropertyValue("min-height")),v=parseInt(h.getPropertyValue("min-height")),y=parseInt(w.a.get(i,"dataset.minimized"))||0,b=parseInt(w.a.get(o,"dataset.minimized"))||0;if(y+b!=2){y+b==0&&(this.savedValues.previousWidth=r,this.savedValues.nextWidth=s,this.savedValues.previousHeight=a,this.savedValues.nextHeight=c);var S=this;if(this.resizing)k();else{this.resizing=!0;var C=S.isColumn?e.clientX:e.clientY;document.body.style.cursor=S.isColumn?"col-resize":"row-resize",document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.addEventListener("mousemove",$),document.onmouseup=k}}}function k(){document.removeEventListener("mousemove",$),document.onmouseup=null,document.body.style.cursor="auto",document.body.style.userSelect="auto",document.body.style.webkitUserSelect="auto",S.resizing=!1}function $(e){var t=(S.isColumn?e.clientX:e.clientY)-C;if(S.isColumn){var n=r+t,u=s-t;if(n<m||u<f||y+b==1){if(n<=10||u<=10||n>=3*m&&1==y||u>=3*f&&1==b){var h=n<=10||1==y?i:o,w=h.getElementsByClassName("minimizer")[0];if(w.parentElement!=h&&w.parentElement.parentElement!=h)return;var $=w.__vue__;$&&(i.style.flex=S.savedValues.previousWidth/l*d,S.saveFlex(i),o.style.flex=S.savedValues.nextWidth/l*d,S.saveFlex(o),$.toggleMinimize(),k())}return}i.style.flex=n/l*d,S.saveFlex(i),o.style.flex=u/l*d,S.saveFlex(o)}else{var _=a+t,L=c-t;if(_<g||L<v||y+b==1){if(_<=10||L<=10||_>=3*g&&1==y||L>=3*v&&1==b){var x=_<=10||1==y?i:o,j=x.getElementsByClassName("minimizer")[0];if(j.parentElement!=x&&j.parentElement.parentElement!=x)return;var M=j.__vue__;M&&(i.style.flex=S.savedValues.previousHeight/p*d,S.saveFlex(i),o.style.flex=S.savedValues.nextHeight/p*d,S.saveFlex(o),M.toggleMinimize(),k())}return}i.style.flex=_/p*d,S.saveFlex(i),o.style.flex=L/p*d,S.saveFlex(o)}}},saveFlex:function(e){if(e&&e.id&&e.style){var t=w.a.cloneDeep(this.$settings.flex);t[e.id]=e.style.flex,this.$store.commit({type:"settings/set",prop:"flex",value:t})}},refreshFlex:function(){var e,t=this.getSiblings(),n=wt(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;i&&i.id&&(null!=this.flex[i.id]&&(i.style.flex=this.flex[i.id]))}}catch(o){n.e(o)}finally{n.f()}}}},jt=xt,Mt=(n("c3e3"),Object(g["a"])(jt,yt,bt,!1,null,"602104a4",null)),It=Mt.exports,Ot=n("622d"),Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conceptSchemeSelection",staticStyle:{overflow:"visible"},attrs:{id:"conceptSchemeSelection-"+e.id}},[n("component-settings"),e.scheme?n("div",{staticClass:"conceptSchemeSelection-collapsed"},[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.popoverShown?e.$t("schemeSelection.popoverHide"):e.$t("schemeSelection.popoverShow"),delay:e.defaults.delay.medium},expression:"{ title: popoverShown ? $t('schemeSelection.popoverHide') : $t('schemeSelection.popoverShow'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptSchemeSelection-expandButton button",attrs:{id:e.id+"-expandButton"},on:{click:e.togglePopover}},[n("font-awesome-icon",{attrs:{icon:e.popoverShown?"angle-left":"angle-down"}})],1),n("div",{staticClass:"conceptSchemeSelection-schemeName"},[n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.isContainedIn(e.scheme,e.favoriteSchemes)?e.$t("schemeSelection.starRemove"):e.$t("schemeSelection.starAdd"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.isContainedIn(scheme, favoriteSchemes) ? $t('schemeSelection.starRemove') : $t('schemeSelection.starAdd'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"pointer",class:e.$jskos.isContainedIn(e.scheme,e.favoriteSchemes)?"starFavorite":"starNormal",attrs:{icon:"star"},on:{click:function(t){return e.toggleFavoriteScheme(e.scheme)}}}),e._v("   "),n("item-name",{attrs:{item:e.scheme,"is-link":!0,"is-left":e.isLeft,"font-size":"large"}}),e.scheme.license&&e.scheme.license.length?n("span",{staticStyle:{display:"inline-block",margin:"0px 2px 0px 1px",height:"15px"}},[e.defaults.licenseBadges[e.scheme.license[0].uri]?n("img",{staticStyle:{"vertical-align":"text-top"},attrs:{src:e.defaults.licenseBadges[e.scheme.license[0].uri]}}):e._e()]):e._e(),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.clearScheme"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.clearScheme'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",staticStyle:{display:"inline-block",margin:"-3px 2px 0px 2px"},on:{click:e.clearScheme}},[n("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)],1),n("concept-search",{ref:"conceptSearch",staticClass:"conceptSchemeSelection-conceptSearch",attrs:{"is-left":e.isLeft,scheme:e.scheme}})],1):e._e(),n(null==e.scheme?"div":"b-popover",{tag:"div",staticClass:"conceptSchemeSelection-popover",attrs:{target:e.id+"-expandButton",container:"conceptSchemeSelection-"+e.id,triggers:"disabled",placement:"leftbottom"},on:{shown:function(t){e.popoverShown=!0},hidden:function(t){e.popoverShown=!1}}},[n("div",{ref:"popover",staticClass:"conceptSchemeSelection-expanded",class:{"conceptSchemeSelection-expanded-div":null==e.scheme,"conceptSchemeSelection-expanded-popover":null!=e.scheme}},[n("div",{staticClass:"componentTitle"},[e._v(" "+e._s(e.isLeft?e.$t("schemeSelection.source"):e.$t("schemeSelection.target"))+" ")]),n("b-form",{attrs:{inline:""},on:{submit:e.chooseFirst}},[n("b-form-input",{ref:"input",staticStyle:{flex:"1","margin-right":"5px"},attrs:{placeholder:e.$t("schemeSelection.schemeFilterPlaceholder"),autocomplete:"off",size:"sm"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hidePopover.apply(null,arguments)}},model:{value:e.schemeFilter,callback:function(t){e.schemeFilter=t},expression:"schemeFilter"}}),n("div",{staticClass:"button",staticStyle:{position:"relative"},attrs:{id:"conceptSchemeSelection-filterButton-"+e.id}},[n("font-awesome-icon",{attrs:{icon:"filter"}}),e.isFiltered?n("span",{staticClass:"text-success",staticStyle:{position:"absolute",top:"-10px",right:"-5px"}},[e._v(" • ")]):e._e()],1),n("b-popover",{attrs:{target:"conceptSchemeSelection-filterButton-"+e.id,show:e.filterPopoverShow,triggers:"click",placement:"auto"},on:{"update:show":function(t){e.filterPopoverShow=t}}},[n("div",{ref:"filterPopover",staticClass:"conceptSchemeSelection-filterPopover"},[n("p",{staticClass:"fontWeight-heavy"},[e._v(" "+e._s(e.$t("schemeSelection.filter"))+" ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.isFiltered,expression:"isFiltered"}]},[n("a",{ref:"removeAllFiltersLink",attrs:{href:""},on:{click:function(t){t.preventDefault(),e.onlyFavorites=!1,e.schemeFilter="",e.registryFilter=e.availableRegistries.map((function(e){return e.uri})),e.languageFilter=e.availableLanguages.concat([null]),e.typeFilter=e.availableTypes.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.filtersRemove"))+" ")])]),e.allowFavoriteSchemesFilter?n("b-form-checkbox",{attrs:{size:"sm"},model:{value:e.onlyFavorites,callback:function(t){e.onlyFavorites=t},expression:"onlyFavorites"}},[e._v(" "+e._s(e.$t("schemeSelection.filterOnlyFavorites"))+" ")]):e._e(),n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"conceptSchemeSelection-filterPopover-"+e.id+"-registryFilterCollapse",expression:"`conceptSchemeSelection-filterPopover-${id}-registryFilterCollapse`"}],staticClass:"button"},[n("span",{staticClass:"when-opened"},[n("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),n("span",{staticClass:"when-closed"},[n("font-awesome-icon",{attrs:{icon:"angle-right"}})],1),e._v(" "+e._s(e.$t("schemeSelection.registryFilter"))+" ("+e._s(e.registryFilter.length==e.availableRegistries.length?"all":e.registryFilter.length)+") ")]),n("b-collapse",{attrs:{id:"conceptSchemeSelection-filterPopover-"+e.id+"-registryFilterCollapse"}},[n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.registryFilter=e.availableRegistries.map((function(e){return e.uri}))}}},[e._v(" "+e._s(e.$t("schemeSelection.filterSelectAll"))+" ")]),e._v("• "),n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.registryFilter=[]}}},[e._v(" "+e._s(e.$t("schemeSelection.filterDeselectAll"))+" ")]),e._l(e.registryFilterOptions,(function(t){return n("b-form-checkbox",{key:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilter-"+t.value,staticClass:"fontSize-normal",attrs:{value:t.value,size:"sm",stacked:""},on:{change:e.focusAndSelectInput},model:{value:e.registryFilter,callback:function(t){e.registryFilter=t},expression:"registryFilter"}},[e._v(" "+e._s(t.text)+" ")])}))],2),n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilterCollapse",expression:"`conceptSchemeSelection-filterPopover-${id}-languageFilterCollapse`"}],staticClass:"button"},[n("span",{staticClass:"when-opened"},[n("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),n("span",{staticClass:"when-closed"},[n("font-awesome-icon",{attrs:{icon:"angle-right"}})],1),e._v(" "+e._s(e.$t("schemeSelection.languageFilter"))+" ("+e._s(e.languageFilter.length-1==e.availableLanguages.length?"all":e.languageFilter.length)+") ")]),n("b-collapse",{attrs:{id:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilterCollapse"}},[n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.languageFilter=e.availableLanguages.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.filterSelectAll"))+" ")]),e._v("• "),n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.languageFilter=[]}}},[e._v(" "+e._s(e.$t("schemeSelection.filterDeselectAll"))+" ")]),e._l(e.languageFilterOptions,(function(t){return n("b-form-checkbox",{key:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilter-"+t.value,staticClass:"fontSize-normal",attrs:{value:t.value,size:"sm",stacked:""},on:{change:e.focusAndSelectInput},model:{value:e.languageFilter,callback:function(t){e.languageFilter=t},expression:"languageFilter"}},[e._v(" "+e._s(t.text)+" ")])}))],2),n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"conceptSchemeSelection-filterPopover-"+e.id+"-typeFilterCollapse",expression:"`conceptSchemeSelection-filterPopover-${id}-typeFilterCollapse`"}],staticClass:"button"},[n("span",{staticClass:"when-opened"},[n("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),n("span",{staticClass:"when-closed"},[n("font-awesome-icon",{attrs:{icon:"angle-right"}})],1),e._v(" "+e._s(e.$t("schemeSelection.typeFilter"))+" ("+e._s(e.typeFilter.length-1==e.availableTypes.length?"all":e.typeFilter.length)+") ")]),n("b-collapse",{attrs:{id:"conceptSchemeSelection-filterPopover-"+e.id+"-typeFilterCollapse"}},[n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.typeFilter=e.availableTypes.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.filterSelectAll"))+" ")]),e._v("• "),n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.typeFilter=[]}}},[e._v(" "+e._s(e.$t("schemeSelection.filterDeselectAll"))+" ")]),e._l(e.typeFilterOptions,(function(t){return n("b-form-checkbox",{key:"conceptSchemeSelection-filterPopover-"+e.id+"-typeFilter-"+t.value,staticClass:"fontSize-normal",attrs:{value:t.value,size:"sm",stacked:""},on:{change:e.focusAndSelectInput},model:{value:e.typeFilter,callback:function(t){e.typeFilter=t},expression:"typeFilter"}},[e._v(" "+e._s(t.text)+" ")])}))],2)],1)])],1),n("ul",{staticClass:"conceptSchemeSelection-schemeList scrollable"},[e._l(e.filteredSchemes,(function(t,i){return n("li",{key:t.uri+"-scheme-list-"+e.id+i},[n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.isContainedIn(t,e.favoriteSchemes)?e.$t("schemeSelection.starRemove"):e.$t("schemeSelection.starAdd"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.isContainedIn(_scheme, favoriteSchemes) ? $t('schemeSelection.starRemove') : $t('schemeSelection.starAdd'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"pointer",class:e.$jskos.isContainedIn(t,e.favoriteSchemes)?"starFavorite":"starNormal",attrs:{icon:"star"},on:{click:function(n){return e.toggleFavoriteScheme(t)}}}),n("item-name",{ref:0==i?"firstScheme":null,refInFor:!0,attrs:{item:t,"is-link":!0,"is-left":e.isLeft}})],1)})),n("li",{directives:[{name:"show",rawName:"v-show",value:e.isFiltered&&e.filteredSchemes.length<e.schemes.length,expression:"isFiltered && filteredSchemes.length < schemes.length"}]},[n("a",{ref:"showAllSchemesLink",attrs:{href:""},on:{click:function(t){t.preventDefault(),e.onlyFavorites=!1,e.schemeFilter="",e.registryFilter=e.availableRegistries.map((function(e){return e.uri})),e.languageFilter=e.availableLanguages.concat([null]),e.typeFilter=e.availableTypes.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.showAllSchemes",{count:e.schemes.length}))+" ")])])],2)],1)])],1)},At=[],Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conceptSearch",on:{mousemove:function(t){return e.mousemove()}}},[n("div",{staticClass:"conceptSearch-icon button",on:{click:e.focusSearch}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),n("div",{staticClass:"conceptSearch-inputWrapper"},[e.isOpen&&!e.loading?n("div",{staticClass:"conceptSearch-resultCount",style:"right: "+(e.scheme.types&&e.scheme.types.length?27:10)+"px;"},[e._v(" "+e._s(e.searchResult.length)+" "+e._s(e.$tc("search.results",e.searchResult.length))+" ")]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.scheme.types&&e.scheme.types.length>0,expression:"scheme.types && scheme.types.length > 0"}],staticClass:"conceptSearch-filter button",attrs:{id:"conceptSearch-filter-"+(e.isLeft?"left":"right")}},[n("font-awesome-icon",{attrs:{icon:"filter"}})],1),n("b-popover",{attrs:{target:"conceptSearch-filter-"+(e.isLeft?"left":"right"),show:e.filterPopoverShow,triggers:"click",placement:"auto"},on:{"update:show":function(t){e.filterPopoverShow=t}}},[n("div",{ref:"filterPopover"},[n("b-form-checkbox-group",{staticClass:"conceptSearch-filterCheckboxes",attrs:{stacked:"",size:"sm"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}},e._l(e.scheme.types,(function(t){return n("b-form-checkbox",{key:t.uri,staticClass:"conceptSearch-filterCheckbox",attrs:{value:t.uri}},[e._v(" "+e._s(e.$jskos.prefLabel(t))+" ")])})),1)],1)]),n("b-form-input",{ref:"searchInput",attrs:{placeholder:e.$t("search.placeholder"),size:"sm",autocomplete:"off"},on:{dragover:e.dragOver,drop:function(t){return e.drop(t,e.isLeft)}},nativeOn:{click:function(t){e.isOpen=""!=e.searchQuery},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onArrowDown.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.onArrowUp.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.closeResults.apply(null,arguments)}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.$refs.searchInput.$el.blur(),e.closeResults()}],focus:function(t){e.isOpen=""!=e.searchQuery}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"conceptSearch-results"},[e.loading?n("div",{staticClass:"conceptSearch-loading"},[n("loading-indicator")],1):n("ul",{staticClass:"conceptSearch-results-list"},[e._l(e.searchResult,(function(t,i){return n("li",{key:i,staticClass:"conceptSearch-results-item",class:{"conceptSearch-selected":i===e.searchSelected,"font-italic":"###conceptWithoutData###"==t[1]},attrs:{id:e.uniqueID+"-searchResult-"+i,draggable:"true"},on:{dragstart:function(n){return e.dragStartResult(t,n)},dragend:e.dragEnd,click:function(t){return e.chooseResult(i)},mouseover:function(t){return e.mouseover(i)}}},["###conceptWithoutData###"==t[1]?n("span",{staticClass:"fontSize-verySmall"},[n("font-awesome-icon",{attrs:{icon:"bolt"}})],1):e._e(),n("span",{domProps:{innerHTML:e._s(e.highlightQueryInResult(t[0]))}})])})),0==e.searchResult.length?n("li",{staticClass:"conceptSearch-results-item"},[n("div",[e._v(e._s(e.$t("search.noResults")))])]):e._e()],2)])],1)])},Ft=[],Et=n("5635"),zt={name:"ConceptSearch",components:{LoadingIndicator:te["a"]},mixins:[$["a"],Et["a"],_["a"],I["a"]],props:{isLeft:{type:Boolean,default:!0},scheme:{type:Object,default:null}},data:function(){return{searchQuery:"",searchResult:[],isOpen:!1,isValid:!1,loading:!1,searchSelected:-1,preventHovering:!1,cancel:null,uniqueID:null,filterPopoverShow:!1}},computed:{typesForSchemes:function(){return this.$settings.typesForSchemes},selectedTypes:{get:function(){var e=this,t=Object.keys(this.$settings.typesForSchemes).find((function(t){return e.$jskos.compare(e.scheme,{uri:t})}));return this.$settings.typesForSchemes[t]},set:function(e){var t=this;if(Array.isArray(e)){var n=Object.keys(this.$settings.typesForSchemes).find((function(e){return t.$jskos.compare(t.scheme,{uri:e})}))||this.scheme.uri,i=w.a.cloneDeep(this.$settings.typesForSchemes);w.a.isEqual(e,i[n])||(i[n]=e,this.$store.commit({type:"settings/set",prop:"typesForSchemes",value:i}))}}},provider:function(){return w.a.get(this.scheme,"_registry")}},watch:{searchQuery:function(e){this.searchSelected=-1,null!=this.cancel&&(this.cancel("There was a newer search query."),this.cancel=null),""==e?(this.loading=!1,this.isOpen=!1):(this.searchResult=["Waiting for you to stop typing..."],this.loading=!0,this.isOpen=!0,this.debouncedGetAnswer()),this.isValid=!1},scheme:function(e,t){this.$jskos.compare(t,e)||(this.searchQuery="",this.searchResult=[],this.isOpen=!1,this.isValid=!1,this.loading=!1,this.searchSelected=-1),null!=e&&this._loadTypes(e)},typesForSchemes:function(){this.loading=!0,this.getAnswer()}},created:function(){this.debouncedGetAnswer=w.a.debounce(this.getAnswer,300),this.uniqueID=this.generateID()},methods:{clickHandlers:function(){var e=this;return[{elements:[this.$el],handler:function(){e.filterPopoverShow||(e.isOpen=!1,e.searchSelected=-1)}},{elements:[document.getElementById("conceptSearch-filter-".concat(this.isLeft?"left":"right")),this.$refs.filterPopover],handler:function(){e.filterPopoverShow=!1}}]},chooseResult:function(e){this.closeResults(),this.searchSelected=-1,this.$router.push({path:this._getRouterUrl(this.searchResult[e])}),document.activeElement!=document.body&&document.activeElement.blur()},_getRouterUrl:function(e){var t=w.a.last(e),n={uri:t,inScheme:[this.scheme]};return n=this.saveObject(n,{type:"concept",scheme:this.scheme,provider:this.provider}),this.getRouterUrl(n,this.isLeft)},closeResults:function(){this.isOpen=!1},getAnswer:function(){var e=this;this.searchResult=[];var t=this.searchQuery,n=this.provider.suggest({search:t,scheme:this.scheme,types:this.selectedTypes});this.cancel=n.cancel,n.then((function(n){t==e.searchQuery&&(e.loading=!1,e.searchResult=w.a.zip(n[1],n[2],n[3]),e.isValid=!0)})).catch((function(n){if(-1==n.toString().toLowerCase().indexOf("cancel")&&t==e.searchQuery){e.loading=!1,e.isValid=!1;var i="".concat(e.$t("search.error")," ").concat(e.getErrorMessage(n));e.searchResult=[[i]]}})).then((function(){if(t==e.searchQuery){var n=new e.$jskos.ConceptScheme(e.scheme),i=n.conceptFromNotation(t);i&&!e.searchResult.find((function(e){return w.a.last(e)==i.uri}))&&e.searchResult.push(["".concat(t," ").concat(e.$t("itemDetail.unknownConcept")),"###conceptWithoutData###",i.uri]),e.cancel=null}}))},onArrowDown:function(){this.preventHovering=!0,this.searchSelected>=this.searchResult.length-1?this.searchSelected=0:this.searchSelected+=1,this.scrollSelectedIntoView()},onArrowUp:function(){this.preventHovering=!0,this.searchSelected<=0?this.searchSelected=this.searchResult.length-1:this.searchSelected-=1,this.scrollSelectedIntoView()},scrollSelectedIntoView:function(){var e=document.getElementById(this.uniqueID+"-searchResult-"+this.searchSelected),t=e.getBoundingClientRect(),n=e.parentElement.parentElement.getBoundingClientRect();t.bottom>n.bottom&&e.scrollIntoView(!1),t.top<n.top&&e.scrollIntoView()},onEnter:function(){var e;!this.loading&&this.isValid&&0!=this.searchResult.length&&(e=this.searchSelected<0||this.searchSelected>=this.searchResult.length?0:this.searchSelected,this.chooseResult(e))},mouseover:function(e){this.preventHovering||(this.searchSelected=e)},mousemove:function(){this.preventHovering=!1},focusSearch:function(){this.$refs.searchInput.focus(),this.isOpen=""!=this.searchQuery},highlightQueryInResult:function(e){if(!this.searchQuery.length)return e;var t=this.searchQuery,n=new RegExp(t,"ig"),i=n.exec(e),o=0,r="";while(i){var s=i.index;r+=w.a.escape(e.slice(o,s))+"<span class='conceptSearch-searchHighlight fontWeight-heavy'>"+w.a.escape(e.slice(s,s+t.length))+"</span>",o=s+t.length,i=n.exec(e)}return r+=w.a.escape(e.slice(o)),r},setSearchQuery:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.searchQuery=e,this.$nextTick((function(){t.isOpen=n})),setTimeout((function(){n&&t.focusSearch()}),10)},_loadTypes:function(e){var t=this;this.loadTypes(e).then((function(e){t.selectedTypes||(t.selectedTypes=e.types.map((function(e){return e.uri})))}))},dragStartResult:function(e,t){var n=w.a.last(e),i=this.saveObject({uri:n},{scheme:this.scheme,type:"concept"});this.dragStart(i,t)},droppedConcept:function(e){this.setSearchQuery(this.$jskos.prefLabel(e,{fallbackToUri:!0}))}}},Pt=zt,Nt=(n("cb24"),n("b298"),Object(g["a"])(Pt,Dt,Ft,!1,null,"211a2b94",null)),Bt=Nt.exports;function Rt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Vt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function Ht(e){return Kt(e)||Wt(e)||Vt(e)||Ut()}function Ut(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vt(e,t){if(e){if("string"===typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}function Wt(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Kt(e){if(Array.isArray(e))return Gt(e)}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var qt={name:"ConceptSchemeSelection",components:{ItemName:u["a"],ConceptSearch:Bt,ComponentSettings:S["a"]},mixins:[$["a"],Et["a"],M,I["a"]],props:{isLeft:{type:Boolean,default:!0}},data:function(){return{id:this.generateID(),popoverShown:!1,filterPopoverShow:!1,schemeFilter:"",registryFilter:[],languageFilter:[],typeFilter:[],onlyFavorites:!0}},computed:{scheme:function(){return this.selected.scheme[this.isLeft]},isFiltered:function(){return""!=this.schemeFilter||this.registryFilter.length<this.availableRegistries.length||this.languageFilter.length-1<this.availableLanguages.length||this.typeFilter.length-1<this.availableTypes.length||this.onlyFavorites},filteredSchemes:function(){var e=this,t=this.schemeFilter.toLowerCase();if(t){var n=function(e){return w.a.flattenDeep(w.a.concat([],Object.values(e.prefLabel||{}),Object.values(e.altLabel||{}),e.notation||[])).map((function(e){return e.toLowerCase()}))};return this.schemes.filter((function(e){return n(e).find((function(e){return e.startsWith(t)}))}))}return this.schemes.filter((function(t){return(e.registryFilter.length==e.availableRegistries.length||e.registryFilter.find((function(n){return e.$jskos.compare({uri:n},t._registry)})))&&(e.languageFilter.includes(null)&&!(t.languages||[]).length||w.a.intersection(t.languages||[],e.languageFilter).length)&&(e.typeFilter.includes(null)&&(t.type||[]).length<=1||w.a.intersection(t.type||[],e.typeFilter).length)&&(!e.onlyFavorites||e.$jskos.isContainedIn(t,e.favoriteSchemes))}))},availableRegistries:function(){return this.config.registries.filter((function(e){return e.has.concepts}))},availableLanguages:function(){var e;return w.a.uniq((e=[]).concat.apply(e,Ht(this.schemes.map((function(e){return e.languages||[]})))))},shownRegistries:function(){var e=this,t=this.schemes.filter((function(t){return(e.languageFilter.includes(null)&&!(t.languages||[]).length||w.a.intersection(t.languages||[],e.languageFilter).length)&&(e.typeFilter.includes(null)&&(t.type||[]).length<=1||w.a.intersection(t.type||[],e.typeFilter).length)&&(!e.onlyFavorites||e.$jskos.isContainedIn(t,e.favoriteSchemes))}));return this.availableRegistries.filter((function(n){return t.find((function(t){return e.$jskos.compare(n,t._registry)}))}))},registryFilterOptions:function(){var e=this;return this.shownRegistries.map((function(t){return{value:t.uri,text:e.$jskos.prefLabel(t)}}))},shownLanguages:function(){var e,t=this,n=this.schemes.filter((function(e){return(t.registryFilter.length==t.availableRegistries.length||t.registryFilter.find((function(n){return t.$jskos.compare({uri:n},e._registry)})))&&(t.typeFilter.includes(null)&&(e.type||[]).length<=1||w.a.intersection(e.type||[],t.typeFilter).length)&&(!t.onlyFavorites||t.$jskos.isContainedIn(e,t.favoriteSchemes))}));return w.a.uniq((e=[]).concat.apply(e,Ht(n.map((function(e){return e.languages||[]})))))},languageFilterOptions:function(){var e=[];return this.schemes.find((function(e){return!e.languages||!e.languages.length}))&&e.push({value:null,text:this.$t("schemeSelection.filterOther")}),e=this.shownLanguages.map((function(e){return{value:e,text:e}})).concat(e),e},availableTypes:function(){return w.a.uniq(w.a.flatten(this.schemes.map((function(e){return e.type||[]})))).filter((function(e){return e&&"http://www.w3.org/2004/02/skos/core#ConceptScheme"!=e}))},shownTypes:function(){var e=this,t=this.schemes.filter((function(t){return(e.registryFilter.length==e.availableRegistries.length||e.registryFilter.find((function(n){return e.$jskos.compare({uri:n},t._registry)})))&&(e.languageFilter.includes(null)&&!(t.languages||[]).length||w.a.intersection(t.languages||[],e.languageFilter).length)&&(!e.onlyFavorites||e.$jskos.isContainedIn(t,e.favoriteSchemes))}));return w.a.uniq(w.a.flatten(t.map((function(e){return e.type||[]})))).filter((function(e){return e&&"http://www.w3.org/2004/02/skos/core#ConceptScheme"!=e}))},typeFilterOptions:function(){var e=this,t=[];this.schemes.find((function(e){return!e.type||e.type.length<=1}))&&t.push({value:null,text:this.$t("schemeSelection.filterOther")}),t=this.shownTypes.map((function(e){return{value:e,text:e}})).concat(t);var n,i=Rt(t);try{var o=function(){var t=n.value,i=lt.find((function(e){return e.uri==t.value}));i&&(t.text=e.$jskos.prefLabel(i))};for(i.s();!(n=i.n()).done;)o()}catch(r){i.e(r)}finally{i.f()}return t},allowFavoriteSchemesFilter:function(){var e=this;return!!this.favoriteSchemes.find((function(t){return e.$jskos.isContainedIn(t,e.schemes)}))}},watch:{popoverShown:function(e){var t=this;e&&w.a.delay((function(){t.focusAndSelectInput()}),100)},onlyFavorites:function(){this.schemeFilter=""},languageFilter:function(){this.schemeFilter=""},typeFilter:function(){this.schemeFilter=""},allowFavoriteSchemesFilter:function(e){e||(this.onlyFavorites=!1)}},mounted:function(){this.enableShortcuts(),this.registryFilter=this.availableRegistries.map((function(e){return e.uri})),this.languageFilter=this.availableLanguages.concat([null]),this.typeFilter=this.availableTypes.concat([null]),this.allowFavoriteSchemesFilter||(this.onlyFavorites=!1)},methods:{clickHandlers:function(){var e=this;return[{elements:[this.$refs.popover,document.getElementById("".concat(this.id,"-expandButton")),this.$refs.showAllSchemesLink,document.getElementById("conceptSchemeSelection-filterButton-".concat(this.id)),this.$refs.filterPopover,this.$refs.removeAllFiltersLink],handler:function(){e.hidePopover()}},{elements:[document.getElementById("conceptSchemeSelection-filterButton-".concat(this.id)),this.$refs.filterPopover,this.$refs.removeAllFiltersLink],handler:function(){e.filterPopoverShow=!1}}]},shortcutHandler:function(e){var t=e.action,n=e.isLeft;if(this.isLeft===n)switch(t){case"openSchemeSelection":this.scheme?this.togglePopover():this.focusAndSelectInput();break;case"openConceptSearch":this.$refs.conceptSearch&&this.$refs.conceptSearch.focusSearch();break}},clearScheme:function(){var e=this;this.$router.push({path:this.getRouterUrl(null,this.isLeft)}),w.a.delay((function(){e.focusAndSelectInput()}),100)},chooseFirst:function(e){e.preventDefault();var t=w.a.get(this,"$refs.firstScheme[0].item");t&&(this.$router.push({path:this.getRouterUrl(t,this.isLeft)}),this.hidePopover())},setConceptSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.conceptSearch&&this.$refs.conceptSearch.setSearchQuery(e,t)},toggleFavoriteScheme:function(e){this.$jskos.isContainedIn(e,this.favoriteSchemes)?this.$store.dispatch("removeSchemeFromFavorites",e):this.$store.dispatch("addSchemeToFavorites",e),this.focusAndSelectInput()},focusAndSelectInput:function(){var e=this.$refs.input.$el;e&&(e.focus(),e.select())},showPopover:function(){this.$root.$emit("bv::show::popover","".concat(this.id,"-expandButton"))},hidePopover:function(){this.$root.$emit("bv::hide::popover","".concat(this.id,"-expandButton"))},togglePopover:function(){this.popoverShown?this.hidePopover():this.showPopover()}}},Qt=qt,Jt=(n("357f"),n("0397"),Object(g["a"])(Qt,Tt,At,!1,null,"0887f416",null)),Xt=Jt.exports,Yt=n("ca6b"),Zt=n.n(Yt),en=n("dd6a");function tn(e,t){return rn(e)||on(e,t)||an(e,t)||nn()}function nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function on(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){o=!0,r=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(o)throw r}}return n}}function rn(e){if(Array.isArray(e))return e}function sn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=an(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function an(e,t){if(e){if("string"===typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ln(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function pn(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){ln(r,i,o,s,a,"next",e)}function a(e){ln(r,i,o,s,a,"throw",e)}s(void 0)}))}}var un=n("ae72");un.listen();var hn={name:"App",components:{TheNavbar:c["a"],ConceptListWrapper:je,ItemDetail:vt,MappingEditor:z,MappingBrowser:P["a"],ResizingSlider:It,LoadingIndicatorFull:Y["a"],Minimizer:Q,ConceptSchemeSelection:Xt},mixins:[k["a"],$["a"],I["a"],en["a"]],data:function(){return{loaded:!1,loading:!1,itemDetailSettings:{left:{showTopConceptsInScheme:!1},right:{showTopConceptsInScheme:!1}},loadFromParametersOnce:w.a.once(this.loadFromParameters),forceMappingBrowser:!1,forceMappingEditor:!1,repeatLoadBuildInfo:null}},computed:{selectedConceptLeft:function(){return this.selected.concept[!0]},selectedSchemeRight:function(){return this.selected.scheme[!1]},selectedConceptRight:function(){return this.selected.concept[!1]},selectedSchemeLeft:function(){return this.selected.scheme[!0]},locale:function(){return this.$i18n.locale},settingsLocale:function(){var e=this.$settings.locale;return(this.config.languages||[]).includes(e)||(e="en"),e}},watch:{$route:function(e,t){for(var n=e.query,i=t.query,o=["from","fromScheme","to","toScheme"],r=!1,s=0,a=o;s<a.length;s++){var c=a[s],l=i[c],p=n[c],u=l&&this.getObject({uri:l}),h=p&&this.getObject({uri:p});u&&h?this.$jskos.compare(u,h)||(r=!0):l!=p&&(r=!0)}r&&this.loadFromParameters()},selectedConceptLeft:{handler:function(e,t){w.a.isEqual(w.a.get(e,"prefLabel"),w.a.get(t,"prefLabel"))||this.insertPrefLabel(!0)},deep:!0},selectedSchemeRight:function(e,t){var n=this;this.$jskos.compare(e,t)||w.a.delay((function(){n.insertPrefLabel(!0)}),50)},selectedConceptRight:{handler:function(e,t){w.a.isEqual(w.a.get(e,"prefLabel"),w.a.get(t,"prefLabel"))||this.insertPrefLabel(!1)},deep:!0},selectedSchemeLeft:function(e,t){var n=this;this.$jskos.compare(e,t)||w.a.delay((function(){n.insertPrefLabel(!1)}),50)},locale:function(e,t){var n=this;e!=t&&(this.$store.commit({type:"settings/set",prop:"locale",value:e}),w.a.delay((function(){n.insertPrefLabel(!0),n.insertPrefLabel(!1)}),300))},settingsLocale:function(e){e!=this.locale&&(this.$i18n.locale=e)},user:function(e,t){var n=this;if(void 0!==t&&!t&&e){if(this.alert(this.$t("alerts.loggedIn"),null,"success"),this.localMappingsRegistry&&this.$jskos.compare(this.currentRegistry,this.localMappingsRegistry)){var i=this.config.registries.find((function(t){return n.$jskos.mappingRegistryIsStored(t)&&!n.$jskos.compare(t,n.localMappingsRegistry)&&t.isAuthorizedFor({type:"mappings",action:"create",user:e})}));i&&(this.$store.commit({type:"settings/set",prop:"mappingRegistry",value:i.uri}),this.alert(this.$t("alerts.loggedInRegistryChanged",[this.$jskos.prefLabel(i)]),0,"warning",this.$t("alerts.loggedInRegistryChangedUndoButton"),(function(e){n.$store.commit({type:"alerts/setCountdown",alert:e,countdown:0}),n.$store.commit({type:"settings/set",prop:"mappingRegistry",value:n.localMappingsRegistry.uri})})))}}else t&&!e&&this.alert(this.$t("alerts.loggedOut"),10,"danger",this.$t("settings.logInButton"),(function(){var e=n.$refs.navbar;e&&e.openSettingsTab&&e.openSettingsTab(0)}))},userUris:function(){this.userUris&&this.userUris.length&&(this.userUris.includes(this.creator.uri)||this.$store.commit({type:"settings/set",prop:"creatorUri",value:this.userUris[0]}))},forceMappingBrowser:function(e){if(e){var t=this.$refs.mappingBrowserMinimizer;t.minimized=!1}},selected:{handler:function(){this.selected.scheme[!0]||this.selected.scheme[!1]?this.forceMappingEditor=!1:this.forceMappingEditor=!0},deep:!0},isPageVisible:function(e){e?this.repeatLoadBuildInfo&&this.repeatLoadBuildInfo.start():this.repeatLoadBuildInfo&&this.repeatLoadBuildInfo.stop()},"$settings.checkForUpdates":function(e){e?this.enableUpdateCheck():(this.repeatLoadBuildInfo&&this.repeatLoadBuildInfo.stop(),this.repeatLoadBuildInfo=null)}},created:function(){var e=this;this.load(),setTimeout(pn(a.a.mark((function t(){var n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.localMappingsRegistry){t.next=5;break}return t.next=3,e.getMappings({registry:e.localMappingsRegistry,limit:1});case 3:n=t.sent,n._totalCount&&n._totalCount>=500&&e.alert(e.$t("general.tooManyMappings",{count:n._totalCount}),0);case 5:case"end":return t.stop()}}),t)}))),1e4)},methods:{load:function(){var e=this;return pn(a.a.mark((function t(){var n,i,o,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Date,e.loadingGlobal=!0,t.next=4,e.$store.dispatch("loadConfig",w.a.get(e.$route,"query.config"));case 4:return t.next=6,e.$store.dispatch("settings/load");case 6:if(!e.config.auth){t.next=9;break}return t.next=9,e.$store.dispatch("auth/init",e.config.auth);case 9:return document.title=e.config.title,e.$i18n.locale=e.settingsLocale,t.next=13,e.loadSchemes();case 13:return t.next=15,e.$store.dispatch("mapping/loadMappingTrash");case 15:e.loaded=!0,e.loadingGlobal=!1,e.loadFromParametersOnce(!0),e.config.autoRefresh.update&&e.$settings.checkForUpdates&&e.enableUpdateCheck(),i=sn(e.config.registries);try{for(i.s();!(o=i.n()).done;)r=o.value,w.a.isArray(r.schemes)&&(r._jskos.schemes=r.schemes.map((function(t){return e.schemes.find((function(n){return e.$jskos.compare(n,t)}))||t})))}catch(s){i.e(s)}finally{i.f()}e.$log.log("Application loaded in ".concat((new Date-n)/1e3," seconds."));case 22:case"end":return t.stop()}}),t)})))()},enableUpdateCheck:function(){var e=this;this.repeatLoadBuildInfo=Zt.a.loadBuildInfo({url:"./build-info.json",buildInfo:this.config.buildInfo,interval:this.config.autoRefresh.update,callImmediately:!1,callback:function(t,n,i){!t&&i&&n.gitCommit!=i.gitCommit&&(e.alert(e.$t("alerts.newVersionText"),0,"info",e.$t("alerts.newVersionLink"),(function(){location.reload(!0)})),e.repeatLoadBuildInfo&&e.repeatLoadBuildInfo.stop(),e.repeatLoadBuildInfo=null)}})},insertPrefLabel:function(e){if(this.$settings.components.ConceptSchemeSelection.insertPrefLabel[!e]){var t=this.$jskos.prefLabel(this.selected.concept[e],{fallbackToUri:!1}),n=/^[\s\wäüöÄÜÖß]*\w/.exec(t);this.setConceptSearchQuery(e,n?n[0]:"")}},setConceptSearchQuery:function(e,t,n){var i=w.a.get(this,"$refs.conceptSchemeSelection".concat(e?"Right":"Left","[0]"));i&&i.setConceptSearchQuery(t,n)},refresh:function(e){"minimize"==e&&(this.itemDetailSettings.left.showTopConceptsInScheme=null!=this.conceptListLeft()&&"1"==this.conceptListLeft().$el.dataset.minimized,this.itemDetailSettings.right.showTopConceptsInScheme=null!=this.conceptListRight()&&"1"==this.conceptListRight().$el.dataset.minimized)},conceptListLeft:function(){return Array.isArray(this.$refs.conceptListLeft)?this.$refs.conceptListLeft[0]:this.$refs.conceptListLeft},conceptListRight:function(){return Array.isArray(this.$refs.conceptListRight)?this.$refs.conceptListRight[0]:this.$refs.conceptListRight},swapSides:function(){var e=this,t=this.$route.query;t=Object.assign(t,{from:t.to,fromScheme:t.toScheme,to:t.from,toScheme:t.fromScheme}),this.$router.push({query:t}),this.loadFromParameters(),w.a.delay((function(){e.insertPrefLabel(!0),e.insertPrefLabel(!1)}),300);var n,i=function t(n){var i=w.a.get(n,"__ISOPEN__.true",!1),o=w.a.get(n,"__ISOPEN__.false",!1);if(e.open(n,!0,o),e.open(n,!1,i),n.narrower&&!n.narrower.includes(null)){var r,s=sn(n.narrower);try{for(s.s();!(r=s.n()).done;){var a=r.value;t(a)}}catch(c){s.e(c)}finally{s.f()}}},o=sn(w.a.uniq([t.fromScheme,t.toScheme]));try{for(o.s();!(n=o.n()).done;){var r,s=n.value,a=this.topConcepts[s],c=sn(a||[]);try{for(c.s();!(r=c.n()).done;){var l=r.value;i(l)}}catch(p){c.e(p)}finally{c.f()}}}catch(p){o.e(p)}finally{o.f()}},loadFromParameters:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0;var n,i=this.$route.query,o=[];try{n=JSON.parse(i["mapping"])}catch(y){n=null}if(n&&t)for(var r=0,s=["from","to"];r<s.length;r++){var a=s[r];i[a+"Scheme"]||(i[a+"Scheme"]=w.a.get(n[a+"Scheme"],"uri"),this.$jskos.conceptsOfMapping(n,a).length&&(i[a]=w.a.get(this.$jskos.conceptsOfMapping(n,a),"[0].uri")))}for(var c={scheme:{true:i.fromScheme,false:i.toScheme},concept:{true:i.from,false:i.to}},l=0,p=[!0,!1];l<p.length;l++){var u=p[l],h=c.scheme[u],d=null;h&&(d=this.getObject({uri:h}));var m=null;d&&c.concept[u]&&(m=this.saveObject({uri:c.concept[u]},{scheme:d,type:"concept"})),o.push(this.setSelected({concept:m,scheme:d,isLeft:u,noQueryRefresh:!0,noLoading:!0}))}if(i.mapping||i.mappingUri||i.mappingIdentifier){var f=new Promise((function(t){var n=null;try{n=e.$jskos.normalize(JSON.parse(i["mapping"]))}catch(y){}w.a.isEqual(n,{})?t(null):t(n)})),g=(i.mappingUri?this.getMapping({uri:i.mappingUri}):i.mappingIdentifier?this.getMappings({identifier:i.mappingIdentifier}):Promise.resolve([])).then((function(t){if(w.a.isArray(t)||(t=[t].filter((function(e){return e}))),(i.mappingUri||i.mappingIdentifier)&&t.length){var n=t.find((function(t){return w.a.get(t,"_registry").isAuthorizedFor&&w.a.get(t,"_registry").isAuthorizedFor({type:"mappings",action:"create",user:e.user})}))||t[0];return f.then(e.adjustMapping).then((function(e){return e?[e,n]:[n,n]}))}return f.then(e.adjustMapping).then((function(e){return[e]}))})),v=["from","to"];o.push(g.then((function(n){var i=tn(n,2),o=i[0],r=i[1],s=void 0===r?null:r,a=[];if(o){var l,p=sn(v);try{var u=function(){var n=l.value,i=o["".concat(n,"Scheme")],r=e.$jskos.conceptsOfMapping(o,n),s=Object.keys(o[n]),p="from"==n;if(t&&r.length&&!c.concept[p]){var u=r[0];a.push(e.setSelected({concept:u,scheme:i,isLeft:p,noQueryRefresh:!0,noLoading:!0}))}w.a.forEach(r,(function(t,r){a.push(e.loadConcepts([t],{scheme:i}).then((function(e){var t=tn(e,1),i=t[0];o[n][s][r]=i})))}))};for(p.s();!(l=p.n()).done;)u()}catch(h){p.e(h)}finally{p.f()}}return Promise.all(a).then((function(){e.$store.commit({type:"mapping/set",mapping:o,original:s,noQueryRefresh:!0})}))})))}Promise.all(o).then((function(){if(e.loading=!1,Object(Ot["b"])(e.$store),t)if(i.search){var n=JSON.parse(i.search);e.forceMappingBrowser=!0,e.searchMappings(n)}else void 0!==i.concordances?e.showConcordances():(i.mappingUri||i.mappingIdentifier)&&(e.forceMappingBrowser=!0,e.searchMappings())})).catch((function(t){e.loading=!1,e.$log.warn(t),e.alert("There was an error loading data from URL.",null,"danger")}))},searchMappings:function(e){var t=this.$refs.mappingBrowser;t&&t.searchWithParams&&t.searchWithParams(e)},showMappingSearch:function(){this.forceMappingBrowser=!0,this.searchMappings({})},showConcordances:function(){var e,t=this,n=this.$refs.mappingBrowser;n?n.concordancesLoaded?null!=n.tabIndexes.concordances&&(this.forceMappingBrowser=!0,n.tab=n.tabIndexes.concordances):(this.loadingGlobal=!0,e=this.$watch((function(){return n.concordancesLoaded}),(function(){t.loadingGlobal=!1,null!=n.tabIndexes.concordances&&(t.forceMappingBrowser=!0,n.tab=n.tabIndexes.concordances),e&&e()}))):this.$log.warn("Could not show concordances because MappingBrowser component was not found.")}}},dn=hn,mn=(n("7c55"),Object(g["a"])(dn,o,r,!1,null,null,null)),fn=mn.exports,gn=n("4360"),vn=n("41cb"),yn=n("79fa");n("f9e3"),n("2dd8");n("56d7"),new i["default"]({el:"#app",store:gn["a"],router:vn["a"],components:{App:fn},template:"<App/>",i18n:yn["a"]})},c3e3:function(e,t,n){"use strict";n("a6bd")},c66b:function(e,t,n){"use strict";n("4a6b")},c6cd:function(e,t,n){},c804:function(e,t,n){"use strict";n("398f")},cb24:function(e,t,n){"use strict";n("0229")},cce3:function(e,t,n){},ddf0:function(e,t,n){"use strict";n("5f3b")},f696:function(e,t,n){"use strict";n("65b7")}});