System.register(["./main-legacy-9f0a7cfe.js"],(function(o,e){"use strict";var t,r,i,n,a,s,l,c,p,d,m,h,g,f,u,b,x,w,v=document.createElement("style");return v.textContent=".text-dark{color:#212121}.text-grey{color:#4a4a4a}.text-lightGrey{color:#737373}.text-mediumLightGrey{color:#aaa}.text-veryLightGrey{color:#d2d2d2}.fontWeight-medium{font-weight:500}.fontWeight-heavy{font-weight:700}.font-italic{font-style:italic}.fontSize-verySmall{font-size:.75rem}.fontSize-small{font-size:.8rem}.fontSize-normal{font-size:.9rem}.fontSize-large{font-size:1.1rem}.font-default{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:.9rem;color:#212121}.u-flip-horizontal{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.u-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.u-textBreak{word-break:break-all}.fillAndCenter{position:absolute;overflow-y:auto;width:100%;height:100%;top:0;left:0;z-index:300;display:flex;flex-direction:column;justify-content:center;align-items:center}*{scrollbar-width:thin}.mainComponent{position:relative}.mainComponent-minimized{overflow:hidden}.mainComponent>.minimizer>.minimizeButton{display:none}.mainComponent:hover>.minimizer>.minimizeButton{display:block}.visualComponent{background-color:#fff;margin:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);padding:5px}.componentTitle{letter-spacing:.2em;font-weight:700;text-align:center}.table-wrapper{position:relative;flex:1 1 auto;height:0;margin:10px auto 5px;max-width:97%}.table{display:flex;flex-direction:column;width:100%;height:98%;overflow:hidden;text-align:center}.table-head{display:block;flex:0 0 auto;overflow-y:auto;overflow:hidden}.table-body{display:block;flex:1 1 auto;overflow:auto}p{margin:3px 0!important}a:link,a:visited,a:active{color:#b13f13}a:hover,.alert a:hover{text-decoration:none;color:#e85e29}.page-link{color:#b13f13!important}.page-item.disabled>.page-link{color:#737373!important}.page-link:hover{color:#e85e29!important}ul{padding-left:20px}h1{font-size:1.85rem}h2{font-size:1.7rem}h3{font-size:1.55rem}h4{font-size:1.35rem}h5{font-size:1.25rem}h6{font-size:1.2rem}.button{cursor:pointer;user-select:none;vertical-align:middle;color:#555}.button:hover{color:#e85e29}.button-disabled{user-select:none;vertical-align:middle;color:rgba(85,85,85,.2)}.button-delete{cursor:pointer;user-select:none;vertical-align:middle;color:#555;transition:all .2s ease-in-out;color:#ce1212}.button-delete:hover{color:#880c0c}.button,button{transition:all .2s ease-in-out}.button:not(.button-disabled):active,button:not(:disabled):active{transform:translateY(1px)}.utilityButton{font-weight:700;cursor:pointer;user-select:none;position:absolute;font-size:11px;right:0px;top:0px;width:20px;height:20px;z-index:400;color:rgba(85,85,85,.3);background-color:rgba(85,85,85,0)}.utilityButton:hover{color:rgba(85,85,85,.6);background-color:rgba(85,85,85,0)}.dataModalButton{z-index:300;position:absolute;bottom:0px;right:5px;color:#aaa;cursor:pointer}.dataModalButton:hover{color:#e85e29}.concept-mappingsExist{border-right:5px solid #377a16}.concept-mappingsDoNotExist{border-right:5px solid #ffffff}.pointer{cursor:pointer}.starFavorite{color:#b13f13;margin-right:5px}.starFavorite:hover,.starNormal:hover{color:#e85e29}.starNormal{color:rgba(85,85,85,.2);margin-right:5px}.missingDataIndicator{color:#ce1212!important;font-weight:700;display:inline;user-select:none}.selected{background-color:#dacece;font-weight:700}.scrollable{overflow-y:auto}.collapsed>.when-opened,:not(.collapsed)>.when-closed{display:none}::-webkit-scrollbar{-webkit-appearance:none;width:9px;height:9px}::-webkit-scrollbar-thumb{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;box-shadow:inset 0 0 5px 5px #aeaeae;border:solid 1px transparent}.custom-control-label:before{background-color:#f6f3f3!important}.custom-checkbox .custom-control-input:checked~.custom-control-label:before{background-color:#555!important}.popover{max-width:400px!important}.custom-control-label{line-height:16px;padding-top:3px;margin:2px 0}.form-control.is-valid,.form-control.is-invalid{padding-right:8px!important;background-image:none!important}.cocoda-vue-tabs-content{overflow:auto!important}.modal-content,.popover-body{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:.9rem;color:#212121}.btn-primary,.btn-primary:active,.btn-primary:focus{background-color:#b13f13!important;border-color:#9a3711!important}.btn-primary:hover{background-color:#e85e29!important;border-color:#b13f13!important}.btn-success{background-color:#377a16}.btn-success:hover{background-color:#1a390a}.btn-warning{background-color:#dacece}.btn-warning:hover{background-color:#b9a2a2}.btn-danger{background-color:#ce1212}.btn-danger:hover{background-color:#880c0c}.text-success{color:#377a16!important}.text-warning{color:#b9a2a2!important}.text-danger{color:#ce1212!important}.alert-success{color:#1a390a!important;background-color:#eafae2!important;border-color:#55bb21!important}.alert-warning{color:#7d5f5f!important;background-color:#fbfafa!important;border-color:#dacece!important}.alert-danger{color:#880c0c!important;background-color:#facbcb!important;border-color:#f48585!important}.order1{order:1}.order2{order:2}.order3{order:3}.order4{order:4}.order5{order:5}div kbd{background-color:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px rgba(0,0,0,.2),0 0 0 2px #fff inset;color:#333;display:inline-block;font-size:11px;line-height:1.4;margin:0 .1em;padding:.1em .6em}html,body{height:100%;margin:0}#concordanceApp{height:100%;width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;min-width:1220px;min-height:640px}.main{flex:1;position:relative;background-color:#f6f3f3}.flexbox-row{display:flex;position:absolute;top:6px;bottom:5px;left:4px;right:4px;margin:auto}.browser{width:0;flex:1;display:flex;flex-direction:column;min-width:315px}.conceptBrowser{height:0;flex:1;display:flex;flex-direction:column}.conceptBrowserItem{height:0;flex:1;min-height:200px}.conceptBrowserItemDetail{flex:4}.conceptBrowserItemList{flex:6}.mappingTool{width:0;flex:2;display:flex;flex-direction:column;min-width:540px}.mappingToolItem{height:0;min-height:165px}.mappingToolItem>div:first-child{height:100%}#mappingEditorComponent{flex:1}#mappingBrowserComponent{flex:2;min-height:220px}.placeholderComponent{text-align:left;padding:40px 20px 40px 30px}.placeholderComponentCenter>div{text-align:center;position:relative;top:50%;transform:translateY(-50%)}.alertsContainer{position:absolute;top:20px;left:50%;transform:translate(-50%);z-index:800;width:600px}#swapSides{position:absolute;text-align:center;font-size:20px;top:6px;width:50px;left:0;right:0;margin:0 auto;cursor:pointer;user-select:none;color:#555}#swapSides:hover{color:#e85e29}.tooltip{pointer-events:none!important}.cocoda-vue-tabs-header-item.cocoda-vue-tabs-header-item-active{border-bottom-color:#b13f13!important;background-color:#f0f0f0!important}.cocoda-vue-tabs-sm{font-size:.8rem!important}.cocoda-vue-tabs-md{font-size:.9rem!important}.cocoda-vue-tabs-lg{font-size:1.1rem!important}\n",document.head.appendChild(v),{setters:[o=>{t=o.N,r=o.n,i=o.T,n=o.O,a=o.p,s=o.b,l=o.o,c=o.c,p=o._,d=o.Q,m=o.g,h=o.U,g=o.t,f=o.l,u=o.V,b=o.W,x=o.X,w=o.Y}],execute:function(){t.ElementQueries.listen();const o=r({name:"ConcordanceApp",components:{TheNavbar:i,MappingBrowser:n,LoadingIndicatorFull:a},mixins:[s,l,c],data(){return{loaded:!1,loading:!1,loadFromParametersOnce:p.once(this.loadFromParameters)}},computed:{locale(){return this.$i18n.locale},settingsLocale:()=>"en"},watch:{locale(o,e){o!=e&&(this.$store.commit({type:"settings/set",prop:"locale",value:o}),p.delay((()=>{this.insertPrefLabel(!0),this.insertPrefLabel(!1)}),300))},settingsLocale(o){o!=this.locale&&(this.$i18n.locale=o)}},created(){this.load()},methods:{async load(){const o=new Date;this.loadingGlobal=!0,await this.$store.dispatch("loadConfig",p.get(this.$route,"query.config")),await this.$store.dispatch("settings/load"),document.title=this.config.title,this.$i18n.locale=this.settingsLocale,await d(),this.loaded=!0,this.loadingGlobal=!1,this.loadFromParametersOnce(!0);for(let e of this.config.registries)p.isArray(e.schemes)&&(e._jskos.schemes=e.schemes.map((o=>m(o)||o)));this.$log.log(`Application loaded in ${(new Date-o)/1e3} seconds.`)},async loadFromParameters(o=!1){this.loading=!0;const e=this.$route.query,t={scheme:{true:e.fromScheme,false:e.toScheme},concept:{true:e.from,false:e.to}},r=async o=>{let e=t.scheme[o],r=null;e&&(r=m({uri:e}));let i=null;r&&t.concept[o]&&(i=g({uri:t.concept[o]},{scheme:r,type:"concept"}));try{await this.setSelected({concept:i,scheme:r,isLeft:o,noQueryRefresh:!0,noLoading:!0})}catch(n){this.$log.warn(n)}};if(await Promise.all([r(!0),r(!1),(async()=>{if(e.mapping||e.mappingUri||e.mappingIdentifier){let r=null;if(e.mapping)try{r=this.adjustMapping(this.$jskos.normalize(JSON.parse(e.mapping)))}catch(t){this.$log.warn("Error decoding mapping from URL parameter:",t)}p.isEqual(r,{})&&(r=null);let i=[];try{e.mappingUri?i.push(await this.getMapping({uri:e.mappingUri})):e.mappingIdentifier&&(i=await this.getMappings({identifier:e.mappingIdentifier}))}catch(t){this.$log.warn("Error loading mapping from URL parameter:",t)}i=i.filter(Boolean);let n=r,a=null;i.length&&(a=i.find((o=>p.get(o,"_registry").isAuthorizedFor&&p.get(o,"_registry").isAuthorizedFor({type:"mappings",action:"create",user:this.user})))||i[0],n=n||this.adjustMapping(this.$jskos.copyDeep(a))),this.$store.commit({type:"mapping/set",mapping:n,original:a,noQueryRefresh:!0}),f(this.$jskos.conceptsOfMapping(n)),n&&o&&(this.forceMappingBrowser=!0)}})()]),this.loading=!1,h(this.$store),o)if(e.search){let o=JSON.parse(e.search);this.forceMappingBrowser=!0,this.searchMappings(o)}else void 0!==e.concordances?this.showConcordances():(e.mappingUri||e.mappingIdentifier)&&(this.forceMappingBrowser=!0,this.searchMappings())},searchMappings(o){let e=this.$refs.mappingBrowser;e&&e.searchWithParams&&e.searchWithParams(o)},showMappingSearch(){this.forceMappingBrowser=!0,this.searchMappings({})},showConcordances(){let o=this.$refs.mappingBrowser;if(o)if(o.concordancesLoaded)null!=o.tabIndexes.concordances&&(this.forceMappingBrowser=!0,o.tab=o.tabIndexes.concordances);else{let e;this.loadingGlobal=!0,e=this.$watch((()=>o.concordancesLoaded),(()=>{this.loadingGlobal=!1,null!=o.tabIndexes.concordances&&(this.forceMappingBrowser=!0,o.tab=o.tabIndexes.concordances),e&&e()}))}else this.$log.warn("Could not show concordances because MappingBrowser component was not found.")}}},(function(){var o=this,e=o._self._c;return e("div",{staticClass:"font-default",attrs:{id:"concordanceApp"}},[e("div",{staticClass:"alertsContainer"},o._l(o.$store.state.alerts.alerts,(function(t,r){return e("b-alert",{key:r,staticStyle:{display:"flex"},attrs:{variant:t.variant,show:t.countdown||!t.shouldCountdown,dismissible:!t.shouldCountdown,fade:""},on:{dismissed:function(e){return o.$store.commit({type:"alerts/setCountdown",alert:t,countdown:0})},"dismiss-count-down":function(e){return o.$store.commit({type:"alerts/setCountdown",alert:t,countdown:e})}}},[e("div",{staticStyle:{flex:"1"},domProps:{innerHTML:o._s(t.text)}}),t.buttonText?e("div",{staticClass:"fontWeight-heavy"},[e("a",{attrs:{href:""},domProps:{innerHTML:o._s(t.buttonText)},on:{click:function(o){return o.preventDefault(),t.buttonHandler(t,o)}}})]):o._e()])})),1),o.loadingGlobal||o.loading?e("loading-indicator-full"):o._e(),o.loaded?[e("the-navbar",{ref:"navbar",attrs:{title:"Concordances",reduced:!0}}),e("div",{staticClass:"main"},[e("div",{staticClass:"flexbox-row"},[e("div",{staticClass:"mappingTool order3",attrs:{id:"mappingTool"}},[e("div",{staticClass:"mappingToolItem mainComponent visualComponent",attrs:{id:"mappingBrowserComponent"}},[e("mapping-browser",{ref:"mappingBrowser",attrs:{"show-navigator":!1,"show-editing-tools":!1,"show-registry-override":["http://coli-conc.gbv.de/registry/coli-conc-mappings"],"show-cocoda-link":!0}})],1)])])])]:o._e()],2)}),[],!1,null,null,null,null).exports;new u({store:b,router:x,i18n:w,render:e=>e(o)}).$mount("#concordanceApp")}}}));
