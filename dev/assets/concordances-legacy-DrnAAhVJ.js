System.register(["./main-legacy-DTiF4JJ5.js"],(function(o,r){"use strict";var e,t,a,n,i,l,c,s,d,p,g,h,m,u,b,v,f,x;return{setters:[o=>{e=o.N,t=o.n,a=o.T,n=o.O,i=o.p,l=o.b,c=o.o,s=o.c,d=o._,p=o.Q,g=o.g,h=o.U,m=o.t,u=o.l,b=o.V,v=o.W,f=o.X,x=o.Y}],execute:function(){var o=document.createElement("style");o.textContent=":root{--color-primary: hsl(16.71, 80.6%, 38.4%);--color-secondary: 0, 13.9%, 83.1%;--color-black: #212121;--color-success: hsl(100, 70%, 28.24%);--color-warning: hsl(var(--color-secondary));--color-danger: hsl(0, 84%, 44%);--color-primary-dark: hsl(16.7, 80.6%, 33.4%);--color-primary-light: 16.7, 80.6%, 53.4%;--color-primary-opacity: hsla(var(--color-primary-light), .7);--color-secondary-light: 0, 13.9%, 91.1%;--color-secondary-dark: 0, 13.9%, 58.1%;--color-secondary-dark-faded-30: hsla(var(--color-secondary-dark), .3);--color-secondary-dark-faded-65: hsla(var(--color-secondary-dark), .65);--color-success-light: hsl(100, 70%, 43.24%);--color-success-lighter: hsl(100, 70%, 93.24%);--color-success-dark: hsl(100, 70%, 13.24%);--color-warning-light: hsl(0, 13.9%, 98.1%);--color-warning-dark: hsl(0, 13.9%, 68.1%);--color-warning-darker: hsl(0, 13.9%, 43.1%);--color-danger-light: hsl(0, 84%, 59%);--color-danger-lighter-30: hsl(0, 84%, 89%);--color-danger-lighter-15: hsl(0, 84%, 74%);--color-danger-dark: hsl(0, 84%, 29%);--color-text-dark: var(--color-black);--color-text-grey: rgb(74, 74, 74);--color-text-lightGrey: rgb(115, 115, 115);--color-text-mediumLightGrey: rgb(170, 170, 170);--color-text-veryLightGrey: rgb(210, 210, 210);--color-text-veryLightGrey-opacity: rgba(210, 210, 210, .7);--color-background: rgb(255, 255, 255);--color-background-primary: hsl(var(--color-secondary));--color-background-secondary: hsl(0, 15.38%, 94.8%);--color-background-heading: rgb(240, 240, 240);--color-loading-overlay-background: rgba(255, 255, 255, .6);--color-shadow: rgba(0, 0, 0, .2);--color-link: var(--color-primary);--color-link-hover: hsl(var(--color-primary-light));--color-button-hover: hsl(var(--color-primary-light));--color-button: 85, 85, 85;--color-button-faded: rgba(var(--color-button), .8);--color-button-faded-70: rgba(var(--color-button), .7);--color-button-faded-40: rgba(var(--color-button), .4);--color-button-disabled: var(--color-button-faded);--color-button-disabled-faded-80: rgba(var(--color-button), .64);--color-button-disabled-faded-60: rgba(var(--color-button), .48);--color-button-delete: var(--color-danger);--color-button-delete-hover: var(--color-danger-dark);--color--conceptSearch-result-selected: var(--color-primary-dark);--color--mappingBrowser-table-match: hsla(var(--color-secondary-light), .7);--color--mappingBrowser-table-match-hover: hsla(var(--color-secondary-light), .45);--color--mappingBrowser-table-editing: hsla(var(--color-secondary), .4);--color--mappingBrowser-table-editing-hover: hsla(var(--color-secondary), .3);--color--conceptSearch-result-selected-background: var(--color-background-secondary);--color--conceptSearch-searchHighlight: var(--color-secondary-dark);--color--conceptSearch-searchHighlight-selected: var(--color-secondary-dark);--color--itemName-highlighted: var(--color-text-grey);--color--loadingIndicator-border: rgb(243, 243, 243);--color--loadingIndicator-border-top: rgb(52, 152, 219);--color-alert-success: var(--color-text-dark);--color-alert-success-background: rgb(193, 221, 198)}.text-dark{color:var(--color-text-dark)}.text-grey{color:var(--color-text-grey)}.text-lightGrey{color:var(--color-text-lightGrey)}.text-mediumLightGrey{color:var(--color-text-mediumLightGrey)}.text-veryLightGrey{color:var(--color-text-veryLightGrey)}.fontWeight-medium{font-weight:500}.fontWeight-heavy{font-weight:700}.font-italic{font-style:italic}.fontSize-verySmall{font-size:.75rem}.fontSize-small{font-size:.8rem}.fontSize-normal{font-size:.9rem}.fontSize-large{font-size:1.1rem}.font-default{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:.9rem;color:var(--color-text-dark)}.u-flip-horizontal{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.u-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.u-textBreak{word-break:break-all}.fillAndCenter{position:absolute;overflow-y:auto;width:100%;height:100%;top:0;left:0;z-index:300;display:flex;flex-direction:column;justify-content:center;align-items:center}*{scrollbar-width:thin}.mainComponent{position:relative}.mainComponent-minimized{overflow:hidden}.mainComponent>.minimizer>.minimizeButton{display:none}.mainComponent:hover>.minimizer>.minimizeButton{display:block}.visualComponent{background-color:var(--color-background);margin:4px;box-shadow:0 1px 2px 0 var(--color-shadow);padding:5px}.componentTitle{letter-spacing:.2em;font-weight:700;text-align:center}.table-wrapper{position:relative;flex:1 1 auto;height:0;margin:10px auto 5px;max-width:97%}.table{display:flex;flex-direction:column;width:100%;height:98%;overflow:hidden;text-align:center}.table-head{display:block;flex:0 0 auto;overflow-y:auto;overflow:hidden}.table-body{display:block;flex:1 1 auto;overflow:auto}p{margin:3px 0!important}a:link,a:visited,a:active{color:var(--color-link)}a:hover,.alert a:hover{text-decoration:none;color:var(--color-link-hover)}.page-link{color:var(--color-link)!important}.page-item.disabled>.page-link{color:var(--color-text-lightGrey)!important}.page-link:hover{color:var(--color-link-hover)!important}ul{padding-left:20px}h1{font-size:1.85rem}h2{font-size:1.7rem}h3{font-size:1.55rem}h4{font-size:1.35rem}h5{font-size:1.25rem}h6{font-size:1.2rem}.button{cursor:pointer;user-select:none;vertical-align:middle;color:rgb(var(--color-button))}.button:hover{color:var(--color-button-hover)}.button-disabled{user-select:none;vertical-align:middle;color:var(--color-button-disabled)}.button-delete{cursor:pointer;user-select:none;vertical-align:middle;color:rgb(var(--color-button));transition:all .2s ease-in-out;color:var(--color-button-delete)}.button-delete:hover{color:var(--color-button-delete-hover)}.button,button{transition:all .2s ease-in-out}.button:not(.button-disabled):active,button:not(:disabled):active{transform:translateY(1px)}.utilityButton{font-weight:700;cursor:pointer;user-select:none;position:absolute;font-size:11px;right:0;top:0;width:20px;height:20px;z-index:400;color:var(--color-button-faded-70);background-color:var(--color-button-disabled-faded-80)}.utilityButton:hover{color:var(--color-button-faded-40);background-color:var(--color-button-disabled-faded-60)}.dataModalButton{z-index:300;position:absolute;bottom:0;right:5px;color:var(--color-text-mediumLightGrey);cursor:pointer}.dataModalButton:hover{color:var(--color-button-hover)}.concept-mappingsExist{border-right:5px solid var(--color-success)}.concept-mappingsDoNotExist{border-right:5px solid var(--color-background)}.pointer{cursor:pointer}.starFavorite{color:var(--color-primary);margin-right:5px}.starFavorite:hover,.starNormal:hover{color:var(--color-button-hover)}.starNormal{color:var(--color-button-faded);margin-right:5px}.missingDataIndicator{color:var(--color-danger)!important;font-weight:700;display:inline;user-select:none}.selected{background-color:hsl(var(--color-secondary));font-weight:700}.scrollable{overflow-y:auto}.collapsed>.when-opened,:not(.collapsed)>.when-closed{display:none}::-webkit-scrollbar{-webkit-appearance:none;width:9px;height:9px}::-webkit-scrollbar-thumb{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;box-shadow:inset 0 0 5px 5px #aeaeae;border:solid 1px transparent}.custom-control-label:before{background-color:var(--color-background-secondary)!important}.custom-checkbox .custom-control-input:checked~.custom-control-label:before{background-color:var(--color-button)!important}.popover{max-width:400px!important}.custom-control-label{line-height:16px;padding-top:3px;margin:2px 0}.form-control.is-valid,.form-control.is-invalid{padding-right:8px!important;background-image:none!important}.cocoda-vue-tabs-content{overflow:auto!important}.modal-content,.popover-body{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:.9rem;color:var(--color-text-dark)}.btn-primary,.btn-primary:active,.btn-primary:focus{background-color:var(--color-primary)!important;border-color:var(--color-primary-dark)!important}.btn-primary:hover{background-color:hsl(var(--color-primary-light))!important;border-color:var(--color-primary)!important}.btn-success{background-color:var(--color-success)}.btn-success:hover{background-color:var(--color-success-dark)}.btn-warning{background-color:var(--color-warning)}.btn-warning:hover{background-color:var(--color-warning-dark)}.btn-danger{background-color:var(--color-danger)}.btn-danger:hover{background-color:var(--color-danger-dark)}.text-success{color:var(--color-success)!important}.text-warning{color:var(--color-warning-dark)!important}.text-danger{color:var(--color-danger)!important}.alert-success{color:var(--color-success-dark)!important;background-color:var(---color-success-lighter)!important;border-color:var(--color-success-light)!important}.alert-warning{color:var(--color-warning-darker)!important;background-color:var(--color-warning-light)!important;border-color:var(--color-warning)!important}.alert-danger{color:var(--color-danger-dark)!important;background-color:var(--color-danger-lighter-30)!important;border-color:var(--color-danger-lighter-15)!important}.order1{order:1}.order2{order:2}.order3{order:3}.order4{order:4}.order5{order:5}.tooltip{top:0}div kbd{background-color:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 var(--color-shadow),0 0 0 2px #fff inset;color:#333;display:inline-block;font-size:11px;line-height:1.4;margin:0 .1em;padding:.1em .6em}html,body{height:100%;margin:0}#concordanceApp{height:100%;width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;min-width:1220px;min-height:640px}.main{flex:1;position:relative;background-color:var(--color-background-secondary)}.flexbox-row{display:flex;position:absolute;top:6px;bottom:5px;left:4px;right:4px;margin:auto}.browser{width:0;flex:1;display:flex;flex-direction:column;min-width:315px}.conceptBrowser{height:0;flex:1;display:flex;flex-direction:column}.conceptBrowserItem{height:0;flex:1;min-height:200px}.conceptBrowserItemDetail{flex:4}.conceptBrowserItemList{flex:6}.mappingTool{width:0;flex:2;display:flex;flex-direction:column;min-width:540px}.mappingToolItem{height:0;min-height:165px}.mappingToolItem>div:first-child{height:100%}#mappingEditorComponent{flex:1}#mappingBrowserComponent{flex:2;min-height:220px}.placeholderComponent{text-align:left;padding:40px 20px 40px 30px}.placeholderComponentCenter>div{text-align:center;position:relative;top:50%;transform:translateY(-50%)}.alertsContainer{position:absolute;top:20px;left:50%;transform:translate(-50%);z-index:800;width:600px}#swapSides{position:absolute;text-align:center;font-size:20px;top:6px;width:50px;left:0;right:0;margin:0 auto;cursor:pointer;user-select:none;color:rgb(var(--color-button))}#swapSides:hover{color:var(--color-button-hover)}.tooltip{pointer-events:none!important}.cocoda-vue-tabs-header-item.cocoda-vue-tabs-header-item-active{border-bottom-color:var(--color-primary)!important;background-color:var(--color-background-heading)!important}.cocoda-vue-tabs-sm{font-size:.8rem!important}.cocoda-vue-tabs-md{font-size:.9rem!important}.cocoda-vue-tabs-lg{font-size:1.1rem!important}\n/*$vite$:1*/",document.head.appendChild(o),e.ElementQueries.listen();const r=t({name:"ConcordanceApp",components:{TheNavbar:a,MappingBrowser:n,LoadingIndicatorFull:i},mixins:[l,c,s],data(){return{loaded:!1,loading:!1,loadFromParametersOnce:d.once(this.loadFromParameters)}},computed:{locale(){return this.$i18n.locale},settingsLocale:()=>"en"},watch:{locale(o,r){o!=r&&(this.$store.commit({type:"settings/set",prop:"locale",value:o}),d.delay((()=>{this.insertPrefLabel(!0),this.insertPrefLabel(!1)}),300))},settingsLocale(o){o!=this.locale&&(this.$i18n.locale=o)}},created(){this.load()},methods:{async load(){const o=new Date;this.loadingGlobal=!0,await this.$store.dispatch("loadConfig",d.get(this.$route,"query.config")),await this.$store.dispatch("settings/load"),document.title=this.config.title,this.$i18n.locale=this.settingsLocale,await p(),this.loaded=!0,this.loadingGlobal=!1,this.loadFromParametersOnce(!0);for(let r of this.config.registries)d.isArray(r.schemes)&&(r._jskos.schemes=r.schemes.map((o=>g(o)||o)));this.$log.log(`Application loaded in ${(new Date-o)/1e3} seconds.`)},async loadFromParameters(o=!1){this.loading=!0;const r=this.$route.query,e={scheme:{true:r.fromScheme,false:r.toScheme},concept:{true:r.from,false:r.to}},t=async o=>{let r=e.scheme[o],t=null;r&&(t=g({uri:r}));let a=null;t&&e.concept[o]&&(a=m({uri:e.concept[o]},{scheme:t,type:"concept"}));try{await this.setSelected({concept:a,scheme:t,isLeft:o,noQueryRefresh:!0,noLoading:!0})}catch(n){this.$log.warn(n)}};if(await Promise.all([t(!0),t(!1),(async()=>{if(r.mapping||r.mappingUri||r.mappingIdentifier){let t=null;if(r.mapping)try{t=this.adjustMapping(this.$jskos.normalize(JSON.parse(r.mapping)))}catch(e){this.$log.warn("Error decoding mapping from URL parameter:",e)}d.isEqual(t,{})&&(t=null);let a=[];try{r.mappingUri?a.push(await this.getMapping({uri:r.mappingUri})):r.mappingIdentifier&&(a=await this.getMappings({identifier:r.mappingIdentifier}))}catch(e){this.$log.warn("Error loading mapping from URL parameter:",e)}a=a.filter(Boolean);let n=t,i=null;a.length&&(i=a.find((o=>d.get(o,"_registry").isAuthorizedFor&&d.get(o,"_registry").isAuthorizedFor({type:"mappings",action:"create",user:this.user})))||a[0],n=n||this.adjustMapping(this.$jskos.copyDeep(i))),this.$store.commit({type:"mapping/set",mapping:n,original:i,noQueryRefresh:!0}),u(this.$jskos.conceptsOfMapping(n)),n&&o&&(this.forceMappingBrowser=!0)}})()]),this.loading=!1,h(this.$store),o)if(r.search){let o=JSON.parse(r.search);this.forceMappingBrowser=!0,this.searchMappings(o)}else void 0!==r.concordances?this.showConcordances():(r.mappingUri||r.mappingIdentifier)&&(this.forceMappingBrowser=!0,this.searchMappings())},searchMappings(o){let r=this.$refs.mappingBrowser;r&&r.searchWithParams&&r.searchWithParams(o)},showMappingSearch(){this.forceMappingBrowser=!0,this.searchMappings({})},showConcordances(){let o=this.$refs.mappingBrowser;if(o)if(o.concordancesLoaded)null!=o.tabIndexes.concordances&&(this.forceMappingBrowser=!0,o.tab=o.tabIndexes.concordances);else{let r;this.loadingGlobal=!0,r=this.$watch((()=>o.concordancesLoaded),(()=>{this.loadingGlobal=!1,null!=o.tabIndexes.concordances&&(this.forceMappingBrowser=!0,o.tab=o.tabIndexes.concordances),r&&r()}))}else this.$log.warn("Could not show concordances because MappingBrowser component was not found.")}}},(function(){var o=this,r=o._self._c;return r("div",{staticClass:"font-default",attrs:{id:"concordanceApp"}},[r("div",{staticClass:"alertsContainer"},o._l(o.$store.state.alerts.alerts,(function(e,t){return r("b-alert",{key:t,staticStyle:{display:"flex"},attrs:{variant:e.variant,show:e.countdown||!e.shouldCountdown,dismissible:!e.shouldCountdown,fade:""},on:{dismissed:function(r){return o.$store.commit({type:"alerts/setCountdown",alert:e,countdown:0})},"dismiss-count-down":function(r){return o.$store.commit({type:"alerts/setCountdown",alert:e,countdown:r})}}},[r("div",{staticStyle:{flex:"1"},domProps:{innerHTML:o._s(e.text)}}),e.buttonText?r("div",{staticClass:"fontWeight-heavy"},[r("a",{attrs:{href:""},domProps:{innerHTML:o._s(e.buttonText)},on:{click:function(o){return o.preventDefault(),e.buttonHandler(e,o)}}})]):o._e()])})),1),o.loadingGlobal||o.loading?r("loading-indicator-full"):o._e(),o.loaded?[r("the-navbar",{ref:"navbar",attrs:{title:"Concordances",reduced:!0}}),r("div",{staticClass:"main"},[r("div",{staticClass:"flexbox-row"},[r("div",{staticClass:"mappingTool order3",attrs:{id:"mappingTool"}},[r("div",{staticClass:"mappingToolItem mainComponent visualComponent",attrs:{id:"mappingBrowserComponent"}},[r("mapping-browser",{ref:"mappingBrowser",attrs:{"show-navigator":!1,"show-editing-tools":!1,"show-registry-override":["http://coli-conc.gbv.de/registry/coli-conc-mappings"],"show-cocoda-link":!0}})],1)])])])]:o._e()],2)}),[],!1,null,null).exports;new b({store:v,router:f,i18n:x,render:o=>o(r)}).$mount("#concordanceApp")}}}));
