System.register(["./main-legacy-Yl4eDzM5.js"],(function(o,r){"use strict";var e,t,a,l,n,c,i,s,d,p,h,g,m,v,u,f,b,y;return{setters:[o=>{e=o.N,t=o.n,a=o.T,l=o.O,n=o.p,c=o.b,i=o.o,s=o.c,d=o._,p=o.Q,h=o.g,g=o.U,m=o.t,v=o.l,u=o.V,f=o.W,b=o.X,y=o.Y}],execute:function(){var o=document.createElement("style");o.textContent=":root{--color-primary-h: 17;--color-primary-s: 81%;--color-primary-l: 38%;--color-secondary-h: 0;--color-secondary-s: 14%;--color-secondary-l: 83%;--color-text-h: 0;--color-text-s: 0%;--color-text-l: 13%;--color-button-h: 0;--color-button-s: 0%;--color-button-l: 33%;--color-danger-h: 0;--color-danger-s: 84%;--color-danger-l: 44%;--color-success-h: 100;--color-success-s: 70%;--color-success-l: 28%;--color-background: #f4f0f0;--color-background-component: #fff;--color-background-component-heading: #f0f0f0;--color-primary: hsl(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l));--color-secondary-hsl: var(--color-secondary-h), var(--color-secondary-s), var(--color-secondary-l);--color-secondary: hsl(var(--color-secondary-hsl));--color-background-navbar: var(--color-secondary);--color-primary-dark: hsl(var(--color-primary-h), var(--color-primary-s), calc(var(--color-primary-l) * .95));--color-primary-light: hsl(var(--color-primary-h), var(--color-primary-s), calc(var(--color-primary-l) * 1.15));--color-primary-opacity: hsla(var(--color-primary-h), var(--color-primary-s), calc(var(--color-primary-l) * 1.15), .7);--color-secondary-light: var(--color-secondary-h), var(--color-secondary-s), calc(var(--color-secondary-l) * 1.08);--color-secondary-dark: var(--color-secondary-h), var(--color-secondary-s), calc(var(--color-secondary-l) * .75);--color-secondary-dark-faded-30: hsla(var(--color-secondary-dark), .3);--color-secondary-dark-faded-65: hsla(var(--color-secondary-dark), .65);--color-success: hsl(var(--color-success-h), var(--color-success-s), var(--color-success-l));--color-success-dark: hsl(var(--color-success-h), var(--color-success-s), calc(var(--color-success-l) * .5));--color-success-light: hsl(var(--color-success-h), var(--color-success-s), calc(var(--color-success-l) * 1.5));--color-success-lighter: hsl(var(--color-success-h), var(--color-success-s), calc(var(--color-success-l) * 3));--color-warning: hsl(var(--color-secondary-hsl));--color-warning-light: hsl(var(--color-secondary-h), var(--color-secondary-s), calc(var(--color-secondary-l) * 1.15));--color-warning-dark: hsl(var(--color-secondary-h), var(--color-secondary-s), calc(var(--color-secondary-l) * .85));--color-warning-darker: hsl(var(--color-secondary-h), var(--color-secondary-s), calc(var(--color-secondary-l) * .75));--color-danger: hsl(var(--color-danger-h), var(--color-danger-s), var(--color-danger-l));--color-danger-dark: hsl(var(--color-danger-h), var(--color-danger-s), calc(var(--color-danger-l) * .65));--color-danger-light: hsl(var(--color-danger-h), var(--color-danger-s), calc(var(--color-danger-l) * 1.68));--color-danger-lighter: hsl(var(--color-danger-h), var(--color-danger-s), calc(var(--color-danger-l) * 2));--color-text: hsl(var(--color-text-h), var(--color-text-s), var(--color-text-l));--color-text-grey: hsl(var(--color-text-h), var(--color-text-s), 29%);--color-text-lightGrey: hsl(var(--color-text-h), var(--color-text-s), 45%);--color-text-veryLightGrey: hsl(var(--color-text-h), var(--color-text-s), 82%);--color-text-veryLightGrey-opacity: hsla(var(--color-text-h), var(--color-text-s), 82%, .7);--color-button-hsl: var(--color-button-h), var(--color-button-s), var(--color-button-l);--color-button-hover: var(--color-primary-light);--color-button: hsl(var(--color-button-hsl));--color-button-light: hsla(var(--color-button-hsl), .8);--color-button-lighter: hsla(var(--color-button-hsl), .4);--color-button-delete: var(--color-danger);--color-button-delete-hover: var(--color-danger-dark);--color-shadow: rgba(0, 0, 0, .2);--color-loading-overlay-background: rgba(255, 255, 255, .6);--color-link: var(--color-primary);--color-link-hover: var(--color-primary-light);--color--conceptSearch-result-selected: var(--color-primary-dark);--color--mappingBrowser-table-match: hsla(var(--color-secondary-light), .7);--color--mappingBrowser-table-match-hover: hsla(var(--color-secondary-light), .45);--color--mappingBrowser-table-editing: hsla(var(--color-secondary-hsl), .4);--color--mappingBrowser-table-editing-hover: hsla(var(--color-secondary-hsl), .3);--color--conceptSearch-result-selected-background: var(--color-background);--color--conceptSearch-searchHighlight: var(--color-secondary-dark);--color--conceptSearch-searchHighlight-selected: var(--color-secondary-dark);--color--itemName-highlighted: var(--color-text-grey);--color--loadingIndicator-border: var(--color-background);--color--loadingIndicator-border-top: var(--color-primary);--color-alert-success: var(--color-text)}:root{--font-size-large: 1.1rem;--font-size-normal: .9rem;--font-size-small: .8rem;--font-size-tiny: .75rem;--font-weight-medium: 500;--font-weight-heavy: 700}.text-dark{color:var(--color-text)}.text-lightGrey{color:var(--color-text-lightGrey)}.text-veryLightGrey{color:var(--color-text-veryLightGrey)}.fontWeight-medium{font-weight:var(--font-weight-medium)}.fontWeight-heavy{font-weight:var(--font-weight-heavy)}.font-italic{font-style:italic}.fontSize-verySmall{font-size:var(--font-size-tiny)}.fontSize-small{font-size:var(--font-size-small)}.fontSize-normal{font-size:var(--font-size-normal)}.fontSize-large{font-size:var(--font-size-large)}.font-default{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--font-size-normal);color:var(--color-text)}.u-flip-horizontal{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.u-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.u-textBreak{word-break:break-all}.fillAndCenter{position:absolute;overflow-y:auto;width:100%;height:100%;top:0;left:0;z-index:300;display:flex;flex-direction:column;justify-content:center;align-items:center}*{scrollbar-width:thin}.mainComponent{position:relative}.mainComponent-minimized{overflow:hidden}.mainComponent>.minimizer>.minimizeButton{display:none}.mainComponent:hover>.minimizer>.minimizeButton{display:block}.visualComponent{background-color:var(--color-background-component);margin:4px;box-shadow:0 1px 2px 0 var(--color-shadow);padding:5px}.componentTitle{letter-spacing:.2em;font-weight:var(--font-weight-heavy);text-align:center}.table-wrapper{position:relative;flex:1 1 auto;height:0;margin:10px auto 5px;max-width:97%}.table{display:flex;flex-direction:column;width:100%;height:98%;overflow:hidden;text-align:center}.table-head{display:block;flex:0 0 auto;overflow-y:auto;overflow:hidden}.table-body{display:block;flex:1 1 auto;overflow:auto}p{margin:3px 0!important}a:link,a:visited,a:active{color:var(--color-link)}a:hover,.alert a:hover{text-decoration:none;color:var(--color-link-hover)}.page-link{color:var(--color-link)!important}.page-item.disabled>.page-link{color:var(--color-text-lightGrey)!important}.page-link:hover{color:var(--color-link-hover)!important}ul{padding-left:20px}h1{font-size:1.85rem}h2{font-size:1.7rem}h3{font-size:1.55rem}h4{font-size:1.35rem}h5{font-size:1.25rem}h6{font-size:1.2rem}.button{cursor:pointer;user-select:none;vertical-align:middle;color:var(--color-button)}.button:hover{color:var(--color-button-hover)}.button-disabled{user-select:none;vertical-align:middle;color:var(--color-button-lighter)}.button-delete{cursor:pointer;user-select:none;vertical-align:middle;color:var(--color-button);transition:all .2s ease-in-out;color:var(--color-button-delete)}.button-delete:hover{color:var(--color-button-delete-hover)}.button,button{transition:all .2s ease-in-out}.button:not(.button-disabled):active,button:not(:disabled):active{transform:translateY(1px)}.dataModalButton{z-index:300;position:absolute;bottom:0;right:5px;color:var(--color-button-light);cursor:pointer}.dataModalButton:hover{color:var(--color-button-hover)}.concept-mappingsExist{border-right:5px solid var(--color-success)}.concept-mappingsDoNotExist{border-right:5px solid var(--color-background-component)}.pointer{cursor:pointer}.starFavorite{color:var(--color-primary);margin-right:5px}.starFavorite:hover,.starNormal:hover{color:var(--color-button-hover)}.starNormal{color:var(--color-button);margin-right:5px}.missingDataIndicator{background:var(--color-danger);display:inline;user-select:none;border-radius:50%;display:inline-block;height:.5em;width:.5em;margin-left:.5em;margin-right:.5em}.selected{background-color:var(--color-secondary);font-weight:var(--font-weight-heavy)}.scrollable{overflow-y:auto}.collapsed>.when-opened,:not(.collapsed)>.when-closed{display:none}::-webkit-scrollbar{-webkit-appearance:none;width:9px;height:9px}::-webkit-scrollbar-thumb{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;box-shadow:inset 0 0 5px 5px #aeaeae;border:solid 1px transparent}.custom-control-label:before{background-color:var(--color-background)!important}.custom-checkbox .custom-control-input:checked~.custom-control-label:before{background-color:var(--color-button)!important}.popover{max-width:400px!important}.custom-control-label{line-height:16px;padding-top:3px;margin:2px 0}.form-control.is-valid,.form-control.is-invalid{padding-right:8px!important;background-image:none!important}.cocoda-vue-tabs-content{overflow:auto!important}.popover-body{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--font-size-normal);color:var(--color-text)}.btn-primary,.btn-primary:active,.btn-primary:focus{background-color:var(--color-primary)!important;border-color:var(--color-primary-dark)!important}.btn-primary:hover{background-color:var(--color-primary-light)!important;border-color:var(--color-primary)!important}.btn-success{background-color:var(--color-success)}.btn-success:hover{background-color:var(--color-success-dark)}.btn-warning{background-color:var(--color-warning)}.btn-warning:hover{background-color:var(--color-warning-dark)}.btn-danger{background-color:var(--color-danger)}.btn-danger:hover{background-color:var(--color-danger-dark)}.text-success{color:var(--color-success)!important}.text-warning{color:var(--color-warning-dark)!important}.text-danger{color:var(--color-danger)!important}.alert-success{color:var(--color-success-dark)!important;background-color:var(--color-success-lighter)!important;border-color:var(--color-success-light)!important}.alert-warning{color:var(--color-warning-darker)!important;background-color:var(--color-warning-light)!important;border-color:var(--color-warning)!important}.alert-danger{color:var(--color-danger-dark)!important;background-color:var(--color-danger-lighter)!important;border-color:var(--color-danger-light)!important}.order1{order:1}.order2{order:2}.order3{order:3}.order4{order:4}.order5{order:5}.tooltip{top:0}div kbd{background-color:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 var(--color-shadow),0 0 0 2px #fff inset;color:#333;display:inline-block;font-size:11px;line-height:1.4;margin:0 .1em;padding:.1em .6em}html,body{height:100%;margin:0}#concordanceApp{height:100%;width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;min-width:1220px;min-height:640px}.main{flex:1;position:relative;background-color:var(--color-background)}.flexbox-row{display:flex;position:absolute;top:6px;bottom:5px;left:4px;right:4px;margin:auto}.browser{width:0;flex:1;display:flex;flex-direction:column;min-width:315px}.conceptBrowser{height:0;flex:1;display:flex;flex-direction:column}.conceptBrowserItem{height:0;flex:1;min-height:200px}.conceptBrowserItemDetail{flex:4}.conceptBrowserItemList{flex:6}.mappingTool{width:0;flex:2;display:flex;flex-direction:column;min-width:540px}.mappingToolItem{height:0;min-height:165px}.mappingToolItem>div:first-child{height:100%}#mappingEditorComponent{flex:1}#mappingBrowserComponent{flex:2;min-height:220px}.placeholderComponent{text-align:left;padding:40px 20px 40px 30px}.placeholderComponentCenter>div{text-align:center;position:relative;top:50%;transform:translateY(-50%)}.alertsContainer{position:absolute;top:20px;left:50%;transform:translate(-50%);z-index:800;width:600px}#swapSides{position:absolute;text-align:center;font-size:20px;top:6px;width:50px;left:0;right:0;margin:0 auto;cursor:pointer;user-select:none;color:var(--color-button)}#swapSides:hover{color:var(--color-button-hover)}.tooltip{pointer-events:none!important}.cocoda-vue-tabs-header-item.cocoda-vue-tabs-header-item-active{border-bottom-color:var(--color-primary)!important;background-color:var(--color-background-component-heading)!important}.cocoda-vue-tabs-sm{font-size:.8rem!important}.cocoda-vue-tabs-md{font-size:.9rem!important}.cocoda-vue-tabs-lg{font-size:1.1rem!important}\n/*$vite$:1*/",document.head.appendChild(o),e.ElementQueries.listen();const r=t({name:"ConcordanceApp",components:{TheNavbar:a,MappingBrowser:l,LoadingIndicatorFull:n},mixins:[c,i,s],data(){return{loaded:!1,loading:!1,loadFromParametersOnce:d.once(this.loadFromParameters)}},computed:{locale(){return this.$i18n.locale},settingsLocale:()=>"en"},watch:{locale(o,r){o!=r&&(this.$store.commit({type:"settings/set",prop:"locale",value:o}),d.delay((()=>{this.insertPrefLabel(!0),this.insertPrefLabel(!1)}),300))},settingsLocale(o){o!=this.locale&&(this.$i18n.locale=o)}},created(){this.load()},methods:{async load(){const o=new Date;this.loadingGlobal=!0,await this.$store.dispatch("loadConfig",d.get(this.$route,"query.config")),await this.$store.dispatch("settings/load"),document.title=this.config.title,this.$i18n.locale=this.settingsLocale,await p(),this.loaded=!0,this.loadingGlobal=!1,this.loadFromParametersOnce(!0);for(let r of this.config.registries)d.isArray(r.schemes)&&(r._jskos.schemes=r.schemes.map((o=>h(o)||o)));this.$log.log(`Application loaded in ${(new Date-o)/1e3} seconds.`)},async loadFromParameters(o=!1){this.loading=!0;const r=this.$route.query,e={scheme:{true:r.fromScheme,false:r.toScheme},concept:{true:r.from,false:r.to}},t=async o=>{let r=e.scheme[o],t=null;r&&(t=h({uri:r}));let a=null;t&&e.concept[o]&&(a=m({uri:e.concept[o]},{scheme:t,type:"concept"}));try{await this.setSelected({concept:a,scheme:t,isLeft:o,noQueryRefresh:!0,noLoading:!0})}catch(l){this.$log.warn(l)}};if(await Promise.all([t(!0),t(!1),(async()=>{if(r.mapping||r.mappingUri||r.mappingIdentifier){let t=null;if(r.mapping)try{t=this.adjustMapping(this.$jskos.normalize(JSON.parse(r.mapping)))}catch(e){this.$log.warn("Error decoding mapping from URL parameter:",e)}d.isEqual(t,{})&&(t=null);let a=[];try{r.mappingUri?a.push(await this.getMapping({uri:r.mappingUri})):r.mappingIdentifier&&(a=await this.getMappings({identifier:r.mappingIdentifier}))}catch(e){this.$log.warn("Error loading mapping from URL parameter:",e)}a=a.filter(Boolean);let l=t,n=null;a.length&&(n=a.find((o=>d.get(o,"_registry").isAuthorizedFor&&d.get(o,"_registry").isAuthorizedFor({type:"mappings",action:"create",user:this.user})))||a[0],l=l||this.adjustMapping(this.$jskos.copyDeep(n))),this.$store.commit({type:"mapping/set",mapping:l,original:n,noQueryRefresh:!0}),v(this.$jskos.conceptsOfMapping(l)),l&&o&&(this.forceMappingBrowser=!0)}})()]),this.loading=!1,g(this.$store),o)if(r.search){let o=JSON.parse(r.search);this.forceMappingBrowser=!0,this.searchMappings(o)}else void 0!==r.concordances?this.showConcordances():(r.mappingUri||r.mappingIdentifier)&&(this.forceMappingBrowser=!0,this.searchMappings())},searchMappings(o){let r=this.$refs.mappingBrowser;r&&r.searchWithParams&&r.searchWithParams(o)},showMappingSearch(){this.forceMappingBrowser=!0,this.searchMappings({})},showConcordances(){let o=this.$refs.mappingBrowser;if(o)if(o.concordancesLoaded)null!=o.tabIndexes.concordances&&(this.forceMappingBrowser=!0,o.tab=o.tabIndexes.concordances);else{let r;this.loadingGlobal=!0,r=this.$watch((()=>o.concordancesLoaded),(()=>{this.loadingGlobal=!1,null!=o.tabIndexes.concordances&&(this.forceMappingBrowser=!0,o.tab=o.tabIndexes.concordances),r&&r()}))}else this.$log.warn("Could not show concordances because MappingBrowser component was not found.")}}},(function(){var o=this,r=o._self._c;return r("div",{staticClass:"font-default",attrs:{id:"concordanceApp"}},[r("div",{staticClass:"alertsContainer"},o._l(o.$store.state.alerts.alerts,(function(e,t){return r("b-alert",{key:t,staticStyle:{display:"flex"},attrs:{variant:e.variant,show:e.countdown||!e.shouldCountdown,dismissible:!e.shouldCountdown,fade:""},on:{dismissed:function(r){return o.$store.commit({type:"alerts/setCountdown",alert:e,countdown:0})},"dismiss-count-down":function(r){return o.$store.commit({type:"alerts/setCountdown",alert:e,countdown:r})}}},[r("div",{staticStyle:{flex:"1"},domProps:{innerHTML:o._s(e.text)}}),e.buttonText?r("div",{staticClass:"fontWeight-heavy"},[r("a",{attrs:{href:""},domProps:{innerHTML:o._s(e.buttonText)},on:{click:function(o){return o.preventDefault(),e.buttonHandler(e,o)}}})]):o._e()])})),1),o.loadingGlobal||o.loading?r("loading-indicator-full"):o._e(),o.loaded?[r("the-navbar",{ref:"navbar",attrs:{title:"Concordances",reduced:!0}}),r("div",{staticClass:"main"},[r("div",{staticClass:"flexbox-row"},[r("div",{staticClass:"mappingTool order3",attrs:{id:"mappingTool"}},[r("div",{staticClass:"mappingToolItem mainComponent visualComponent",attrs:{id:"mappingBrowserComponent"}},[r("mapping-browser",{ref:"mappingBrowser",attrs:{"show-navigator":!1,"show-editing-tools":!1,"show-registry-override":["http://coli-conc.gbv.de/registry/coli-conc-mappings"],"show-cocoda-link":!0}})],1)])])])]:o._e()],2)}),[],!1,null,null).exports;new u({store:f,router:b,i18n:y,render:o=>o(r)}).$mount("#concordanceApp")}}}));
