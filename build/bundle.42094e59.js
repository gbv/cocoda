!function(e){function t(E){for(var z,V,U=E[0],W=E[1],G=E[2],K=0,q=[];K<U.length;K++)V=U[K],Object.prototype.hasOwnProperty.call(B,V)&&B[V]&&q.push(B[V][0]),B[V]=0;for(z in W)Object.prototype.hasOwnProperty.call(W,z)&&(e[z]=W[z]);for(H&&H(E);q.length;)q.shift()();return P.push.apply(P,G||[]),n()}function n(){for(var e,E=0;E<P.length;E++){for(var z=P[E],V=!0,U=1;U<z.length;U++){var H=z[U];0!==B[H]&&(V=!1)}V&&(P.splice(E--,1),e=s(s.s=z[0]))}return e}var E={},B={main:0},P=[];function s(B){if(E[B])return E[B].exports;var P=E[B]={i:B,l:!1,exports:{}};return e[B].call(P.exports,P,P.exports,s),P.l=!0,P.exports}s.e=function(e){var E=[],P=B[e];if(0!==P)if(P)E.push(P[2]);else{var z=new Promise((function(E,z){P=B[e]=[E,z]}));E.push(P[2]=z);var V,U=document.createElement("script");U.charset="utf-8",U.timeout=120,s.nc&&U.setAttribute("nonce",s.nc),U.src=function a(e){return s.p+"build/"+({compiler:"compiler"}[e]||e)+"."+{compiler:"ba323f5f"}[e]+".js"}(e);var H=new Error;V=function(E){U.onerror=U.onload=null,clearTimeout(W);var P=B[e];if(0!==P){if(P){var z=E&&("load"===E.type?"missing":E.type),V=E&&E.target&&E.target.src;H.message="Loading chunk "+e+" failed.\n("+z+": "+V+")",H.name="ChunkLoadError",H.type=z,H.request=V,P[1](H)}B[e]=void 0}};var W=setTimeout((function(){V({type:"timeout",target:U})}),12e4);U.onerror=U.onload=V,document.head.appendChild(U)}return Promise.all(E)},s.m=e,s.c=E,s.d=function(e,E,B){s.o(e,E)||Object.defineProperty(e,E,{enumerable:!0,get:B})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,E){if(1&E&&(e=s(e)),8&E)return e;if(4&E&&"object"==typeof e&&e&&e.__esModule)return e;var B=Object.create(null);if(s.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:e}),2&E&&"string"!=typeof e)for(var P in e)s.d(B,P,function(E){return e[E]}.bind(null,P));return B},s.n=function(e){var E=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(E,"a",E),E},s.o=function(e,E){return Object.prototype.hasOwnProperty.call(e,E)},s.p="",s.oe=function(e){throw console.error(e),e};var z=window.webpackJsonp=window.webpackJsonp||[],V=z.push.bind(z);z.push=t,z=z.slice();for(var U=0;U<z.length;U++)t(z[U]);var H=V;P.push([0,"chunk-vendors"]),n()}({0:function(e,E,B){B("5b68"),e.exports=B("0c47")},"00a0":function(e,E,B){e.exports={description:"Component that represents a (navigatable) concept list.",tags:{},exportName:"default",displayName:"ConceptList",props:[{name:"buttons",description:"List of buttons (array of objects with props `position`, `icon`, and `onClick`).",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"concepts",description:"List of concepts to be shown.",type:{name:"array"},defaultValue:{func:!1,value:"[null]"}},{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"noItemsLabel",description:"Optional label to show when there are no items.",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"showChildren",description:"Whether to show children of concepts, i.e. a concept hierarchy.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showScheme",description:"Whether to show the scheme in front of concepts.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"shown",description:"Whether the list is currently on screen.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"0229":function(e,E,B){},"0397":function(e,E,B){"use strict";B("9fce")},"0cf9":function(e,E,B){e.exports={displayName:"DataModalButton",description:"A wrapper offering a data sources button that opens a DataModal with the provided data.",tags:{},exportName:"default",props:[{name:"data",description:"JSKOS data (either object or array)",type:{name:"object|array"},defaultValue:{func:!1,value:"null"}},{name:"positionBottom",description:"Absolut position bottom (override if necessary).",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"positionRight",description:"Absolut position right (override if there are other buttons in the bottom right).",type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"totalCount",description:"Total count of data if available from the API.",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"type",description:"JSKOS type (one of `concept`, `scheme`, or `mapping`)\n\nMostly important for mappings that are prepared differently from other JSKOS types. Also used for JSKOS validation.",type:{name:"string"},defaultValue:{func:!1,value:"null"},values:["concept","scheme","mapping","annotation","concordance"]},{name:"url",description:"API URL for data (if it exists).",type:{name:"string|object"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"0dd7":function(e,E,B){e.exports={description:"Component that represents one concept item in a ConceptList and possibly its children.",tags:{},exportName:"default",displayName:"ConceptListItem",props:[{name:"buttons",description:"List of buttons (array of objects with props `position`, `icon`, and `onClick`).",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"concept",description:"The concept object that this list item represents.",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"depth",description:"The depth of the current item.",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"index",description:"The index of the current item.",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isSelected",description:"Tells the component whether the item is selected.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showChildren",description:"Whether to show children of concepts, i.e. a concept hierarchy.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showScheme",description:"Whether to show the scheme in front of concepts.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},1329:function(e,E,B){},"13bb":function(e,E,B){"use strict";B.r(E);var P=B("2ef0"),z=B.n(P);function l(e,E){return function h(e){if(Array.isArray(e))return e}(e)||function f(e,E){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var B=[],P=!0,z=!1,V=void 0;try{for(var U,H=e[Symbol.iterator]();!(P=(U=H.next()).done)&&(B.push(U.value),!E||B.length!==E);P=!0);}catch(e){z=!0,V=e}finally{try{P||null==H.return||H.return()}finally{if(z)throw V}}return B}}(e,E)||p(e,E)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,E){if(e){if("string"==typeof e)return d(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?d(e,E):void 0}}function d(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var V={name:"ResizingSlider",mixins:[B("564d").a],props:{isColumn:{type:Boolean,default:!1}},data:function(){return{resizing:!1,savedValues:{}}},computed:{flex:function(){return this.$settings.flex||{}}},watch:{flex:function(){this.refreshFlex()}},mounted:function(){this.refreshFlex()},methods:{getSiblings:function(){var e,E,B=this.$el,P=B.parentElement,z=window.getComputedStyle(B).getPropertyValue("order");try{z=parseInt(z)}catch(e){z=0}for(z>0?(e=P.querySelector(".order"+(z-1)),E=P.querySelector(".order"+(z+1))):(e=B.previousElementSibling,E=B.nextElementSibling);e&&(e.classList.contains("resizingSliderRow")||e.classList.contains("resizingSliderColumn"));)e=e.previousElementSibling;for(;E&&(E.classList.contains("resizingSliderRow")||E.classList.contains("resizingSliderColumn"));)E=E.nextElementSibling;return[e,E]},startResizing:function(e){var E=l(this.getSiblings(),2),B=E[0],P=E[1];if(null!=B&&null!=P){var V=B.clientWidth,U=P.clientWidth,H=B.clientHeight,W=P.clientHeight,G=V+U,K=H+W,q=window.getComputedStyle(B),J=window.getComputedStyle(P),Q=parseFloat(q.getPropertyValue("flex-grow"))+parseFloat(J.getPropertyValue("flex-grow")),X=parseInt(q.getPropertyValue("min-width")),Y=parseInt(J.getPropertyValue("min-width")),Z=parseInt(q.getPropertyValue("min-height")),ee=parseInt(J.getPropertyValue("min-height")),te=parseInt(z.a.get(B,"dataset.minimized"))||0,ne=parseInt(z.a.get(P,"dataset.minimized"))||0;if(te+ne!=2){te+ne==0&&(this.savedValues.previousWidth=V,this.savedValues.nextWidth=U,this.savedValues.previousHeight=H,this.savedValues.nextHeight=W);var ie=this;if(this.resizing)$();else{this.resizing=!0;var re=ie.isColumn?e.clientX:e.clientY;document.body.style.cursor=ie.isColumn?"col-resize":"row-resize",document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.addEventListener("mousemove",C),document.onmouseup=$}}}function $(){document.removeEventListener("mousemove",C),document.onmouseup=null,document.body.style.cursor="auto",document.body.style.userSelect="auto",document.body.style.webkitUserSelect="auto",ie.resizing=!1}function C(e){var E=(ie.isColumn?e.clientX:e.clientY)-re;if(ie.isColumn){var z=V+E,q=U-E;if(z<X||q<Y||te+ne==1){if(z<=10||q<=10||z>=3*X&&1==te||q>=3*Y&&1==ne){var J=z<=10||1==te?B:P,oe=J.getElementsByClassName("minimizer")[0];if(oe.parentElement!=J&&oe.parentElement.parentElement!=J)return;var ae=oe.__vue__;ae&&(B.style.flex=ie.savedValues.previousWidth/G*Q,ie.saveFlex(B),P.style.flex=ie.savedValues.nextWidth/G*Q,ie.saveFlex(P),ae.toggleMinimize(),$())}return}B.style.flex=z/G*Q,ie.saveFlex(B),P.style.flex=q/G*Q,ie.saveFlex(P)}else{var se=H+E,ce=W-E;if(se<Z||ce<ee||te+ne==1){if(se<=10||ce<=10||se>=3*Z&&1==te||ce>=3*ee&&1==ne){var le=se<=10||1==te?B:P,ue=le.getElementsByClassName("minimizer")[0];if(ue.parentElement!=le&&ue.parentElement.parentElement!=le)return;var pe=ue.__vue__;pe&&(B.style.flex=ie.savedValues.previousHeight/K*Q,ie.saveFlex(B),P.style.flex=ie.savedValues.nextHeight/K*Q,ie.saveFlex(P),pe.toggleMinimize(),$())}return}B.style.flex=se/K*Q,ie.saveFlex(B),P.style.flex=ce/K*Q,ie.saveFlex(P)}}},saveFlex:function(e){if(e&&e.id&&e.style){var E=z.a.cloneDeep(this.$settings.flex);E[e.id]=e.style.flex,this.$store.commit({type:"settings/set",prop:"flex",value:E})}},refreshFlex:function(){var e,E=function c(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=p(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}(this.getSiblings());try{for(E.s();!(e=E.n()).done;){var B=e.value;B&&B.id&&null!=this.flex[B.id]&&(B.style.flex=this.flex[B.id])}}catch(e){E.e(e)}finally{E.f()}}}},U=(B("c3e3"),B("2877")),H=Object(U.a)(V,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.resizingSlider"),delay:e.defaults.delay.medium,placement:e.isColumn?"right":"top"},expression:"{ title: $t('general.resizingSlider'), delay: defaults.delay.medium, placement: isColumn ? 'right' : 'top' }",modifiers:{hover:!0}}],class:{resizingSliderCol:e.isColumn,resizingSliderRow:!e.isColumn},on:{mousedown:e.startResizing}},[B("div",[B("font-awesome-icon",{attrs:{icon:e.isColumn?"ellipsis-v":"ellipsis-h"}})],1)])}),[],!1,null,"602104a4",null);E.default=H.exports},"15a9":function(e,E,B){},1757:function(e,E,B){"use strict";B.r(E);var P={name:"AutoLink",props:{link:{type:String,default:""},text:{type:String,default:null}},methods:{isValidURL:function(e){try{return new URL(e),!0}catch(e){return!1}}}},z=B("2877"),V=Object(z.a)(P,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return e.isValidURL(e.link)?B("a",{staticClass:"u-textBreak",attrs:{href:e.link,target:"_blank"}},[e._v(e._s(e.text||e.link))]):B("span",[e._v(e._s(e.text||e.link))])}),[],!1,null,null,null);E.default=V.exports},1794:function(e,E,B){},"193e":function(e,E,B){"use strict";function i(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=r(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,o=function(){};return{s:o,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function r(e,E){if(e){if("string"==typeof e)return o(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?o(e,E):void 0}}function o(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}E.a={computed:{mousePosition:function(){return this.$store.state.mousePosition}},watch:{mousePosition:function(e){var E=e.x,B=e.y;this.handleMousePositionChange(E,B)}},methods:{isMouseInsideElement:function(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=E.delta,P=E.x,z=E.y;if(B=B||0,P=P||this.mousePosition.x,z=z||this.mousePosition.y,e){var V=e.getBoundingClientRect(),U=V.top,H=V.bottom,W=V.left,G=V.right;if(z<H+B&&z>U-B&&P<G+B&&P>W-B)return!0}return!1},handleMousePositionChange:function(e,E){var B,P=i(this.hoverHandlers());try{for(P.s();!(B=P.n()).done;){var z,V=B.value,U=!1,H=V.delta||0,W=i(V.elements);try{for(W.s();!(z=W.n()).done;){var G=z.value;this.isMouseInsideElement(G,{delta:H,x:e,y:E})&&(U=!0)}}catch(e){W.e(e)}finally{W.f()}V.handler(U,V)}}catch(e){P.e(e)}finally{P.f()}},hoverHandlers:function(){return[]}}}},"19f6":function(e,E,B){e.exports={description:'Hover handler mixin\n\nHandles hovers in the application, e.g. to hide popovers when hovered outside.\n\nA component implementing this mixin has to provide a `hoverHandlers` method that returns an array.\nEach item in the array is an object with the following properties:\n- elements: An array of elements that the mouse position should be checked against.\n- delta: How far the mouse can be away from an element to still count.\n- handler: A function that is called when the mouse cursor is outside of the elements.\n\nUsually for popovers in Cocoda, you should add both the popover element (or the inside div rather) and the button that opens the popover.\n\nExample:\nhoverHandlers() {\n  return [\n    {\n       elements: [document.getElementById("someelement")],\n       delta: 20,\n       handler: (isInside, handler) => {\n         // do something here\n       }\n    }\n  ]\n}\n\nIt is possible to provide additional properties in handlers, e.g. to identify them in the handler function.',tags:{},exportName:"default",displayName:"ConceptListWrapper",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"1b2c":function(e,E,B){e.exports={exportName:"default",displayName:"TheSettings",description:"The settings modal.",tags:{},props:[{name:"tab",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:{"update:tab":{name:"update:tab"}},methods:void 0,slots:void 0,examples:null}},"1b56":function(e,E,B){},"1ce2":function(e,E,B){e.exports={description:"Component that displays narrower or top concepts for ItemDetail.",tags:{},exportName:"default",displayName:"ItemDetailNarrower",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"narrower",description:"Array with concepts to display.",type:{name:"array"},defaultValue:{func:!0,value:"() => new Array()"}},{name:"text",description:"The text to be displayed on the top.",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"1e2d":function(e,E,B){},"1e4f":function(e,E,B){"use strict";B.r(E);var P=B("2ef0"),z=B.n(P),V=B("5635"),U=B("564d"),H={name:"ComponentSettings",mixins:[V.a,U.a],props:{tooltip:{type:String,default:""}},data:function(){return{id:"",isShown:!1,parentName:this.$parent.$options.name,isLeft:this.$parent.isLeft}},computed:{settings:function(){for(var e=[],E=this.$store.state.settings.componentSettings[this.parentName]||{},B=0,P=Object.keys(E);B<P.length;B++){var z=P[B];e.push(Object.assign({key:z},E[z]))}return e},settingsValues:function(){for(var e=this,E={},n=function(){var V=P[B],U=e.$store.state.settings.componentSettings[e.parentName][V].sideDependent,H=U?e.isLeft:void 0,W=e.$store.state.settings.componentSettings[e.parentName][V].type,G=e.$store.state.settings.componentSettings[e.parentName][V].default,K=e.$store.state.settings.componentSettings[e.parentName][V].min,q=e.$store.state.settings.componentSettings[e.parentName][V].max;Object.defineProperty(E,V,{get:function(){return U?e.$settings.components[e.parentName][V][H]:e.$settings.components[e.parentName][V]},set:function(E){"Boolean"!=W||z.a.isBoolean(E)||(E=!!E),"Number"!=W||z.a.isNumber(E)||(E=parseInt(E),(isNaN(E)||E<K||E>q)&&(e.$log.warn("Tried to save invalid value for setting ".concat(e.parentName," -> ").concat(V,", fallback to default value (").concat(G,").")),E=G)),e.$store.commit({type:"settings/setComponentSetting",component:e.parentName,setting:V,isLeft:H,value:E})}})},B=0,P=Object.keys(this.$store.state.settings.componentSettings[this.parentName]);B<P.length;B++)n();return E}},created:function(){this.id=this.generateID()},methods:{clickHandlers:function(){var e=this;return[{elements:[this.$refs.popover,document.getElementById("componentSettings-icon-".concat(this.id))],handler:function(){e.hide()}}]},show:function(){this.isShown=!0},hide:function(){this.isShown=!1},toggle:function(){this.isShown=!this.isShown}}},W=(B("fb8a"),B("2877")),G=Object(W.a)(H,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"componentSettings"},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.tooltip,delay:e.defaults.delay.medium},expression:"{ title: tooltip, delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{id:"componentSettings-icon-"+e.id,icon:"cog"}}),B("b-popover",{attrs:{show:e.isShown,target:"componentSettings-icon-"+e.id,triggers:"click",placement:"bottomright"},on:{"update:show":function(E){e.isShown=E}}},[B("div",{ref:"popover"},[e._t("default",(function(){return[e._l(e.settings,(function(E){return["Boolean"==E.type?B("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.languageMapContent(E,"definition"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.languageMapContent(setting, 'definition'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],key:"componentSettings-"+E.key+"-"+e.isLeft,staticStyle:{"user-select":"none"},model:{value:e.settingsValues[E.key],callback:function(B){e.$set(e.settingsValues,E.key,B)},expression:"settingsValues[setting.key]"}},[e._v(" "+e._s(e.$jskos.prefLabel(E))+" ")]):"Number"==E.type?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.languageMapContent(E,"definition"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.languageMapContent(setting, 'definition'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],key:"componentSettings-"+E.key+"-"+e.isLeft},[e._v(" "+e._s(e.$jskos.prefLabel(E))+" "),B("b-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{type:"number",min:E.min,max:E.max,size:"sm"},on:{click:function(e){return e.target.select()}},model:{value:e.settingsValues[E.key],callback:function(B){e.$set(e.settingsValues,E.key,B)},expression:"settingsValues[setting.key]"}})],1):B("p",{key:"componentSettings-"+E.key+"-"+e.isLeft,class:E.class},[e._v(" "+e._s(e.$jskos.prefLabel(E))+" ")])]}))]}))],2)])],1)}),[],!1,null,"43af7e2c",null);E.default=G.exports},"1f08":function(e,E,B){(B("6f28").bind(null,{}),B("ee44")).bind(null,"",null,null),e.exports=[{type:"markdown",content:"The application composed of the following [Vue Components](https://vuejs.org/v2/guide/components.html). The current state is subject to change. We are going to provide components which can also be used independently from Cocoda web application in a later release."}]},"1f25":function(e,E,B){"use strict";B.r(E);var P=B("a34a"),z=B.n(P),V=B("1757"),U=B("a189");function l(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}var H={name:"AnnotationList",components:{AutoLink:V.default},mixins:[U.a],props:{annotations:{type:Array,default:function(){return[]}},provider:{type:Object,default:null}},methods:{canRemove:function(e){return this.$jskos.annotationCreatorMatches(e,this.userUris)},remove:function(e){var E=this;return function u(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){l(V,P,z,a,s,"next",e)}function s(e){l(V,P,z,a,s,"throw",e)}a(void 0)}))}}(z.a.mark((function n(){var B,P;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(E.provider){z.next=2;break}return z.abrupt("return",!1);case 2:return B=E.annotations[e],E.$emit("loading",!0),z.prev=4,z.next=7,E.provider.deleteAnnotation({annotation:B});case 7:P=z.sent,z.next=14;break;case 10:z.prev=10,z.t0=z.catch(4),P=!1,E.alert("".concat(E.$t("alerts.annotationNotRemoved")," ").concat(E.getErrorMessage(z.t0)),null,"danger");case 14:if(E.$emit("loading",!1),B.id==E.annotations[e].id&&P){z.next=17;break}return z.abrupt("return",!1);case 17:return E.$delete(E.annotations,e),E.alert(E.$t("alerts.annotationRemoved"),null,"success"),z.abrupt("return",P);case 20:case"end":return z.stop()}}),n,null,[[4,10]])})))()}}},W=(B("5040"),B("2877")),G=Object(W.a)(H,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"annotationList"},e._l(e.annotations,(function(E,P){return B("div",{key:E.uri},[B("div",{staticClass:"fontSize-normal fontWeight-heavy",class:{"text-success":"+1"===E.bodyValue,"text-danger":"-1"===E.bodyValue}},["moderating"==E.motivation?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.$t("mappingBrowser.mappingConfirmedTooltip"),expression:"$t('mappingBrowser.mappingConfirmedTooltip')",modifiers:{hover:!0}}]},[B("font-awesome-icon",{staticClass:"text-success",attrs:{icon:"check"}})],1):B("span",[e._v(" "+e._s(E.bodyValue)+" ")])]),B("div",{staticClass:"fontSize-verySmall"},[e._v(" "+e._s(e.dateToString(E.created,!0))),B("br"),B("auto-link",{class:{"fontWeight-heavy":e.$jskos.annotationCreatorMatches(E,e.userUris)},attrs:{link:e.$jskos.annotationCreatorUri(E),text:e.$jskos.annotationCreatorName(E)}})],1),B("div",[e.canRemove(E)?B("font-awesome-icon",{staticClass:"button button-delete",attrs:{icon:"trash-alt"},on:{click:function(E){return e.remove(P)}}}):e._e()],1)])})),0)}),[],!1,null,"151b5304",null);E.default=G.exports},"1f60":function(e,E,B){e.exports={description:"A component (bootstrap modal) that allows viewing and exporting JSKOS data.",tags:{},exportName:"default",displayName:"DataModal",props:[{name:"data",description:"JSKOS data (either object or array)",type:{name:"object|array"},defaultValue:{func:!1,value:"null"}},{name:"totalCount",description:"Total count of data if available from the API.",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"type",description:"JSKOS type (one of `concept`, `scheme`, or `mapping`)\n\nMostly important for mappings that are prepared differently from other JSKOS types. Also used for JSKOS validation.",type:{name:"string"},defaultValue:{func:!1,value:"null"},values:["concept","scheme","mapping","annotation","concordance"]},{name:"url",description:"API URL or URLs for data (if it exists).\n\nFor objects, provide a title as keys and the URLs as values.",type:{name:"string|object"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},2365:function(e,E,B){"use strict";B("eb21")},"23a6":function(e,E,B){"use strict";B("1794")},"291e":function(e,E,B){"use strict";B("cce3")},"2a5f":function(e,E,B){e.exports={exportName:"default",displayName:"MappingEditor",description:"The mapping editor component.",tags:{},props:void 0,events:void 0,methods:void 0,slots:void 0,examples:null}},"2f83":function(e,E,B){"use strict";B("c6cd0")},"30c6":function(e,E,B){},3176:function(e,E,B){},3218:function(e,E,B){"use strict";B("30c6")},"32be":function(e,E,B){},3341:function(e,E,B){},"357f":function(e,E,B){"use strict";B("58f5")},"35f7":function(e,E,B){},3710:function(e,E,B){"use strict";B("1329")},3873:function(e,E,B){},"38c8":function(e,E,B){"use strict";B("d78f")},"398f":function(e,E,B){},"3a0b":function(e,E,B){"use strict";B.r(E);var P=B("5cd2"),z=B("9ecc"),V=B("f1ce"),U=B("68bc"),H=B("2ef0"),W=B.n(H),G=B("a189"),K=B("616f"),q=B("8fb2"),J=B("564d");function m(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function g(e,E){if(e){if("string"==typeof e)return v(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?v(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function v(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var Q={name:"TheNavbar",components:{TheSettings:P.default,RegistryInfo:z.default,MappingTable:V.default,ItemName:U.default},mixins:[G.a,K.a,q.a,J.a],props:{title:{type:String,default:null},reduced:{type:Boolean,default:!1}},data:function(){return{settingsTab:0}},computed:{draggedConcept:{get:function(){return this.$store.state.draggedConcept},set:function(e){this.$store.commit({type:"setDraggedConcept",concept:e})}},favoriteCanBeDropped:function(){return null!=this.draggedConcept&&!this.$jskos.isScheme(this.draggedConcept)&&!this.$jskos.isContainedIn(this.draggedConcept,this.favoriteConcepts)},mappingTrash:function(){var e=this;if(!this.$store.state.configLoaded||!this.schemes.length)return[];var E,B=this.$store.state.mapping.mappingTrash,P=m(B=B.map((function(E){return Object.assign({},E,{mapping:e.adjustMapping(e.$jskos.copyDeep(E.mapping))})})));try{var r=function(){var B=E.value;B.mapping._registry=e.config.registries.find((function(E){return e.$jskos.compare(E,B.registry)}))};for(P.s();!(E=P.n()).done;)r()}catch(e){P.e(e)}finally{P.f()}return B}},created:function(){this.dropdownSetStatus=W.a.debounce(this._dropdownSetStatus,500)},methods:{favoriteConceptDragStart:function(e){event.dataTransfer.setData("text",e.uri),this.draggedConcept=e},favoriteConceptDragEnd:function(e){"none"!=e.dataTransfer.dropEffect&&this.$refs.favoriteConceptsDropdown.hide(),this.draggedConcept=null},_dropdownSetStatus:function(e,E){E?e.show():e.hide()},favoriteConceptsDropdownHide:function(){this.$refs.favoriteConceptsDropdown.$el.getElementsByClassName("favoriteConceptsDropdown")[0].scrollTop=0},droppedConcept:function(e){this.$store.dispatch("addConceptToFavorites",e)},removeFavoriteConcept:function(e){this.$store.dispatch("removeConceptFromFavorites",e)},openSettingsTab:function(e){this.settingsTab=e,this.$refs.settings.show()},setIdentity:function(e){if(this.$store.commit({type:"settings/set",prop:"creatorUri",value:e}),this.user){var E=this.user.name,B=Object.values(this.user.identities).find((function(E){return E.uri===e}));B&&(E=B.name),E&&this.$store.commit({type:"settings/set",prop:"creator",value:E})}}}},X=(B("7030"),B("b1fa"),B("2877")),Y=Object(X.a)(Q,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("b-navbar",{attrs:{toggleable:"md",type:"dark"}},[e._l(e.config.logos||[],(function(e,E){return B("b-navbar-brand",{key:E,attrs:{href:e.url,target:"_blank"}},[B("img",{staticStyle:{height:"42px"},attrs:{src:"./"+e.file,alt:e.alt||"logo"}})])})),B("b-navbar-brand",{attrs:{href:"https://coli-conc.gbv.de/cocoda/",target:"_blank"}},[e._v(" "+e._s(e.title||e.config.title)+" ")]),B("b-navbar-nav",{staticClass:"ml-auto"},[e._l(e.config.menu,(function(E){return B("b-nav-item",{key:E.url,attrs:{href:E.url,target:"_blank"}},[e._v(" "+e._s(e.$jskos.prefLabel(E))+" ")])})),e.reduced?e._e():B("b-nav-item",{attrs:{href:"./user-manual-"+e.locale+".html",target:"_blank"}},[e._v(" "+e._s(e.$t("general.manual"))+" ")]),e.reduced?B("b-nav-item",{attrs:{href:"./"}},[e._v(" Open Cocoda ")]):e._e(),!e.reduced&&e.mappingTrash.length>0?B("b-nav-item-dropdown",{ref:"mappingTrashDropdown",attrs:{id:"mappingTrashDropdown","menu-class":"navbar-dropdown","no-caret":"",right:""},nativeOn:{mouseover:function(E){e.dropdownSetStatus(e.$refs.mappingTrashDropdown,!0),e._dropdownSetStatus(e.$refs.mappingTrashDropdown,!0)},mouseout:function(E){return e.dropdownSetStatus(e.$refs.mappingTrashDropdown,!1)}}},[B("template",{slot:"button-content"},[B("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1),B("b-dropdown-header",[e._v(" "+e._s(e.$t("navbar.trashTitle"))+" "),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.trashClearButtonTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.trashClearButtonTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",staticStyle:{position:"absolute",right:"15px",top:"15px"},on:{click:function(E){return e.$store.commit("mapping/clearTrash")}}},[B("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e._v(" "+e._s(e.$t("navbar.trashClearButton"))+" ")],1)]),B("mapping-table",{staticClass:"font-default",staticStyle:{width:"700px"},attrs:{mappings:e.mappingTrash.map((function(e){return e.mapping})),actions:[{title:e.$t("navbar.trashRestoreTooltip"),name:"restore",icon:"recycle"}],"show-labels":!0,"show-popover":!1,"show-registry":!0,"hide-duplicates":!1},on:{click:function(E){e.$store.dispatch({type:"mapping/restoreMappingFromTrash",uri:E.item.mapping.uri}).then((function(B){B?e.alert(e.$t("alerts.mappingRestored",[e.$jskos.prefLabel(E.item.registry,{fallbackToUri:!1})]),null,"success2"):e.alert(e.$t("alerts.mappingNotRestored",[e.$jskos.prefLabel(E.item.registry,{fallbackToUri:!1})]),null,"danger")}))}}})],2):e._e(),e.reduced?e._e():B("b-nav-item-dropdown",{ref:"favoriteConceptsDropdown",attrs:{id:"favoriteConceptsDropdown","menu-class":"navbar-dropdown favoriteConceptsDropdown","no-caret":"",right:""},on:{hide:e.favoriteConceptsDropdownHide},nativeOn:{dragover:function(E){return e.dragOver.apply(null,arguments)},drop:function(E){return e.drop.apply(null,arguments)},mouseover:function(E){e.dropdownSetStatus(e.$refs.favoriteConceptsDropdown,!0),e._dropdownSetStatus(e.$refs.favoriteConceptsDropdown,!0)},mouseout:function(E){return e.dropdownSetStatus(e.$refs.favoriteConceptsDropdown,!1)}}},[B("template",{slot:"button-content"},[B("font-awesome-icon",{class:e.favoriteCanBeDropped?"favoriteConceptsDropdown-iconTarget":"",attrs:{icon:"star"}})],1),B("b-dropdown-header",[e._v(" "+e._s(e.$t("conceptList.favoriteConcepts"))+" ")]),e._l(e.favoriteConcepts,(function(E){return B("div",{key:"theNavbar-"+E.uri+"-favorite",staticClass:"dropdown-item",attrs:{draggable:""},on:{dragstart:function(B){return e.favoriteConceptDragStart(E)},dragend:e.favoriteConceptDragEnd}},[B("div",{staticStyle:{"padding-right":"8px"}},[B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.removeFromFavorites"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.removeFromFavorites'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button fontSize-verySmall",on:{click:function(B){return e.removeFavoriteConcept(E)}}},[B("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)]),B("div",{staticStyle:{flex:"1"}},[E.inScheme&&E.inScheme[0]?B("item-name",{attrs:{item:E.inScheme[0],"show-text":!1,"is-link":!1,"prevent-external-hover":!0,draggable:!1}}):e._e(),e._v("   "),B("item-name",{attrs:{item:E}})],1),B("div",[B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.openLeft"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.openLeft'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",on:{click:function(B){return e.setSelected({concept:E,isLeft:!0})}}},[B("font-awesome-icon",{attrs:{icon:"caret-square-left"}})],1),e._v("   "),B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("navbar.openRight"),delay:e.defaults.delay.medium},expression:"{ title: $t('navbar.openRight'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",on:{click:function(B){return e.setSelected({concept:E,isLeft:!1})}}},[B("font-awesome-icon",{attrs:{icon:"caret-square-right"}})],1)])])}))],2),e.reduced?e._e():B("b-nav-item-dropdown",{ref:"accountDropdown",attrs:{id:"accountDropdown","menu-class":"navbar-dropdown","no-caret":"",right:""},nativeOn:{mouseover:function(E){e.dropdownSetStatus(e.$refs.accountDropdown,!0),e._dropdownSetStatus(e.$refs.accountDropdown,!0)},mouseout:function(E){return e.dropdownSetStatus(e.$refs.accountDropdown,!1)}}},[B("template",{slot:"button-content"},[B("div",{staticClass:"navbar-settingsButton",on:{click:function(E){return e.openSettingsTab(0)}}},[e.userIdentityImage&&e.creator.uri?B("span",{staticClass:"fontWeight-heavy"},[B("img",{attrs:{src:e.userIdentityImage}}),e._v(" "+e._s(e.creatorName||e.$t("settingsTabs")[0])+" ")]):B("span",[B("font-awesome-icon",{style:"color: "+(e.$store.state.auth.available?e.authorized?"green":e.$store.state.auth.connected?"red":"yellow":"black")+" !important;",attrs:{icon:"user"}}),B("span",{class:{"fontWeight-heavy":e.authorized}},[e._v(" "+e._s(e.creatorName||e.$t("settingsTabs")[0])+" ")])],1)])]),B("div",{staticClass:"font-default"},[(e.userUris||[e.creator.uri]).filter((function(e){return null!=e})).length?e._l((e.userUris||[e.creator.uri]).filter((function(e){return null!=e})),(function(E,P){return B("p",{key:"navbar-switchToIdentity-"+P,class:{"navbar-dropdown-selectable":!0,"navbar-dropdown-selectable-selected":E==e.creator.uri},on:{click:function(B){return e.setIdentity(E)}}},[B("span",{staticClass:"navbar-dropdown-selectable-icon"},[e.imageForIdentityUri(E)?B("img",{attrs:{src:e.imageForIdentityUri(E)}}):B("font-awesome-icon",{attrs:{icon:"user"}})],1),e._v(" "+e._s(e.providerForIdentityUri(E)&&e.providerForIdentityUri(E).name||(e.user&&E==e.user.uri?e.$t("navbar.defaultIdentity"):E))+" ")])})):e._e(),e.authorized?B("p",{staticClass:"navbar-dropdown-selectable",on:{click:function(E){return e.$store.commit({type:"auth/openWindow",url:e.config.auth+"logout",eventType:"logout"})}}},[B("span",{staticClass:"navbar-dropdown-selectable-icon"},[e._v(" "+e._s(e.$t("settings.logOutButton"))+" ")])]):B("p",{staticClass:"navbar-dropdown-selectable",on:{click:function(E){return e.openSettingsTab(0)}}},[B("span",{staticClass:"navbar-dropdown-selectable-icon"},[e._v(" "+e._s(e.$t("settings.logInButton"))+" ")])])],2)],2),e.reduced?e._e():B("b-nav-item-dropdown",{ref:"settingsDropdown",attrs:{id:"settingsDropdown","menu-class":"navbar-dropdown","no-caret":"",right:""},nativeOn:{mouseover:function(E){e.dropdownSetStatus(e.$refs.settingsDropdown,!0),e._dropdownSetStatus(e.$refs.settingsDropdown,!0)},mouseout:function(E){return e.dropdownSetStatus(e.$refs.settingsDropdown,!1)}}},[B("template",{slot:"button-content"},[B("font-awesome-icon",{attrs:{icon:"cog"},on:{click:function(E){return e.$refs.settings.show()}}})],1),e._l(e.$t("settingsTabs").slice(1,e.$t("settingsTabs").length-(e.localMappingsRegistry?0:1)),(function(E,P){return B("p",{key:"navbar-settingsTabs-"+P,staticClass:"navbar-settingsTabs-row",on:{click:function(E){return e.openSettingsTab(P+1)}}},[e._v(" "+e._s(E)+" ")])})),B("hr"),e.currentRegistry?B("div",{staticClass:"font-default"},[e._l(e.config.registries.filter((function(E){return e.$jskos.mappingRegistryIsStored(E)})),(function(E){return B("p",{key:"navbar-mappingRegistry-"+E.uri,class:{"navbar-dropdown-selectable":!0,"navbar-dropdown-selectable-selected":e.$jskos.compare(E,e.currentRegistry)},on:{click:function(B){return e.$store.commit({type:"settings/set",prop:"mappingRegistry",value:E.uri})}}},[B("registry-info",{attrs:{registry:E,"show-details":!1,"show-capabilities":!1}})],1)})),B("hr")],2):e._e(),B("p",{staticStyle:{padding:"0 10px"}},[B("a",{attrs:{href:"https://github.com/gbv/cocoda",target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:["fab","github"]}}),e._v(" GitHub ")],1),e.config.buildInfo.version&&""!=e.config.buildInfo.version?B("span",[e._v(" • "+e._s(e.$t("settings.version"))+" "+e._s(e.config.buildInfo.version)+" ")]):e._e()])],2),B("the-settings",{ref:"settings",attrs:{tab:e.settingsTab},on:{"update:tab":function(E){e.settingsTab=E}}})],2)],2)}),[],!1,null,"0754d5ac",null);E.default=Y.exports},"3c16":function(e,E,B){},"3cc1":function(e,E,B){"use strict";B("3c16")},"3e42":function(e,E,B){},"3ee3":function(e,E,B){"use strict";B("85c9")},"404d":function(e,E,B){e.exports={description:"Mixin for some computed values from Vuex store.",tags:{},exportName:"default",displayName:"ComponentSettings",props:[{name:"tooltip",description:"The tooltip for the settings button.",type:{name:"string"},defaultValue:{func:!1,value:'""'}}],events:void 0,methods:void 0,slots:{default:{name:"default"}},examples:null}},"40b5":function(e,E,B){},"40e1":function(e,E,B){"use strict";B.r(E);var P=B("47b7"),z=B("68bc"),V=B("1757"),U=B("1f25"),H=B("9ecc"),W={name:"MappingDetail",components:{DataModal:P.default,ItemName:z.default,AutoLink:V.default,AnnotationList:U.default,RegistryInfo:H.default},props:{mapping:{type:Object,default:null}},methods:{show:function(){this.$refs.mappingDetail.show()},displayNameForConcordance:function(e){if(!e)return"";var E=this.$jskos.prefLabel(e,{fallbackToUri:!1})||this.$jskos.languageMapContent(e,"scopeNote")||e.uri||"";if(e.creator&&e.creator.length){var B=this.$jskos.prefLabel(e.creator[0],{fallbackToUri:!1});B&&(E+=" (".concat(B,")"))}return E}}},G=(B("cdbb"),B("2877")),K=Object(G.a)(W,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",[B("b-modal",{ref:"mappingDetail",staticClass:"fontSize-normal",attrs:{title:e.$t("mappingDetail.title"),centered:"","hide-footer":"","no-enforce-focus":"",size:"lg"}},[e.mapping?B("div",[B("b-container",{staticClass:"mappingDetail-container",attrs:{fluid:""}},[B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.sourceScheme"))+": ")]),B("b-col",[B("item-name",{attrs:{draggable:!1,item:e.mapping.fromScheme}})],1)],1),B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$tc("mappingDetail.sourceConcept",e.$jskos.conceptsOfMapping(e.mapping,"from").length))+": ")]),B("b-col",e._l(e.$jskos.conceptsOfMapping(e.mapping,"from"),(function(e){return B("p",{key:"mappingDetail-from-"+e.uri},[B("item-name",{attrs:{draggable:!1,item:e}})],1)})),0)],1),B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.targetScheme"))+": ")]),B("b-col",[B("item-name",{attrs:{draggable:!1,item:e.mapping.toScheme}})],1)],1),B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$tc("mappingDetail.targetConcept",e.$jskos.conceptsOfMapping(e.mapping,"to").length))+": ")]),B("b-col",e._l(e.$jskos.conceptsOfMapping(e.mapping,"to"),(function(e){return B("p",{key:"mappingDetail-to-"+e.uri},[B("item-name",{attrs:{draggable:!1,item:e}})],1)})),0)],1),e.mapping.type&&e.mapping.type.length?B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.mappingType"))+": ")]),B("b-col",[B("a",{attrs:{href:e.$jskos.mappingTypeByType(e.mapping.type).uri,target:"_blank"}},[e._v(" "+e._s(e.$jskos.prefLabel(e.$jskos.mappingTypeByType(e.mapping.type)))+" ("+e._s(e.$jskos.notation(e.$jskos.mappingTypeByType(e.mapping.type)))+") ")])])],1):e._e(),B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.creator"))+": ")]),B("b-col",e._l(e.mapping.creator||[],(function(E,P){return B("p",{key:"mappingDetail-creator-"+P},[B("auto-link",{attrs:{link:E.url||E.uri,text:e.$jskos.prefLabel(E)}})],1)})),0)],1),B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.created"))+": ")]),B("b-col",[e._v(e._s(e.dateToString(e.mapping.created)))])],1),B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.modified"))+": ")]),B("b-col",[e._v(e._s(e.dateToString(e.mapping.modified)))])],1),e.mapping.annotations&&e.mapping.annotations.length?B("b-row",{staticStyle:{position:"relative"}},[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.annotations"))+": ")]),B("b-col",[B("annotation-list",{attrs:{annotations:e.mapping.annotations,provider:e.mapping._registry}})],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("dataModal.button"),delay:e.defaults.delay.medium},expression:"{ title: $t('dataModal.button'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"dataModalButton",on:{click:function(E){return e.$refs.dataModalAnnotations.show()}}},[B("font-awesome-icon",{attrs:{icon:"code"}})],1)],1):e._e(),e.mapping.partOf?B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.partOf"))+": ")]),B("b-col",e._l(e.mapping.partOf,(function(E,P){return B("p",{key:"mappingDetail-partOf-"+P},[B("auto-link",{attrs:{link:E.uri,text:e.displayNameForConcordance(E)}})],1)})),0)],1):e._e(),e.mapping.uri||e.mapping.identifier?B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("mappingDetail.identifier"))+": ")]),B("b-col",e._l([e.mapping.uri].concat(e.mapping.identifier).filter((function(e){return null!=e})),(function(E,P){return B("p",{key:"mappingDetail-identifier-"+P},[B("auto-link",{class:{"fontWeight-heavy":E==e.mapping.uri},attrs:{link:E}})],1)})),0)],1):e._e(),e.mapping._registry?B("b-row",[B("b-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.$t("schemeSelection.registryFilter"))+": ")]),B("b-col",[B("registry-info",{attrs:{registry:e.mapping._registry,"show-details":!1,"show-capabilities":!1}})],1)],1):e._e()],1)],1):e._e(),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("dataModal.button"),delay:e.defaults.delay.medium},expression:"{ title: $t('dataModal.button'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"dataModalButton",on:{click:function(E){return e.$refs.dataModal.show()}}},[B("font-awesome-icon",{attrs:{icon:"code"}})],1)]),e.mapping?B("data-modal",{ref:"dataModal",attrs:{data:e.mapping,url:e.mapping.uri,type:"mapping"}}):e._e(),e.mapping&&e.mapping.annotations&&e.mapping.annotations.length?B("data-modal",{ref:"dataModalAnnotations",attrs:{data:e.mapping.annotations,type:"annotation"}}):e._e()],1)}),[],!1,null,"f653bea6",null);E.default=K.exports},"438a":function(e,E,B){"use strict";B("fc0e")},"440f":function(e,E,B){},"45be":function(e,E,B){"use strict";B.r(E);var P=B("a34a"),z=B.n(P),V=B("68bc"),U=B("b456"),H=B("2ef0"),W=B.n(H),G=B("1e4f"),K=B("40e1"),q=B("a189"),J=B("616f"),Q=B("8fb2"),X=B("71cd"),Y=B("564d");function y(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function b(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){y(V,P,z,a,s,"next",e)}function s(e){y(V,P,z,a,s,"throw",e)}a(void 0)}))}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z={name:"MappingEditor",components:{ItemName:V.default,MappingTypeSelection:U.default,ComponentSettings:G.default,MappingDetail:K.default},mixins:[q.a,J.a,Q.a,X.a,Y.a],computed:{mapping:function(){return this.$store.state.mapping.mapping},original:function(){return this.$store.state.mapping.original},canSaveCurrentMapping:function(){return!this.mappingStatus.invalid&&(this.$store.getters["mapping/canUpdate"]?this.hasChangedFromOriginal:this.$store.getters["mapping/canCreate"])},canDeleteCurrentMapping:function(){return this.$store.getters["mapping/canDelete"]},canClearCurrentMapping:function(){return this.mapping.fromScheme||this.mapping.toScheme},canExportCurrentMapping:function(){return this.mapping.fromScheme&&this.mapping.toScheme},canSwapCurrentMapping:function(){return this.$jskos.conceptsOfMapping(this.mapping,"to").length<=1&&this.$jskos.conceptsOfMapping(this.mapping).length>0},canCloneCurrentMapping:function(){return null!=this.original.uri},mappingStatus:function(){var e=this,E=this.currentRegistry;if(!E.isAuthorizedFor({type:"mappings",action:"create",user:this.user}))return{message:this.$t("registryInfo.notAuthenticated")+" (".concat(this.$jskos.prefLabel(E),")"),invalid:!0};for(var B=0,P=["fromScheme","toScheme"];B<P.length;B++){var z=P[B];if(!this.mapping[z])return{message:this.$t("mappingEditor.invalidMissing",[z]),invalid:!0}}for(var o=function(){var B=U[V],P=W.a.get(E,"config.mappings.".concat(B,"Whitelist"));if(P&&!P.find((function(E){return e.$jskos.compare(E,e.mapping[B])})))return{v:{message:e.$t("mappingEditor.invalidWhitelist",["".concat(B," ").concat(e.$jskos.prefLabel(e.mapping[B],{fallbackToUri:!1})||""),e.$jskos.prefLabel(E)]),invalid:!0}}},V=0,U=["fromScheme","toScheme"];V<U.length;V++){var H=o();if("object"===w(H))return H.v}if("1-to-1"==W.a.get(E,"config.mappings.cardinality")&&this.$jskos.conceptsOfMapping(this.mapping,"to").length>1)return{message:this.$t("mappingEditor.invalid1to1",[this.$jskos.prefLabel(E)]),invalid:!0};if(this.original.uri&&!this.$jskos.compare(E,this.original.registry))return{message:this.$t("mappingEditor.warningUpdateRegistry",[this.$jskos.prefLabel(this.original.registry),this.$jskos.prefLabel(E)]),warning:!0};if(this.original.uri&&!this.$store.getters["mapping/canUpdate"])return{message:this.$t("mappingEditor.warningUpdateNotAllowed"),warning:!0};for(var G=0,K=["fromScheme","toScheme"];G<K.length;G++){var q=K[G];if(this.original.uri&&!this.$jskos.compare(this.mapping[q],this.original.mapping[q]))return{message:this.$t("mappingEditor.warningUpdateScheme",[q]),warning:!0}}return{message:null,invalid:!1,warning:!1}},mappingEncoded:function(){return encodeURIComponent(JSON.stringify(this.prepareMapping()))},hasChangedFromOriginal:function(){return this.$store.getters["mapping/hasChangedFromOriginal"]},schemeRight:function(){return this.selected.scheme[!1]},currentGuidelines:function(){var e=this;return(this.config.guidelines||[]).find((function(E){return e.$jskos.compare(E.fromScheme,e.selected.scheme[!0])&&e.$jskos.compare(E.toScheme,e.selected.scheme[!1])}))}},watch:{mappingEncoded:function(){var e=W.a.get(this.$el.parentElement.getElementsByClassName("minimizer"),"[0].__vue__");e&&e.toggleMinimize(!1),this.$store.commit({type:"mapping/setScheme",isLeft:!1,scheme:this.selected.scheme[!1]})},schemeRight:function(){this.$store.commit({type:"mapping/setScheme",isLeft:!1,scheme:this.selected.scheme[!1]})},creator:function(){this.setCreator()},"original.uri":function(){this.setCreator()}},mounted:function(){this.enableShortcuts(),this.setCreator()},methods:{shortcutHandler:function(e){var E=e.action,B=e.isLeft;switch(E){case"saveMapping":this.saveCurrentMapping();break;case"clearMapping":this.clearMapping();break;case"addConcept":this.addToMappingInternal(B)}},saveCurrentMapping:function(){var e=this;return b(z.a.mark((function t(){var E,B;return z.a.wrap((function(P){for(;;)switch(P.prev=P.next){case 0:if(e.canSaveCurrentMapping){P.next=2;break}return P.abrupt("return",!1);case 2:return e.creator?e.setCreator():e.removeCreator(),E=e.original.uri&&e.$jskos.compare(e.currentRegistry,e.original.registry),P.next=6,e[E?"putMapping":"postMapping"]({registry:e.currentRegistry,mapping:e.mapping,_before:function(){e.loadingGlobal=!0},_after:function(){e.loadingGlobal=!1}});case 6:B=P.sent,e.$store.commit({type:"mapping/set",original:B}),e.componentSettings.clearOnSave&&e.clearMapping();case 9:case"end":return P.stop()}}),t)})))()},setCreator:function(){var e=this,E=(this.mapping.contributor||[]).concat((this.mapping.creator||[]).filter((function(E){return!(e.creator.uri&&E.uri&&e.creator.uri==E.uri||e.creatorName&&e.$jskos.prefLabel(E,{fallbackToUri:!1})&&e.creatorName==e.$jskos.prefLabel(E,{fallbackToUri:!1}))}))),B=[this.creator];this.$store.commit({type:"mapping/setCreator",creator:B}),this.$store.commit({type:"mapping/setContributor",contributor:E})},removeCreator:function(){var e=(this.mapping.contributor||[]).concat(this.mapping.creator||[]);this.$store.commit({type:"mapping/setCreator",creator:null}),this.$store.commit({type:"mapping/setContributor",contributor:e})},deleteCurrentMapping:function(){return!!this.canDeleteCurrentMapping&&(this.$refs.deleteModal.show(),!0)},deleteOriginalMapping:function(){var e=arguments,E=this;return b(z.a.mark((function n(){var B;return z.a.wrap((function(P){for(;;)switch(P.prev=P.next){case 0:return B=e.length>0&&void 0!==e[0]&&e[0],P.next=3,E.deleteMapping({mapping:E.mapping,_before:function(){E.loadingGlobal=!0},_after:function(){E.loadingGlobal=!1}});case 3:return B&&E.clearMapping(),P.abrupt("return",!0);case 5:case"end":return P.stop()}}),n)})))()},clearMapping:function(){return!!this.canClearCurrentMapping&&(this.$store.commit({type:"mapping/empty"}),!0)},labelForScheme:function(e){return this.$jskos.notation(e,"scheme")},isAddButtonEnabled:function(e){return this.$store.getters["mapping/canAdd"](this.selected.concept[e],this.selected.scheme[e],e)},isDeleteAllButtonEnabled:function(e){return this.$store.getters["mapping/getConcepts"](e).length>0},addButtonDisabledReason:function(e){var E=e?this.selected.concept[!0]:this.selected.concept[!1];return this.$store.getters["mapping/checkScheme"](e?this.selected.scheme[!0]:this.selected.scheme[!1],e)?null==E?"Please select a concept.":this.$store.getters["mapping/added"](E,e)?"Selected concept is already in mapping.":"Other reason.":"Scheme does not match."},addToMappingInternal:function(e){if(this.isAddButtonEnabled(e)){var E=e?this.selected.concept[!0]:this.selected.concept[!1];this.addToMapping({concept:E,scheme:this.selected.scheme[e],isLeft:e})}},deleteAll:function(e){this.$store.commit({type:"mapping/removeAll",isLeft:e})},droppedConcept:function(e,E){this.$jskos.isConcept(e)&&(this.addToMapping({concept:e,scheme:e.inScheme&&e.inScheme[0]||this.selected.scheme[E],isLeft:E}),this.loadConcepts([e]))},swapMapping:function(){this.canSwapCurrentMapping&&this.$store.commit({type:"mapping/switch"})},cloneMapping:function(){var e=this.$jskos.copyDeep(this.mapping);delete e.uri,this.$store.commit({type:"mapping/set",original:null}),this.$store.commit({type:"mapping/set",mapping:e})}}},ee=(B("3218"),B("2f83"),B("2877")),te=Object(ee.a)(Z,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{class:e.canSaveCurrentMapping?"mappingEditor-notSaved":e.canExportCurrentMapping&&!e.hasChangedFromOriginal?"mappingEditor-saved":"CurrentMappingEditor-cantSave",attrs:{id:"mappingEditor"}},[B("component-settings",{attrs:{tooltip:e.$t("mappingEditor.settingsButton")}}),e.canSaveCurrentMapping?B("div",{staticClass:"mappingEditor-mappingNotSaved fontSize-small fontWeight-heavy"},[e._v(" "+e._s(e.$jskos.prefLabel(e.$store.getters.getCurrentRegistry))+": "+e._s(e.$t("mappingEditor.notSaved"))+" ")]):e._e(),B("div",{staticClass:"mappingEditorToolbar"},[B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canSwapCurrentMapping?e.$t("mappingEditor.swapMapping"):"",delay:e.defaults.delay.medium},expression:"{ title: canSwapCurrentMapping ? $t('mappingEditor.swapMapping') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canSwapCurrentMapping,"button-disabled":!e.canSwapCurrentMapping},on:{click:e.swapMapping}},[B("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canSaveCurrentMapping?e.$t("mappingEditor.saveMapping",[e.$jskos.prefLabel(e.currentRegistry)]):"",delay:e.defaults.delay.medium},expression:"{ title: canSaveCurrentMapping ? $t('mappingEditor.saveMapping', [$jskos.prefLabel(currentRegistry)]) : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canSaveCurrentMapping,"button-disabled":!e.canSaveCurrentMapping},on:{click:e.saveCurrentMapping}},[B("font-awesome-icon",{attrs:{icon:"save"}})],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canDeleteCurrentMapping?e.$t("mappingEditor.deleteMapping"):!e.$store.getters.getCurrentRegistry.has.auth||e.$store.getters.getCurrentRegistry.auth?"":e.$t("general.authNecessary"),delay:e.defaults.delay.medium},expression:"{ title: canDeleteCurrentMapping ? $t('mappingEditor.deleteMapping') : ((!$store.getters.getCurrentRegistry.has.auth || $store.getters.getCurrentRegistry.auth) ? '' : $t('general.authNecessary')), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{"button-delete":e.canDeleteCurrentMapping,"button-disabled":!e.canDeleteCurrentMapping},on:{click:e.deleteCurrentMapping}},[B("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canCloneCurrentMapping?e.$t("mappingEditor.cloneMapping"):"",delay:e.defaults.delay.medium},expression:"{ title: canCloneCurrentMapping ? $t('mappingEditor.cloneMapping') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canCloneCurrentMapping,"button-disabled":!e.canCloneCurrentMapping},on:{click:e.cloneMapping}},[B("font-awesome-icon",{attrs:{icon:"clone"}})],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canClearCurrentMapping?e.$t("mappingEditor.clearMapping"):"",delay:e.defaults.delay.medium},expression:"{ title: canClearCurrentMapping ? $t('mappingEditor.clearMapping') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditorToolbarItem",class:{button:e.canClearCurrentMapping,"button-disabled":!e.canClearCurrentMapping},on:{click:e.clearMapping}},[B("font-awesome-icon",{attrs:{icon:"ban"}})],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{title:e.mappingStatus.message||"",placement:"bottom"},expression:"{\n        title: mappingStatus.message || '',\n        placement: 'bottom'\n      }"}],staticClass:"mappingEditorToolbarItem mappingEditor-mappingAlert fontWeight-heavy",class:{"text-warning":e.mappingStatus.warning,"text-danger":e.mappingStatus.invalid}},[e.$jskos.conceptsOfMapping(e.mapping).length>0&&e.mappingStatus.message?B("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):e._e()],1)]),e._l([!0,!1],(function(E,P){return B("div",{key:P,staticClass:"mappingEditorPart",class:{"mappingEditorPart-noConcepts":null==e.$store.getters["mapping/getScheme"](E)||!e.$store.getters["mapping/getConcepts"](E).length,"mappingEditorPart-dropTarget":null!=e.$store.state.draggedConcept},style:{order:2*P},on:{dragover:e.dragOver,drop:function(B){return e.drop(B,E)}}},[null!=e.$store.getters["mapping/getScheme"](E)&&e.$store.getters["mapping/getConcepts"](E).length?B("div",[B("div",{staticClass:"mappingScheme fontWeight-heavy"},[B("item-name",{attrs:{item:e.$store.getters["mapping/getScheme"](E),"is-link":!0,"is-left":E,"show-text":!1}})],1),B("div",{staticClass:"mappingConceptList"},[B("div",[B("div",{staticStyle:{flex:"1"}}),B("ul",e._l(e.$store.getters["mapping/getConcepts"](E),(function(P,z){return B("li",{key:z},[B("item-name",{attrs:{item:P,"is-link":!0,"is-left":E,"is-highlighted":e.$jskos.compare(P,e.selected.concept[!0])||e.$jskos.compare(P,e.selected.concept[!1]),"show-popover":!0,"font-size":"large"}}),B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingEditor.removeConceptFromMapping"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingEditor.removeConceptFromMapping'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button fontSize-large",on:{click:function(B){return e.$store.commit({type:"mapping/remove",concept:P,isLeft:E})}}},[B("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)],1)})),0),B("div",{staticStyle:{flex:"1"}})])])]):B("div",[B("div",{staticClass:"mappingNoConcepts"},[null==e.$store.state.draggedConcept?B("div",{staticStyle:{"margin-bottom":"-12px"}},[e._v(" "+e._s(e.$t("mappingEditor.placeholder"))),B("br"),B("br")]):B("div",{staticClass:"fontWeight-heavy"},[e._v(" "+e._s(e.$t("mappingEditor.placeholderDragging"))+" ")]),null==e.$store.state.draggedConcept?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.isAddButtonEnabled(E)?e.$t("mappingEditor.addConcept"):"",delay:e.defaults.delay.medium},expression:"{ title: isAddButtonEnabled(isLeft) ? $t('mappingEditor.addConcept') : '', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"mappingEditor-addButton",class:{button:e.isAddButtonEnabled(E),"button-disabled":!e.isAddButtonEnabled(E)},on:{click:function(B){return e.addToMappingInternal(E)}}},[B("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1):e._e()])])])})),B("div",{staticClass:"mappingTypeSelection"},[B("mapping-type-selection",{attrs:{mapping:e.$store.state.mapping.mapping}})],1),B("div",{staticClass:"mappingEditor-creator fontSize-small"},[e._v(" "+e._s(e.creatorName)+" ")]),B("div",{staticClass:"mappingEditor-title"},[e._v(" "+e._s(e.$t("mappingEditor.title"))+" "),e.currentGuidelines?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingEditor.guidelines"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingEditor.guidelines'), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[B("a",{attrs:{href:e.currentGuidelines.url,target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)]):e._e()]),B("b-modal",{ref:"deleteModal",attrs:{title:e.$t("mappingEditor.deleteTitle"),"hide-footer":""}},[B("p",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.$t("mappingEditor.deleteText"))+" "),e.hasChangedFromOriginal?B("span",[B("br"),e._v(e._s(e.$t("mappingEditor.deleteChangesText"))+" ")]):e._e()]),B("div",{staticClass:"mappingEditor-deleteButtons"},[B("b-button",{attrs:{variant:"danger"},on:{click:function(E){e.deleteOriginalMapping(!0)&&e.$refs.deleteModal.hide()}}},[e._v(" "+e._s(e.$t("mappingEditor.deleteConfirm"))+" ")]),B("b-button",{attrs:{variant:"secondary"},on:{click:function(E){return e.$refs.deleteModal.hide()}}},[e._v(" "+e._s(e.$t("mappingEditor.cancel"))+" ")])],1)]),B("mapping-detail",{ref:"mappingDetail",attrs:{mapping:e.mapping}}),B("div",{staticClass:"mappingEditor-infoIcon"},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.showDetail"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.showDetail'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"info-circle"},on:{click:function(E){return e.$refs.mappingDetail.show()}}})],1)],2)}),[],!1,null,"3af73640",null);E.default=te.exports},"47b7":function(e,E,B){"use strict";B.r(E);var P=B("2ef0"),z=B.n(P),V=B("efd0"),U=B.n(V);function u(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function p(e,E){if(e){if("string"==typeof e)return d(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?d(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function d(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var H={name:"DataModal",components:{},mixins:[B("616f").a],props:{data:{type:[Object,Array],default:null},type:{type:String,default:null,validator:function(e){return-1!==["concept","scheme","mapping","annotation","concordance"].indexOf(e)}},url:{type:[String,Object],default:null},totalCount:{type:Number,default:null}},data:function(){return{}},computed:{computedType:function(){return this.type||(this.$jskos.isConcept(this.isArray?this.data[0]:this.data)?"concept":this.$jskos.isScheme(this.isArray?this.data[0]:this.data)?"scheme":null)},count:function(){return z.a.isArray(this.data)?this.data.length:this.data?1:0},numberText:function(){var e=this.count;return this.totalCount&&e!=this.totalCount?"".concat(e.toLocaleString()," ").concat(this.$t("general.of")," ")+this.$tc("dataModal.".concat(this.computedType),this.totalCount,{count:this.totalCount.toLocaleString()}):this.$tc("dataModal.".concat(this.computedType),e,{count:e})},isArray:function(){return z.a.isArray(this.data)},filename:function(){var e=this.computedType||"resource";return this.isArray&&(e+="s"),e},preparedData:function(){var e=this;if(null==this.data)return null;var E=this.data;this.isArray||(E=[this.data]);var B,P=[],V=u(E);try{var o=function(){var E=B.value,V=void 0;"mapping"==e.computedType?(V=e.$jskos.minifyMapping(E),V=e.$jskos.addMappingIdentifiers(V)):(V=e.$jskos.copyDeep(E),V=z.a.pick(V,z.a.keys(V).filter((function(e){return null!=V[e]})))),V&&P.push(V)};for(V.s();!(B=V.n()).done;)o()}catch(e){V.e(e)}finally{V.f()}return this.isArray?P:P[0]},jsonData:function(){return JSON.stringify(this.preparedData,null,2)},jsonHtml:function(){return U()(this.preparedData)},encodedData:function(){return encodeURIComponent(this.jsonData)},encodedDataNdjson:function(){var e=this.preparedData;return this.isArray||(e=[this.preparedData]),encodeURIComponent(e.map((function(e){return JSON.stringify(e)})).join("\n"))},encodedDataCsv:function(){var e=this;if(!this.computedType.startsWith("mapping"))return null;var E=this.preparedData;this.isArray||(E=[E]);var B,P=this.$jskos.mappingCSV({lineTerminator:"\r\n",labels:!0,creator:!0,language:"de"}),V=u(E=E.map((function(E){return e.$jskos.copyDeep(E)})));try{for(V.s();!(B=V.n()).done;){var U,H=B.value,W=u(this.$jskos.conceptsOfMapping(H));try{for(W.s();!(U=W.n()).done;){var G=U.value,K=this.getObject(G),q=this.$jskos.languagePreference.selectLanguage(z.a.get(K,"prefLabel"));q&&(G.prefLabel={de:z.a.get(K.prefLabel,q)})}}catch(e){W.e(e)}finally{W.f()}H.creator&&H.creator[0]&&(H.creator[0].prefLabel={de:this.$jskos.prefLabel(H.creator[0],{fallbackToUri:!1})})}}catch(e){V.e(e)}finally{V.f()}return encodeURIComponent(P.fromMappings(E))},validated:function(){var e=this.computedType,E=z.a.get(this.$jskos.validate,e,this.$jskos.validate&&this.$jskos.validate.resource);if(!this.preparedData||!E)return!1;var B,P=!0,V=u(this.isArray?this.preparedData:[this.preparedData]);try{for(V.s();!(B=V.n()).done;){var U=B.value;P=P&&E(U)}}catch(e){V.e(e)}finally{V.f()}return P},urls:function(){return z.a.isObject(this.url)?this.url:{"":this.url}},apiDownloadUrls:function(){if(!this.url)return[];if("mapping"!==this.type&&"concordance"!==this.type)return[];for(var e=[],E=0,B=["json","ndjson"];E<B.length;E++)for(var P=B[E],z=0,V=Object.keys(this.urls);z<V.length;z++){var U=V[z],H=this.urls[U];try{var W=new URL(H.startsWith("http")?H:location.protocol+H);W.searchParams.set("download",P),e.push({url:W,type:P,title:U?"".concat(U," (.").concat(P,")"):".".concat(P)})}catch(e){}}return e}},watch:{},methods:{show:function(){this.$refs.dataModal.show()}}},W=(B("a106"),B("2877")),G=Object(W.a)(H,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("b-modal",{ref:"dataModal",staticClass:"fontSize-normal",attrs:{title:e.$t("dataModal.title")+" ("+e.numberText+")",centered:"","hide-footer":"",size:"lg"}},[B("table",{staticClass:"dataModal-links"},[e.count>0?B("tr",[B("td",{staticClass:"fontWeight-heavy text-right"},[e._v(" "+e._s(e.$t("dataModal.localDownload"))+" ("+e._s(e.count.toLocaleString())+") ")]),B("td",[B("ul",{staticClass:"list-group list-group-horizontal"},[e.encodedDataCsv?B("li",{staticClass:"list-group-item py-2 border-0"},[B("a",{attrs:{href:"data:text/csv;charset=utf-8,"+e.encodedDataCsv,download:e.filename+".csv",target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" .csv ")],1)]):e._e(),B("li",{staticClass:"list-group-item py-2 border-0"},[B("a",{attrs:{href:"data:application/json;charset=utf-8,"+e.encodedData,download:e.filename+".json",target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" .json ")],1)]),e.encodedDataNdjson?B("li",{staticClass:"list-group-item py-2 border-0"},[B("a",{attrs:{href:"data:application/json;charset=utf-8,"+e.encodedDataNdjson,download:e.filename+".ndjson",target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" .ndjson ")],1)]):e._e(),B("li",{staticClass:"list-group-item py-2 border-0"},[B("a",{attrs:{href:""},on:{click:function(E){return E.preventDefault(),e.copyToClipboard(e.$refs.jsonCode)}}},[B("font-awesome-icon",{attrs:{icon:"clipboard"}}),e._v(" "+e._s(e.$t("dataModal.exportClipboard"))+" ")],1)])])])]):e._e(),e.url?B("tr",[B("td",{staticClass:"fontWeight-heavy text-right"},[e._v(" "+e._s(e.$t("dataModal.apiLinks"))+" ("+e._s((e.totalCount||e.count).toLocaleString())+") ")]),B("td",[B("ul",{staticClass:"list-group list-group-horizontal list-group-flush"},[e._l(Object.keys(e.urls),(function(E,P){return B("li",{key:"dataModal-links-urls-"+P,staticClass:"list-group-item py-2 border-0"},[B("a",{attrs:{href:e.urls[E],target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" "+e._s(E||e.$t("dataModal.apiUrl"))+" ")],1)])})),e._l(e.apiDownloadUrls,(function(E,P){return B("li",{key:"dataModal-links-apiDownload-"+P,staticClass:"list-group-item py-2 border-0"},[B("a",{attrs:{href:E.url,target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"download"}}),e._v(" "+e._s(E.title)+" ")],1)])}))],2)])]):e._e()]),B("div",{staticClass:"dataModal-json"},[B("pre",[B("code",{ref:"jsonCode",domProps:{innerHTML:e._s(e.jsonHtml)}})])])])}),[],!1,null,"62827e68",null);E.default=G.exports},"47f0":function(e){e.exports=JSON.parse('[{"uri":"http://w3id.org/nkos/nkostype#gazetteer","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["gazetteer"],"prefLabel":{"en":"Gazetteer","de":"Gazetteer"},"altLabel":{"de":["Ortsverzeichnis","Ortslexikon"]},"scopeNote":{"en":["geospatial dictionary of named and typed places"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#glossary","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["glossary"],"prefLabel":{"en":"Glossary","de":"Glossar"},"scopeNote":{"en":["a collection of textual glosses or of specialized terms with their meanings"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#categorization_schema","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["categorization_schema"],"prefLabel":{"en":"Categorization schema","de":"Kategorienschema"},"scopeNote":{"en":["schedule of concepts and pre-coordinated combinations of concepts, arranged by classification"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#classification_schema","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["classification_schema"],"prefLabel":{"en":"Classification schema","de":"Klassifikation"},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#list","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["list"],"prefLabel":{"en":"List","de":"Liste"},"scopeNote":{"en":["a limited set of terms arranged as a simple alphabetical list or in some other logically evident way; containing no relationships of any kind"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#name_authority_list","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["name_authority_list"],"prefLabel":{"en":"Name authority list","de":"Namensdatei"},"scopeNote":{"en":["controlled vocabulary for use in naming particular entities consistently"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#ontology","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["ontology"],"prefLabel":{"en":"Ontology","de":"Ontologie"},"scopeNote":{"en":["A formal model that allows knowledge to be represented for a specific domain. An ontology describes the types of things that exist (classes), the relationships between them (properties) and the logical ways those classes and properties can be used together (axioms)"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#subject_heading_scheme","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["subject_heading_scheme"],"prefLabel":{"en":"Subject heading scheme","de":"Schlagwortliste"},"scopeNote":{"en":["structured vocabulary comprising terms available for subject indexing, plus rules for combining them into pre-coordinated strings of terms where necessary"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#semantic_network","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["semantic_network"],"prefLabel":{"en":"Semantic network","de":"Semantisches Netz"},"scopeNote":{"en":["set of terms representing concepts, modeled as the nodes in a network of variable relationship types"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#synonym_ring","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["synonym_ring"],"prefLabel":{"en":"Synonym ring","de":"Synset"},"scopeNote":{"en":["set of synonymous or almost synonymous terms, any of which can be used to refer to a particular concept"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#taxonomy","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["taxonomy"],"prefLabel":{"en":"Taxonomy","de":"Taxonomie"},"scopeNote":{"en":["scheme of categories and subcategories that can be used to sort and otherwise organize items of knowledge or information"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#terminology","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["terminology"],"prefLabel":{"en":"Terminology","de":"Terminologie"},"scopeNote":{"en":["set of designations belonging to one special language [ISO 1087-1:2000, definition 3.5.1]"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#thesaurus","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["thesaurus"],"prefLabel":{"en":"Thesaurus","de":"Thesaurus"},"scopeNote":{"en":["controlled and structured vocabulary in which concepts are represented by terms, organized so that relationships between concepts are made explicit, and preferred terms are accompanied by lead-in entries for synonyms or quasi-synonyms"]},"narrower":[]},{"uri":"http://w3id.org/nkos/nkostype#dictionary","type":["http://www.w3.org/2004/02/skos/core#Concept"],"@context":"http://gbv.github.io/jskos/context.json","inScheme":[{"uri":"http://w3id.org/nkos/nkostype","prefLabel":{"de":"KOS Typ Vokabular"},"type":["http://www.w3.org/2004/02/skos/core#ConceptScheme","http://w3id.org/nkos/nkostype#list"]}],"publisher":[{"prefLabel":{"de":"DCMI/NKOS Task Group"}}],"notation":["dictionary"],"prefLabel":{"en":"Dictionary","de":"Wörterbuch"},"scopeNote":{"en":["a reference source containing words usually alphabetically arranged along with information about their forms, pronunciations, functions, etymologies, meanings, and syntactical and idiomatic uses"]},"narrower":[]}]')},"48b1":function(e,E,B){},"4a22":function(e,E,B){"use strict";B("35f7")},"4a6b":function(e,E,B){},"4d52":function(e,E,B){"use strict";B("440f")},"4e49":function(e,E,B){},"4ead":function(e,E,B){e.exports={displayName:"LoadingIndicator",description:"Component that displays a spinning loading indicator.",tags:{},exportName:"default",props:[{name:"size",description:"The size of the loading indicator.\n`sm, md, lg`",type:{name:"string"},defaultValue:{func:!1,value:'"md"'}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"4f79":function(e,E,B){"use strict";B("48b1")},5040:function(e,E,B){"use strict";B("8c91")},5144:function(e,E,B){"use strict";B("3341")},5635:function(e,E,B){"use strict";function i(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=r(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,o=function(){};return{s:o,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function r(e,E){if(e){if("string"==typeof e)return o(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?o(e,E):void 0}}function o(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}E.a={mounted:function(){document.addEventListener("click",this.handleClick)},destroyed:function(){document.removeEventListener("click",this.handleClick)},methods:{handleClick:function(e){var E,B=i(this.clickHandlers());try{for(B.s();!(E=B.n()).done;){var P=E.value;(P.elements||[]).reduce((function(E,B){return E||B&&B.contains(e.target)}),!1)||P.handler(e)}}catch(e){B.e(e)}finally{B.f()}},clickHandlers:function(){return[]}}}},"564d":function(e,E,B){"use strict";E.a={computed:{selected:function(){return this.$store.state.selected},config:function(){return this.$store.state.config},$settings:function(){return this.$store.state.settings.settings},settingsLoaded:function(){return this.$store.state.settings.loaded},configLoaded:function(){return this.$store.state.configLoaded},componentName:function(){return this.$options.name},componentSettings:function(){return this.settingsLoaded&&this.$settings.components&&this.$settings.components[this.componentName]||{}},loadingGlobal:{get:function(){return this.$store.state.loading},set:function(e){this.$store.commit({type:"setLoading",value:e})}},locale:function(){return this.$i18n.locale}}}},"56c4":function(e,E,B){e.exports={displayName:"RegistryNotation",exportName:"default",description:"",tags:{},props:[{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"registry",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"tooltip",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"570c":function(e,E,B){"use strict";var P=B("2ef0"),z=B.n(P),V=B("616f");function a(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=s(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function s(e,E){if(e){if("string"==typeof e)return c(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?c(e,E):void 0}}function c(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}E.a={mixins:[V.a],computed:{loadConceptsMappedStatus:function(){return this.$store.state.settings.settings.components.ConceptListWrapper.loadConceptsMappedStatus},loadConceptsMappedStatusOtherScheme:function(){return z.a.isBoolean(this.isLeft)?this.$store.state.selected.scheme[!this.isLeft]:null}},created:function(){this.loadMappingsForConcepts=z.a.debounce(this._loadMappingsForConcepts,300)},watch:{loadConceptsMappedStatusConceptsToLoad:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])},currentRegistry:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])},loadConceptsMappedStatusOtherScheme:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])},loadConceptsMappedStatus:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad||[])}},methods:{_loadMappingsForConcepts:function(e){var E=this;if(this.loadConceptsMappedStatus){var B=this.currentRegistry,P=this.loadConceptsMappedStatusOtherScheme,V=(e=e.filter((function(e){return!z.a.get(e,"__MAPPED__",[]).find((function(e){return E.$jskos.compare(e.registry,B)&&E.$jskos.compare(e.scheme,P)}))}))).map((function(e){return e.uri}));P&&V.length&&Promise.all(z.a.chunk(V,15).map((function(e){return E.getMappings({from:e.join("|"),toScheme:P.uri,direction:"both",registry:B.uri,limit:500})}))).then((function(){var V,U=a(e.filter((function(e){return!z.a.get(e,"__MAPPED__",[]).find((function(e){return E.$jskos.compare(e.registry,B)&&E.$jskos.compare(e.scheme,P)}))})));try{for(U.s();!(V=U.n()).done;){var H=V.value;E.$set(H,"__MAPPED__",[]),H.__MAPPED__.push({registry:B,scheme:P,exist:[]})}}catch(e){U.e(e)}finally{U.f()}}))}}}}},5785:function(e,E,B){e.exports={description:"Resizing slider.",tags:{},exportName:"default",displayName:"ResizingSlider",props:[{name:"isColumn",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},5865:function(e,E,B){e.exports={description:"Concept scheme selection component.\n\nIf no scheme is selected, the full version of the component is shown, containing a list of schemes with a filter input, as well as a list of favorite concepts.\nIf a scheme is selected, a small version of the component is shown (containing only the scheme name and the concept search). By clicking the arrow on the top right of the component, the full version can be shown as a popover.",tags:{},exportName:"default",displayName:"ConceptSchemeSelection",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"58f5":function(e,E,B){},"5a85":function(e,E,B){e.exports={exportName:"default",displayName:"TheNavbar",description:"The navigation bar.",tags:{},props:[{name:"reduced",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"5b68":function(e,E,B){},"5cd2":function(e,E,B){"use strict";B.r(E);var P=B("a34a"),z=B.n(P),V=B("2ef0"),U=B.n(V),H=B("9ecc"),W=B("a189"),G=B("616f"),K=B("564d");function f(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function h(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){f(V,P,z,a,s,"next",e)}function s(e){f(V,P,z,a,s,"throw",e)}a(void 0)}))}}function m(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function g(e,E){if(e){if("string"==typeof e)return v(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?v(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function v(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var q={name:"TheSettings",components:{RegistryInfo:H.default},mixins:[W.a,G.a,K.a],props:{tab:{type:Number,default:0}},data:function(){var e=this;return{localSettings:null,creatorRewritten:!1,dlMappingsReady:!1,dlAllMappings:null,dlAllMappingsCsv:null,dlMappings:[],uploadedFile:null,uploadedFileStatus:"",deleteMappingsButtons:!1,updateLocalSettings:U.a.debounce((function(){e.$store.commit({type:"settings/save",settings:U.a.cloneDeep(e.localSettings)}),e.creatorRewritten=!1}),200)}},computed:{availableMappingRegistries:function(){var e=this;return this.config.registries.filter((function(E){return E.isAuthorizedFor({type:"mappings",action:"create",user:e.user})}))},components:function(){for(var e=this,E=[],n=function(){for(var z=P[B],V={name:z,settings:[],settingsValues:{}},a=function(){for(var E=W[H],B=e.$store.state.settings.componentSettings[z][E],r=function(){var H=G[P];V.settings.push(Object.assign({key:E,isLeft:H},B)),Object.defineProperty(V.settingsValues,E+(B.sideDependent?"-".concat(H):""),{get:function(){return B.sideDependent?e.$settings.components[z][E][H]:e.$settings.components[z][E]},set:function(P){"Boolean"!=B.type||U.a.isBoolean(P)||(P=!!P),"Number"!=B.type||U.a.isNumber(P)||(P=parseInt(P),(isNaN(P)||P<B.min||P>B.max)&&(e.$log.warn("Tried to save invalid value for setting ".concat(z," -> ").concat(E,", fallback to default value (").concat(B.default,").")),P=B.default)),e.$store.commit({type:"settings/setComponentSetting",component:z,setting:E,isLeft:H,value:P})}})},P=0,G=B.sideDependent?[!0,!1]:[void 0];P<G.length;P++)r()},H=0,W=Object.keys(e.$store.state.settings.componentSettings[z]);H<W.length;H++)a();E.push(V)},B=0,P=Object.keys(this.$store.state.settings.componentSettings);B<P.length;B++)n();return E}},watch:{localSettings:{handler:function(){this.updateLocalSettings()},deep:!0},uploadedFile:function(){var e=this;if(this.uploadedFile&&this.localMappingsRegistry){var E=new FileReader;E.onloadend=function(E){var B,P,z=E.target.result;B=z.split("\n"),P={imported:0,skipped:0,error:0,empty:0};var V,U=[],H=m(B);try{for(H.s();!(V=H.n()).done;){var W=V.value;if(""!==W)try{var G=JSON.parse(W);U.push(G)}catch(e){P.error+=1}else P.empty+=1}}catch(e){H.e(e)}finally{H.f()}e.postMappings({mappings:U,registry:e.localMappingsRegistry,_alert:!1,_refresh:!1}).then((function(E){P.imported=E.length,P.skipped=B.length-P.imported-P.error-P.empty,e.uploadedFileStatus="".concat(P.imported," mappings imported, ").concat(P.skipped," skipped, ").concat(P.error," errored"),e.$refs.fileUpload.reset(),e.refreshDownloads(),e.$store.commit("mapping/setRefresh",{registry:e.localMappingsRegistry})})).catch((function(E){e.$log.error("TheSettings - Error uploading mappings",E)}))},E.readAsText(this.uploadedFile)}},"localSettings.creatorUri":function(e){if(this.user){var E=this.user.name,B=Object.values(this.user.identities).find((function(E){return E.uri===e}));B&&(E=B.name),E&&(this.localSettings.creator=E)}}},methods:{show:function(){this.$refs.settingsModal.show(),this.localSettings=U.a.cloneDeep(this.$settings),this.refreshDownloads()},refreshDownloads:function(){var e=this;if(this.localMappingsRegistry){this.dlMappingsReady=!1,this.dlAllMappings=null,this.dlMappings=[];var E=[];this.getMappings({registry:this.localMappingsRegistry}).then((function(B){var P,z=[],V=m(E=B);try{for(V.s();!(P=V.n()).done;)for(var U=P.value,H=0,W=["from","to"];H<W.length;H++){var G,K=W[H],q=m(e.$jskos.conceptsOfMapping(U,K));try{for(q.s();!(G=q.n()).done;){var J=G.value,Q=U[K+"Scheme"];J.inScheme&&J.inScheme.length||(J.inScheme=[Q]),z.push(e.loadConcepts([J],{scheme:Q}))}}catch(e){q.e(e)}finally{q.f()}}}catch(e){V.e(e)}finally{V.f()}return Promise.all(z)})).then((function(){var n=function(E){var B,P=e.$jskos.minifyMapping(E),z=m(e.$jskos.conceptsOfMapping(P));try{for(z.s();!(B=z.n()).done;){var V=B.value,H=e.getObject(V),W=e.$jskos.languagePreference.selectLanguage(U.a.get(H,"prefLabel"));W&&(V.prefLabel=U.a.pick(H.prefLabel,[W]))}}catch(e){z.e(e)}finally{z.f()}return JSON.stringify(P)};e.dlAllMappings=E.map(n).join("\n");var B,P=m(E);try{var o=function(){var E=B.value;E.fromScheme=e.getObject(E.fromScheme)||E.fromScheme,E.toScheme=e.getObject(E.toScheme)||E.toScheme;var P=e.dlMappings.find((function(B){return e.$jskos.compare(E.fromScheme,B.fromScheme)&&e.$jskos.compare(E.toScheme,B.toScheme)}));P?P.mappings.push(E):(P={fromScheme:E.fromScheme,toScheme:E.toScheme,mappings:[E]},e.dlMappings.push(P))};for(P.s();!(B=P.n()).done;)o()}catch(e){P.e(e)}finally{P.f()}var z,V=e.$jskos.mappingCSV({lineTerminator:"\r\n",labels:!0,creator:!0,language:"de"}),H=[],W=m(e.dlMappings);try{for(W.s();!(z=W.n()).done;){var G=z.value;G.ndjson=G.mappings.map(n).join("\n"),G.mappings=G.mappings.map((function(E){return e.$jskos.minifyMapping(E)})),H=H.concat(G.mappings);var K,q=m(G.mappings);try{for(q.s();!(K=q.n()).done;){var J,Q=K.value,X=m(e.$jskos.conceptsOfMapping(Q));try{for(X.s();!(J=X.n()).done;){var Y=J.value,Z=e.getObject(Y),ee=e.$jskos.languagePreference.selectLanguage(U.a.get(Z,"prefLabel"));ee&&(Y.prefLabel={de:U.a.get(Z.prefLabel,ee)})}}catch(e){X.e(e)}finally{X.f()}Q.creator&&Q.creator[0]&&(Q.creator[0].prefLabel={de:e.$jskos.prefLabel(Q.creator[0],{fallbackToUri:!1})})}}catch(e){q.e(e)}finally{q.f()}G.csv=V.fromMappings(G.mappings),G.label=(e.$jskos.notation(U.a.get(G,"fromScheme"),"scheme")||"?")+" to "+(e.$jskos.notation(U.a.get(G,"toScheme"),"scheme")||"?"),G.filename="".concat(e.$jskos.notation(U.a.get(G,"fromScheme"),"scheme")||"?","_to_").concat(e.$jskos.notation(U.a.get(G,"toScheme"),"scheme")||"?","_").concat(e.localSettings.creator)}}catch(e){W.e(e)}finally{W.f()}e.dlAllMappingsCsv=V.fromMappings(H),e.dlMappingsReady=!0})).catch((function(E){e.$log.error("TheSettings - Error refreshing local mappings download",E)}))}},rewriteCreator:function(){var e=this;return h(z.a.mark((function t(){var E,B,P,V;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(e.localMappingsRegistry){z.next=2;break}return z.abrupt("return");case 2:return z.prev=2,z.next=5,e.getMappings({registry:e.localMappingsRegistry});case 5:E=z.sent,B=m(E),z.prev=7,B.s();case 9:if((P=B.n()).done){z.next=15;break}return V=P.value,z.next=13,e.putMapping({mapping:V,_reload:!1,_alert:!1});case 13:z.next=9;break;case 15:z.next=20;break;case 17:z.prev=17,z.t0=z.catch(7),B.e(z.t0);case 20:return z.prev=20,B.f(),z.finish(20);case 23:e.creatorRewritten=!0,e.$store.commit("mapping/setRefresh",{registry:e.localMappingsRegistry}),e.refreshDownloads(),z.next=31;break;case 28:z.prev=28,z.t1=z.catch(2),e.$log.error("TheSettings - Error rewriting creator",z.t1);case 31:case"end":return z.stop()}}),t,null,[[2,28],[7,17,20,23]])})))()},resetFlex:function(){var e=U.a.cloneDeep(this.localSettings.flex);U.a.forOwn(e,(function(E,B){e[B]=""})),this.$store.commit({type:"settings/set",prop:"flex",value:e})},deleteMappings_:function(){var e=this;return h(z.a.mark((function t(){var E;return z.a.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:if(e.localMappingsRegistry){B.next=2;break}return B.abrupt("return");case 2:return B.prev=2,B.next=5,e.getMappings({registry:e.localMappingsRegistry});case 5:return E=B.sent,B.next=8,e.deleteMappings({mappings:E,registry:e.localMappingsRegistry,_alert:!1,_refresh:!1,_trash:!1});case 8:e.$store.commit("mapping/setRefresh",{registry:e.localMappingsRegistry}),e.refreshDownloads(),e.deleteMappingsButtons=!1,e.$store.commit("mapping/clearTrash"),B.next=17;break;case 14:B.prev=14,B.t0=B.catch(2),e.$log.error("TheSettings - Error deleting local mappings",B.t0);case 17:case"end":return B.stop()}}),t,null,[[2,14]])})))()},login:function(e){var E,B;e?(E=e.loginURL,B="login"):(E=this.config.auth+"logout",B="logout"),this.$store.commit({type:"auth/openWindow",url:E,eventType:B})},replaceKey:function(e){return{shift:"Shift",alt:"Alt",option:"Alt",ctrl:"Ctrl",meta:"Cmd",command:"Cmd"}[e]||e}}},J=(B("5144"),B("38c8"),B("2877")),Q=Object(J.a)(q,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("b-modal",{ref:"settingsModal",attrs:{id:"settingsModal",title:e.$t("settings.title"),"hide-footer":"",centered:"",size:"lg"}},[B("b-card",{attrs:{"no-body":"","footer-tag":"footer"}},[B("tabs",{attrs:{fill:"",value:e.tab},on:{change:function(E){return e.$emit("update:tab",E.index)}}},[B("tab",{attrs:{title:e.$t("settingsTabs")[0]}},[e.localSettings?B("div",[e.user&&e.authorized?B("p",[B("span",{staticClass:"text-success"},[e._v(" "+e._s(e.$t("settings.loggedIn"))+" ")]),B("a",{attrs:{href:e.$store.state.auth.about.baseUrl+"account",target:"_blank"}},[e._v(" "+e._s(e.$t("settings.accountPage"))+" ")]),e._v(" • "),B("a",{attrs:{href:""},on:{click:function(E){return E.preventDefault(),e.login(null)}}},[e._v(" "+e._s(e.$t("settings.logOutButton"))+" ")])]):B("p",[B("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.$t("settings.loggedOut"))+" ")])]),e.$store.state.auth.available&&!e.user&&e.providers.length?B("p",e._l(e.providers,(function(E){return B("b-button",{key:"login-provider-"+E.id,attrs:{block:"",variant:"light"},on:{click:function(B){return e.login(E)}}},[E.image?B("img",{staticStyle:{"margin-right":"5px"},attrs:{src:E.image,height:"20px"}}):e._e(),e._v(" "+e._s(e.$t("settings.logInButton"))+" via "+e._s(E.name)+" ")])})),1):e._e(),e.$store.state.auth.connected?B("div",[B("p",[B("span",{domProps:{innerHTML:e._s(e.$t("settings.accountInfo",{url:e.config.auth}))}}),e.$store.state.auth.about.urls.imprint?B("a",{attrs:{href:e.$store.state.auth.about.urls.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("settings.impressum"))+" ")]):e._e(),e._v(" • "),e.$store.state.auth.about.urls.privacy?B("a",{attrs:{href:e.$store.state.auth.about.urls.privacy,target:"_blank"}},[e._v(" "+e._s(e.$t("settings.privacyPolicy"))+" ")]):e._e()])]):e._e(),B("p",[e._v(" "+e._s(e.$t("settings.creatorInfo"))+" ")]),B("p",[B("b",[e._v(e._s(e.$t("settings.creator")))]),B("b-form-input",{attrs:{placeholder:e.$t("settings.creatorPlaceholder"),type:"text"},model:{value:e.localSettings.creator,callback:function(E){e.$set(e.localSettings,"creator",E)},expression:"localSettings.creator"}})],1),B("p",[B("b",[e._v(e._s(e.$t("settings.creatorUri")))]),e.user&&e.userUris&&e.userUris.length?B("span",[B("b-form-select",{model:{value:e.localSettings.creatorUri,callback:function(E){e.$set(e.localSettings,"creatorUri",E)},expression:"localSettings.creatorUri"}},e._l(e.userUris,(function(E){return B("option",{key:"settings-uris-"+E,domProps:{value:E}},[e._v(" "+e._s(E)+" ")])})),0)],1):B("span",[B("b-form-input",{attrs:{state:!e.localSettings.creatorUri||e.$jskos.isValidUri(e.localSettings.creatorUri),placeholder:"https://",type:"text"},model:{value:e.localSettings.creatorUri,callback:function(E){e.$set(e.localSettings,"creatorUri",E)},expression:"localSettings.creatorUri"}}),e.localSettings.creatorUri&&!e.$jskos.isValidUri(e.localSettings.creatorUri)?B("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.$t("settings.creatorUriInvalid"))+" ")]):e._e()],1)])]):e._e()]),B("tab",{attrs:{title:e.$t("settingsTabs")[1]}},[B("h4",[e._v(e._s(e.$t("settings.mappingRegistries")))]),e._l(e.config.registries.filter((function(E){return e.$jskos.mappingRegistryIsStored(E)})),(function(E,P){return B("div",{key:"settingsModal-mapping-registries-"+P,staticClass:"settingsModal-mapping-registry",class:{"selected-registry":e.$jskos.compare(E,e.currentRegistry)}},[B("b-form-checkbox",{attrs:{disabled:e.$jskos.compare(E,e.currentRegistry)},model:{value:e.showRegistry[E.uri],callback:function(B){e.$set(e.showRegistry,E.uri,B)},expression:"showRegistry[registry.uri]"}}),B("registry-info",{staticClass:"settings-sources",attrs:{registry:E},nativeOn:{click:function(B){return e.$store.commit({type:"settings/set",prop:"mappingRegistry",value:E.uri})}}})],1)})),B("h4",[e._v(e._s(e.$t("settings.otherRegistries")))]),e._l(e.config.registries.filter((function(E){return!e.$jskos.mappingRegistryIsStored(E)})),(function(E,P){return B("div",{key:"settingsModal-other-registries-"+P,staticClass:"settingsModal-mapping-registry"},[E.has.mappings?B("b-form-checkbox",{model:{value:e.showRegistry[E.uri],callback:function(B){e.$set(e.showRegistry,E.uri,B)},expression:"showRegistry[registry.uri]"}}):e._e(),B("registry-info",{staticClass:"settings-sources",attrs:{registry:E}})],1)}))],2),B("tab",{attrs:{title:e.$t("settingsTabs")[2]}},[B("div",{staticClass:"settingsModal-componentSettings-component"},[e.localSettings?B("div",{staticClass:"form-inline"},[B("label",{staticStyle:{"padding-right":"0.5em"}},[e._v(e._s(e.$t("settings.language"))+":")]),B("b-form-select",{model:{value:e.$i18n.locale,callback:function(E){e.$set(e.$i18n,"locale",E)},expression:"$i18n.locale"}},e._l(e.config.languages,(function(E){return B("option",{key:E,domProps:{value:E}},[e._v(" "+e._s(e.$t("languages."+E))+" ")])})),0)],1):e._e(),B("span",{staticClass:"fontSize-small text-lightGrey",domProps:{innerHTML:e._s(e.$t("settings.languageContribution"))}})]),e.localSettings&&e.config.autoRefresh.update?B("div",{staticClass:"settingsModal-componentSettings-component"},[B("b-form-checkbox",{model:{value:e.localSettings.checkForUpdates,callback:function(E){e.$set(e.localSettings,"checkForUpdates",E)},expression:"localSettings.checkForUpdates"}},[e._v(" "+e._s(e.$t("settings.checkForUpdates"))+" ")]),B("p",{staticClass:"fontSize-small text-lightGrey"},[e._v(" "+e._s(e.$t("settings.checkForUpdatesExplanation",[Math.floor(e.config.autoRefresh.update/1e3)]))+" ")])],1):e._e(),B("div",{staticClass:"settingsModal-componentSettings-component"},[B("b-button",{attrs:{variant:"secondary"},on:{click:e.resetFlex}},[e._v(" "+e._s(e.$t("settings.resetSizes"))+" ")])],1),e._l(e.components,(function(E){return B("div",{key:"settings-componentSettings-"+E.name,staticClass:"settingsModal-componentSettings-component"},[B("h5",[e._v(e._s(E.name))]),e._l(E.settings,(function(P){return B("div",{key:"settings-componentSettings-"+E.name+"-"+P.key+"-"+P.isLeft},["Boolean"==P.type?B("div",[B("b-form-checkbox",{staticStyle:{"user-select":"none"},model:{value:E.settingsValues[P.key+(P.sideDependent?"-"+P.isLeft:"")],callback:function(B){e.$set(E.settingsValues,P.key+(P.sideDependent?"-"+P.isLeft:""),B)},expression:"component.settingsValues[setting.key + (setting.sideDependent ? `-${setting.isLeft}` : '')]"}},[e._v(" "+e._s(e.$jskos.prefLabel(P))+" "+e._s(P.sideDependent?" ("+e.$t("general."+(P.isLeft?"left":"right"))+")":"")+" ")]),B("span",{staticClass:"fontSize-small text-lightGrey"},[e._v(" "+e._s((e.$jskos.languageMapContent(P,"definition")||[])[0])+" "+e._s(e.$t("general.default"))+": "+e._s(P.default?e.$t("general.enabled"):e.$t("general.disabled"))+" ")])],1):"Number"==P.type?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.languageMapContent(P,"definition"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.languageMapContent(setting, 'definition'), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(e.$jskos.prefLabel(P))+" "+e._s(P.sideDependent?" ("+e.$t("general."+(P.isLeft?"left":"right"))+")":"")+" "),B("b-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{type:"number",min:P.min,max:P.max,size:"sm"},on:{click:function(e){return e.target.select()}},model:{value:E.settingsValues[P.key+(P.sideDependent?"-"+P.isLeft:"")],callback:function(B){e.$set(E.settingsValues,P.key+(P.sideDependent?"-"+P.isLeft:""),B)},expression:"component.settingsValues[setting.key + (setting.sideDependent ? `-${setting.isLeft}` : '')]"}}),B("br"),B("span",{staticClass:"fontSize-small text-lightGrey"},[e._v(" "+e._s((e.$jskos.languageMapContent(P,"definition")||[])[0])+" "+e._s(e.$t("general.default"))+": "+e._s(P.default)+" ")])],1):B("div",{class:P.class},[e._v(" "+e._s(e.$jskos.prefLabel(P))+" ")])])}))],2)}))],2),e.config.shortcuts&&e.config.shortcuts.length?B("tab",{attrs:{title:e.$t("settingsTabs")[3]}},[B("table",{staticClass:"table table-borderless"},[B("tbody",e._l(e.config.shortcuts,(function(E){return B("tr",{key:"settingsModal-shortcuts-"+E.id},[B("td",[B("span",{domProps:{innerHTML:e._s(E.keys.split(",").map((function(E){return E.split("+").map((function(E){return"<kbd>"+e.replaceKey(E)+"</kbd>"})).join(" + ")})).join(" "+e.$t("general.or")+" "))}})]),B("td",{staticClass:"text-left"},[e._v(" "+e._s(e.$jskos.prefLabel(E)||E.action)+" ")])])})),0)])]):e._e(),e.localMappingsRegistry?B("tab",{attrs:{title:e.$t("settingsTabs")[4]}},[B("div",[B("p",[e._v(e._s(e.$t("settings.localMappingsInfo")))])]),e.localMappingsRegistry&&e.dlAllMappings&&e.dlMappingsReady?B("div",[B("h4",[e._v(e._s(e.$t("settings.localDownload")))]),e._l(e.dlMappings,(function(E,P){return B("span",{key:P},[e._v(" "+e._s(E.label)+" ("+e._s(E.mappings.length)+"): "),B("a",{attrs:{href:""},on:{click:function(B){return B.preventDefault(),e.downloadFile(E.filename+".ndjson",E.ndjson)}}},[e._v(" JSKOS ")]),B("a",{attrs:{href:""},on:{click:function(B){return B.preventDefault(),e.downloadFile(E.filename+".csv",E.csv)}}},[e._v(" CSV ")]),B("br")])})),B("br"),B("a",{attrs:{href:""},on:{click:function(E){return E.preventDefault(),e.downloadFile("mappings.ndjson",e.dlAllMappings)}}},[e._v(" "+e._s(e.$t("settings.localDownloadJskos",[e.dlAllMappings.split("\n").length]))+" ")]),B("br"),B("a",{attrs:{href:""},on:{click:function(E){return E.preventDefault(),e.downloadFile("mappings.csv",e.dlAllMappingsCsv)}}},[e._v(" "+e._s(e.$t("settings.localDownloadCsv",[e.dlAllMappingsCsv.split("\n").length-2]))+" ")])],2):e._e(),B("br"),e.localMappingsRegistry?B("div",[B("h4",[e._v(e._s(e.$t("settings.localUpload")))]),B("b-form-file",{ref:"fileUpload",attrs:{state:Boolean(e.uploadedFile),placeholder:e.$t("settings.localUploadPlaceholder"),accept:".ndjson"},model:{value:e.uploadedFile,callback:function(E){e.uploadedFile=E},expression:"uploadedFile"}}),B("p",[e._v(" "+e._s(e.uploadedFileStatus)+" ")])],1):e._e(),e.localMappingsRegistry&&e.dlAllMappings?B("div",[B("h4",[e._v(e._s(e.$t("settings.localDeleteTitle")))]),B("b-button",{attrs:{disabled:!e.dlAllMappings,variant:"danger","hide-footer":""},on:{click:function(E){e.deleteMappingsButtons=!0}}},[e._v(" "+e._s(e.$t("settings.localDeleteText"))+" ")]),e.deleteMappingsButtons?B("p",[e._v(" "+e._s(e.$t("settings.localDeleteSure"))+" "),B("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:e.deleteMappings_}},[e._v(" "+e._s(e.$t("general.yes"))+" ")]),B("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(E){e.deleteMappingsButtons=!1}}},[e._v(" "+e._s(e.$t("general.no"))+" ")])],1):e._e()],1):e._e(),B("br"),B("br"),e.localMappingsRegistry&&e.dlAllMappings?B("div",[B("h4",[e._v(e._s(e.$t("settings.creatorRewriteTitle")))]),B("p",{domProps:{innerHTML:e._s(e.$t("settings.creatorRewriteText"))}}),B("p",{staticClass:"fontSize-small"},[B("b",[e._v("Name:")]),e._v(" "+e._s(e.$jskos.prefLabel(e.creator))),B("br"),B("b",[e._v("URI:")]),e._v(" "+e._s(e.creator.uri)+" ")]),B("p",[B("b-button",{attrs:{variant:e.creatorRewritten?"success":"warning"},on:{click:e.rewriteCreator}},[e._v(" "+e._s(e.$t("settings.creatorRewriteButton"))+" ")])],1)]):e._e()]):e._e()],1),B("span",{attrs:{slot:"footer"},slot:"footer"},[B("a",{attrs:{href:"https://github.com/gbv/cocoda",target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:["fab","github"]}}),e._v(" GitHub ")],1),e.config.buildInfo.version&&""!=e.config.buildInfo.version?B("span",[e._v(" • "+e._s(e.$t("settings.version"))+" "+e._s(e.config.buildInfo.version)+" ")]):e._e(),e.config.buildInfo.gitCommit&&e.config.buildInfo.gitCommitShort?B("span",[e._v(" • "+e._s(e.$t("settings.currentCommit"))+": "),B("a",{attrs:{href:"https://github.com/gbv/cocoda/commit/"+e.config.buildInfo.gitCommit,target:"_blank"}},[e._v(" "+e._s(e.config.buildInfo.gitCommitShort)+" ")])]):e._e(),e.config.buildInfo.buildDate?B("span",[e._v(" • "+e._s(e.$t("settings.buildDate"))+": "+e._s(e.dateToString(e.config.buildInfo.buildDate))+" ")]):e._e(),B("br"),B("span",[e._v(" "+e._s(e.$t("settings.suggestions1"))+" "),B("a",{attrs:{href:"https://github.com/gbv/cocoda/issues",target:"_blank"}},[e._v(e._s(e.$t("settings.suggestions2")))]),e._v(e._s(e.$t("settings.suggestions3"))+" ")])])],1)],1)}),[],!1,null,"36f5bc0f",null);E.default=Q.exports},"5d13":function(e,E,B){},"5f3b":function(e,E,B){},"5f57":function(e,E,B){e.exports={displayName:"LoadingIndicatorFull",description:"Component that shows a loading indicator overlay covering another component.",tags:{},exportName:"default",props:[{name:"size",description:"The size of the loading indicator.\n`sm, md, lg`\n\nSize `sm` causes loading text to be inline with loading indicator.",type:{name:"string"},defaultValue:{func:!1,value:'"lg"'}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"616f":function(e,E,B){"use strict";var P=B("a34a"),z=B.n(P),V=B("cf65"),U=B.n(V),H=B("ca6b"),W=B.n(H),G=B("2ef0"),K=B.n(G),q=B("564d");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,E){return function g(e){if(Array.isArray(e))return e}(e)||function m(e,E){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var B=[],P=!0,z=!1,V=void 0;try{for(var U,H=e[Symbol.iterator]();!(P=(U=H.next()).done)&&(B.push(U.value),!E||B.length!==E);P=!0);}catch(e){z=!0,V=e}finally{try{P||null==H.return||H.return()}finally{if(z)throw V}}return B}}(e,E)||C(e,E)||function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,E){var B=Object.keys(e);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(e);E&&(P=P.filter((function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable}))),B.push.apply(B,P)}return B}function y(e){for(var E=1;E<arguments.length;E++){var B=null!=arguments[E]?arguments[E]:{};E%2?v(Object(B),!0).forEach((function(E){_(e,E,B[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(B)):v(Object(B)).forEach((function(E){Object.defineProperty(e,E,Object.getOwnPropertyDescriptor(B,E))}))}return e}function b(e,E){if(null==e)return{};var B,P,z=function w(e,E){if(null==e)return{};var B,P,z={},V=Object.keys(e);for(P=0;P<V.length;P++)B=V[P],E.indexOf(B)>=0||(z[B]=e[B]);return z}(e,E);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(e);for(P=0;P<V.length;P++)B=V[P],E.indexOf(B)>=0||Object.prototype.propertyIsEnumerable.call(e,B)&&(z[B]=e[B])}return z}function S(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function k(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){S(V,P,z,a,s,"next",e)}function s(e){S(V,P,z,a,s,"throw",e)}a(void 0)}))}}function _(e,E,B){return E in e?Object.defineProperty(e,E,{value:B,enumerable:!0,configurable:!0,writable:!0}):e[E]=B,e}function $(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=C(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function C(e,E){if(e){if("string"==typeof e)return x(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?x(e,E):void 0}}function x(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var J={},Q={},X=[],Y=[],Z=[],ee=[];E.a={mixins:[q.a],data:function(){return{objects:J,topConcepts:Q,loadingConcepts:X,erroredConcepts:Y,schemes:Z,concordances:ee}},computed:{favoriteSchemes:function(){var e=[];if(this.schemes.length){var E,B=$(this.$store.getters.favoriteSchemes);try{for(B.s();!(E=B.n()).done;){var P=E.value,z=this.getObject({uri:P});z&&!this.$jskos.isContainedIn(z,e)&&e.push(z)}}catch(e){B.e(e)}finally{B.f()}}return e},favoriteConcepts:function(){var e=[];if(this.schemes.length){var E,B=$(this.$store.getters.favoriteConcepts);try{for(B.s();!(E=B.n()).done;){var P=E.value,z=this.saveObject(P,{type:"concept"});e.push(z)}}catch(e){B.e(e)}finally{B.f()}}return this.loadConcepts(e.filter((function(e){return!e.__DETAILSLOADED__}))),e},localMappingsRegistry:function(){return this.config.registries.find((function(e){return"LocalMappings"==e.constructor.providerName}))},currentRegistry:function(){return this.$store.getters.getCurrentRegistry},mappingRegistries:function(){return this.config.registries.filter((function(e){return e.has.mappings||e.has.occurrences}))},showRegistry:function(){var e,E=this,B={},P=$(this.mappingRegistries);try{var r=function(){var P=e.value;Object.defineProperty(B,P.uri,{get:function(){var e=E.$settings.mappingBrowserShowRegistry[P.uri];return null==e||e},set:function(e){!e&&E.$jskos.compare(P,E.currentRegistry)||(E.$store.commit({type:"settings/set",prop:"mappingBrowserShowRegistry",value:Object.assign({},E.$settings.mappingBrowserShowRegistry,_({},P.uri,e))}),E.$store.commit("mapping/setRefresh",{registry:P.uri}))}})};for(P.s();!(e=P.n()).done;)r()}catch(e){P.e(e)}finally{P.f()}return B}},methods:{adjustConcept:function(e){var E=this;if(!e)throw new Error("Can't adjust object that is null or undefined.");for(var n=function(){var z=P[B];e[z]&&e[z].forEach((function(B,P){null!=B&&((B=E.saveObject(B,{type:"concept",scheme:K.a.get(e,"inScheme[0]")})).inScheme||E.$set(B,"inScheme",e.inScheme),E.$set(e[z],P,B))}))},B=0,P=["ancestors","broader","narrower"];B<P.length;B++)n()},saveObject:function(e){var E=this,B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.uri)throw new Error("Can't save object that is null or undefined or that doesn't have a URI.");var P=this.getObject(e);if(e===P)return e;if(P)for(var z=0,V=Object.keys(e);z<V.length;z++){var H=V[z];if((K.a.isEmpty(P[H])||Array.isArray(P[H])&&P[H].includes(null))&&null!=e[H]&&!K.a.isEqual(P[H],e[H])||K.a.isArray(P[H])&&K.a.isArray(e[H])&&e[H].length>P[H].length)this.$set(P,H,e[H]);else if(!K.a.isArray(P[H])&&!K.a.isArray(e[H])&&K.a.isObject(P[H])&&K.a.isObject(e[H]))for(var W=0,G=Object.keys(e[H]);W<G.length;W++){var q=G[W];P[H][q]||(P[H][q]=e[H][q])}}else{e=U.a.deepCopy(e);var J=B.type||(U.a.isScheme(e)?"scheme":"concept");e.__DETAILSLOADED__=null!=e.__DETAILSLOADED__?e.__DETAILSLOADED__:0,e.__SAVED__=!0,"scheme"==J&&(e.type=e.type||["http://www.w3.org/2004/02/skos/core#ConceptScheme"],this.topConcepts[e.uri]||this.$set(this.topConcepts,e.uri,[null])),"concept"==J&&(e.type=e.type||["http://www.w3.org/2004/02/skos/core#Concept"],e.__ISOPEN__={true:!1,false:!1},e.inScheme=e.inScheme||[B.scheme],e.inScheme=e.inScheme.map((function(e){return E.getObject(e)})).filter((function(e){return null!=e})).sort((function(e,E){return e.__SAVED__?-1:E.__SAVED__?1:0})),0==e.inScheme.length&&this.$log.warn(e,e.uri+": inScheme has no elements",e.inScheme.slice(),"with scheme",B.scheme));var Q,X=U.a.getAllUris(e),Y=$(X);try{for(Y.s();!(Q=Y.n()).done;){var Z=Q.value;this.$set(this.objects,Z,e)}}catch(e){Y.e(e)}finally{Y.f()}this.adjustConcept(e);var ee=K.a.get(e,"_registry")||K.a.get(this.getObject(K.a.get(e,"inScheme[0]")),"_registry")||B.provider;ee&&("scheme"==J&&ee.adjustSchemes([e]),"concept"==J&&ee.adjustConcepts([e]))}return P||e},saveObjectsWithOptions:function(e){var E=this;return function(B){return B.map((function(B){return E.saveObject(B,e)}))}},getObject:function(e){if(!e||e.__SAVED__)return e;var E,B=$(U.a.getAllUris(e));try{for(B.s();!(E=B.n()).done;){var P=E.value;if(this.objects[P])return this.objects[P]}}catch(e){B.e(e)}finally{B.f()}return null},loadSchemes:function(){var e=this;return k(z.a.mark((function t(){var E,B,P,V;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,W.a.getSchemes();case 2:E=z.sent,B=$(E);try{for(B.s();!(P=B.n()).done;)V=P.value,V=e.saveObject(V,{provider:V._registry,type:"scheme"}),e.schemes.includes(V)||e.schemes.push(V)}catch(e){B.e(e)}finally{B.f()}return z.abrupt("return",e.schemes);case 6:case"end":return z.stop()}}),t)})))()},loadTypes:function(e){var E=this;return k(z.a.mark((function n(){var B;return z.a.wrap((function(P){for(;;)switch(P.prev=P.next){case 0:if(e&&e.__SAVED__){P.next=2;break}throw new Error("loadTypes called with a scheme that is undefined or not saved: ".concat(e&&e.uri));case 2:if(!e.types||e.types.includes(null)){P.next=4;break}return P.abrupt("return",e);case 4:return B=[],P.prev=5,P.next=8,e._getTypes&&e._getTypes()||e._registry&&e._registry.getTypes({scheme:e})||Promise.reject();case 8:B=P.sent,P.next=14;break;case 11:P.prev=11,P.t0=P.catch(5),E.$log.warn("Error loading types for scheme ".concat(e.uri,"; assuming empty types list."));case 14:return E.$set(e,"types",B),P.abrupt("return",e);case 16:case"end":return P.stop()}}),n,null,[[5,11]])})))()},loadTop:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,H;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(e&&e.__SAVED__){z.next=2;break}throw new Error("loadTop called with a scheme that is undefined or not saved: ".concat(e&&e.uri));case 2:if(!E.topConcepts[e.uri]||E.topConcepts[e.uri].includes(null)){z.next=4;break}return z.abrupt("return",E.topConcepts[e.uri]);case 4:return B=[],z.prev=5,z.next=8,e._getTop&&e._getTop()||e._registry&&e._registry.getTop({scheme:e})||Promise.reject();case 8:B=z.sent,z.next=14;break;case 11:z.prev=11,z.t0=z.catch(5),E.$log.warn("Error loading top concepts for scheme ".concat(e.uri,"; assuming empty list."));case 14:B=E.saveObjectsWithOptions({scheme:e,type:"concept"})(B),P=$(B);try{for(P.s();!(V=P.n()).done;)H=V.value,E.$set(H,"ancestors",[])}catch(e){P.e(e)}finally{P.f()}return E.$set(E.topConcepts,e.uri,U.a.sortConcepts(B)),z.abrupt("return",e);case 19:case"end":return z.stop()}}),n,null,[[5,11]])})))()},loadConcepts:function(e){var E=arguments,B=this;return k(z.a.mark((function i(){var P,V,H,W,G,K,q,J,Q,X,Y,Z,ee,te,ne;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:P=E.length>1&&void 0!==E[1]?E[1]:{},V=P.registry,H=P.scheme,W=P.force,G=void 0!==W&&W,K=b(P,["registry","scheme","force"]),q=[],J=[],Q=$(e.filter((function(e){return e&&e.uri&&(e.__DETAILSLOADED__<1||G)}))),z.prev=4,Y=function(){var e=X.value,E=B.getProvider(e)||B.getProvider(H)||V;if(!E)return"continue";if(!G&&[].concat(B.loadingConcepts,B.erroredConcepts).find((function(E){return B.$jskos.compare(E,e)})))return"continue";J=J.concat(U.a.getAllUris(e)),B.loadingConcepts.push(e);var P=q.find((function(e){return e.registry==E&&e.concepts.length<15}));P?P.concepts.push(e):q.push({registry:E,concepts:[e]})},Q.s();case 7:if((X=Q.n()).done){z.next=13;break}if("continue"!==Y()){z.next=11;break}return z.abrupt("continue",11);case 11:z.next=7;break;case 13:z.next=18;break;case 15:z.prev=15,z.t0=z.catch(4),Q.e(z.t0);case 18:return z.prev=18,Q.f(),z.finish(18);case 21:return Z=q.map((function(e){var E=e.registry,P=e.concepts;return E.getConcepts(y(y({},K),{},{concepts:P})).then((function(e){var E,P=[],z=$(e);try{for(z.s();!(E=z.n()).done;){var V=E.value;V=B.saveObject(V,{scheme:H,type:"concept"}),B.$set(V,"__DETAILSLOADED__",1),B.adjustConcept(V),P=P.concat(B.$jskos.getAllUris(V))}}catch(e){z.e(e)}finally{z.f()}var U,W=$(P);try{var l=function(){var e=U.value,E=B.loadingConcepts.findIndex((function(E){return B.$jskos.compare(E,{uri:e})}));E>=0&&B.$delete(B.loadingConcepts,E)};for(W.s();!(U=W.n()).done;)l()}catch(e){W.e(e)}finally{W.f()}})).catch((function(){}))})),z.next=24,Promise.all(Z);case 24:ee=$(J);try{for(ne=function(){var e=te.value,E=B.loadingConcepts.findIndex((function(E){return B.$jskos.compare(E,{uri:e})}));if(E>=0){var P=B.loadingConcepts[E];B.$set(P,"__DETAILSLOADED__",-1),B.$delete(B.loadingConcepts,E),B.erroredConcepts.push(P)}},ee.s();!(te=ee.n()).done;)ne()}catch(e){ee.e(e)}finally{ee.f()}return z.abrupt("return",e.map((function(e){return B.getObject(e)})));case 27:case"end":return z.stop()}}),i,null,[[4,15,18,21]])})))()},loadNarrower:function(e){var E=arguments,B=this;return k(z.a.mark((function i(){var P,V,U,H,W,G,K,q;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(P=E.length>1&&void 0!==E[1]?E[1]:{},V=P.registry,U=b(P,["registry"]),e&&e.__SAVED__){z.next=3;break}throw new Error("loadNarrower called with concept that is undefined or not saved: ".concat(e&&e.uri,"."));case 3:if(!e.narrower||e.narrower.includes(null)){z.next=5;break}return z.abrupt("return",e);case 5:if(H=B.getProvider(e)||V){z.next=8;break}throw new Error("loadNarrower called with concept that doesn't have a registry: ".concat(e.uri));case 8:return z.next=10,H.getNarrower(y(y({},U),{},{concept:e}));case 10:W=z.sent,W=B.saveObjectsWithOptions({type:"concept"})(W),G=$(W);try{for(G.s();!(K=G.n()).done;)q=K.value,!e.ancestors||e.ancestors.includes(null)?B.$set(q,"ancestors",[null]):B.$set(q,"ancestors",e.ancestors.concat([e])),B.$set(q,"broader",[e]),B.adjustConcept(q)}catch(e){G.e(e)}finally{G.f()}return B.$set(e,"narrower",B.$jskos.sortConcepts(W)),B.adjustConcept(e),z.abrupt("return",e);case 17:case"end":return z.stop()}}),i)})))()},loadAncestors:function(e){var E=arguments,B=this;return k(z.a.mark((function i(){var P,V,U,H,W,G,K,q,J,Q,X,Y;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(P=E.length>1&&void 0!==E[1]?E[1]:{},V=P.registry,U=b(P,["registry"]),e&&e.__SAVED__){z.next=3;break}throw new Error("loadAncestors called with concept that is undefined or not saved: ".concat(e&&e.uri,"."));case 3:if(!e.ancestors||e.ancestors.includes(null)){z.next=5;break}return z.abrupt("return",e);case 5:if(H=B.getProvider(e)||V){z.next=8;break}throw new Error("loadAncestors called with concept that doesn't have a registry: ".concat(e.uri));case 8:return z.next=10,H.getAncestors(y(y({},U),{},{concept:e}));case 10:W=z.sent,W=B.saveObjectsWithOptions({type:"concept"})(W),G=[],K=$(W);try{for(K.s();!(q=K.n()).done;)J=q.value,B.$set(J,"ancestors",G.slice()),B.$set(J,"broader",G.length>0?[G[G.length-1]]:[]),G.push(J),B.adjustConcept(J)}catch(e){K.e(e)}finally{K.f()}Q=$(e.narrower||[]);try{for(Q.s();!(X=Q.n()).done;)!(Y=X.value)||Y.ancestors&&!Y.ancestors.includes(null)||B.$set(Y,"ancestors",W.concat([e])),Y&&B.adjustConcept(Y)}catch(e){Q.e(e)}finally{Q.f()}return B.$set(e,"ancestors",W),B.adjustConcept(e),z.abrupt("return",e);case 20:case"end":return z.stop()}}),i)})))()},getRegistry:function(e){return e=e||this.currentRegistry,K.a.isString(e)&&(e={uri:e}),e=this.config.registries.find((function(E){return U.a.compare(E,e)}))},adjustMapping:function(e){var E=this;if(!e)return null;for(var B=0,P=["from","to"];B<P.length;B++){var z=P[B];e[z+"Scheme"]&&function(){e[z+"Scheme"]=E.saveObject(e[z+"Scheme"],{type:"scheme"});for(var B=e[z+"Scheme"],P=0,V=["memberSet","memberList","memberChoice"];P<V.length;P++){var U=V[P];K.a.isArray(e[z][U])&&(e[z][U]=e[z][U].filter((function(e){return null!=e})).map((function(e){return E.saveObject(e,{scheme:B,type:"concept"})})))}}()}e.partOf&&(e.partOf=e.partOf.map((function(e){return E.concordances.find((function(B){return E.$jskos.compare(B,e)}))||e})));var V=K.a.get(e,"_registry");if(U.a.mappingRegistryIsStored(V))for(var s=function(){var B=f(W[H],2),P=B[0],z=B[1],G=e["".concat(z,"Scheme")],K=U.a.conceptsOfMapping(e,P);if(G){var q,J=$(K);try{for(J.s();!(q=J.n()).done;){var Q=q.value;Q.__MAPPED__||E.$set(Q,"__MAPPED__",[]);var X=Q.__MAPPED__.find((function(e){return U.a.compare(e.registry,V)&&U.a.compare(e.scheme,G)}));X&&!X.exist.length?X.exist.push(e.uri):X||Q.__MAPPED__.push({registry:V,scheme:G,exist:[e.uri]})}}catch(e){J.e(e)}finally{J.f()}}},H=0,W=[["from","to"],["to","from"]];H<W.length;H++)s();return e},prepareMapping:function(e){var E=this;if(!e)return null;e=U.a.copyDeep(e);var B=this.creator;if(B&&(B.uri||B.prefLabel)){var P=(e.contributor||[]).concat(e.creator||[]);e.contributor=[];var z,V=$(P);try{for(V.s();!(z=V.n()).done;){var H=z.value;U.a.compare(H,{identifier:this.userUris||[]})||U.a.isContainedIn(H,e.contributor)||e.contributor.push(H)}}catch(e){V.e(e)}finally{V.f()}e.creator=[B],e.uri&&e.contributor.push(B)}else{e.contributor=e.contributor||[];var W,G=$(e.creator||[]);try{for(G.s();!(W=G.n()).done;){var q=W.value;U.a.isContainedIn(q,e.contributor)||e.contributor.push(q)}}catch(e){G.e(e)}finally{G.f()}this.$delete(e,"creator")}var J,Q=$(["creator","contributor"].filter((function(E){return e[E]})));try{for(Q.s();!(J=Q.n()).done;){var X,Y=J.value,Z=$(e[Y]);try{var v=function(){var e=X.value;""===e.uri&&E.$delete(e,"uri"),K.a.forOwn(e.prefLabel,(function(B,P){""==B&&E.$delete(e.prefLabel,P)})),K.a.isEmpty(e.prefLabel)&&E.$delete(e,"prefLabel")};for(Z.s();!(X=Z.n()).done;)v()}catch(e){Z.e(e)}finally{Z.f()}e[Y]=e[Y].filter((function(e){return!K.a.isEmpty(e)}))}}catch(e){Q.e(e)}finally{Q.f()}return e.creator&&0==e.creator.length&&this.$delete(e,"creator"),e.contributor&&0==e.contributor.length&&this.$delete(e,"contributor"),e},getMapping:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,U,H,W;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._adjust,V=void 0===P||P,U=e.uri,H=e.mapping,W=b(e,["registry","_adjust","uri","mapping"]),H||U){z.next=3;break}throw new Error("getMapping: Can't get mapping with neither uri nor mapping.");case 3:if(H||(H={uri:U}),B||(B=H._registry||E.config.registries.find((function(e){return e.has.mappings&&H.uri.startsWith(e._api.mappings)}))),!B&&H.uri.startsWith("urn:uuid")&&(B=E.localMappingsRegistry),B=E.getRegistry(B)){z.next=9;break}throw new Error("getMappings: No registry to get mappings from.");case 9:return z.next=11,B.getMapping(y({mapping:H},W));case 11:return H=z.sent,V&&E.adjustMapping(H),z.abrupt("return",H);case 14:case"end":return z.stop()}}),n)})))()},getMappings:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,U,H,W,G,K;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._adjust,V=void 0===P||P,U=b(e,["registry","_adjust"]),B=E.getRegistry(B)){z.next=4;break}throw new Error("getMappings: No registry to get mappings from.");case 4:if(B.has.mappings){z.next=6;break}throw new Error("getMappings: Registry ".concat(B.uri," does not support mappings."));case 6:return z.next=8,B.getMappings(U);case 8:if(H=z.sent,V){W=$(H);try{for(W.s();!(G=W.n()).done;)K=G.value,E.adjustMapping(K)}catch(e){W.e(e)}finally{W.f()}}return z.abrupt("return",H);case 11:case"end":return z.stop()}}),n)})))()},_addIdentityParams:function(e){e.params=e.params||{},e.params.identity=this.$settings.creatorUri,e.params.identityName=this.$settings.creator},postMapping:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,H,W,G,K,q,J,Q,X,Y;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._adjust,V=void 0===P||P,H=e._reload,W=void 0===H||H,G=e._alert,K=void 0===G||G,q=e._before,J=e._after,Q=b(e,["registry","_adjust","_reload","_alert","_before","_after"]),B=E.getRegistry(B||Q.mapping._registry)){z.next=4;break}throw new Error("postMapping: No registry to post mapping to.");case 4:return q&&q(),z.prev=5,Q.mapping=E.prepareMapping(Q.mapping),E._addIdentityParams(Q),z.next=10,B.postMapping(Q);case 10:return X=z.sent,V&&E.adjustMapping(X),W&&E.$store.commit("mapping/setRefresh",{registry:B.uri}),K&&(E.alert(E.$t("alerts.mappingSaved",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2"),U.a.compare(B,E.localMappingsRegistry)&&!E.$settings.hasWrittenIntoLocalMappings&&(E.alert(E.$t("alerts.localMappingsFirstSaved"),0,"warning"),E.$store.commit({type:"settings/set",prop:"hasWrittenIntoLocalMappings",value:!0}))),J&&J(),z.abrupt("return",X);case 18:throw z.prev=18,z.t0=z.catch(5),K&&(Y="".concat(E.$t("alerts.mappingNotSaved",[U.a.prefLabel(B,{fallbackToUri:!1})])," ").concat(E.getErrorMessage(z.t0)),E.alert(Y,null,"danger")),J&&J(z.t0),z.t0;case 23:case"end":return z.stop()}}),n,null,[[5,18]])})))()},postMappings:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,H,W,G,K,q,J,Q,X,Y,Z,ee,te;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._adjust,V=void 0===P||P,H=e._reload,W=void 0===H||H,G=e._alert,K=void 0===G||G,q=e._before,J=e._after,Q=b(e,["registry","_adjust","_reload","_alert","_before","_after"]),B=E.getRegistry(B)){z.next=4;break}throw new Error("postMappings: No registry to post mappings to.");case 4:return q&&q(),z.prev=5,Q.mappings=Q.mappings.map((function(e){return E.prepareMapping(e)})),E._addIdentityParams(Q),z.next=10,B.postMappings(Q);case 10:if(X=z.sent,V){Y=$(X);try{for(Y.s();!(Z=Y.n()).done;)ee=Z.value,E.adjustMapping(ee)}catch(e){Y.e(e)}finally{Y.f()}}return W&&E.$store.commit("mapping/setRefresh",{registry:B.uri}),K&&E.alert(E.$t("alerts.mappingSaved",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2"),J&&J(),z.abrupt("return",X);case 18:throw z.prev=18,z.t0=z.catch(5),K&&(te="".concat(E.$t("alerts.mappingNotSaved",[U.a.prefLabel(B,{fallbackToUri:!1})])," ").concat(E.getErrorMessage(z.t0)),E.alert(te,null,"danger")),J&&J(z.t0),z.t0;case 23:case"end":return z.stop()}}),n,null,[[5,18]])})))()},putMapping:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,H,W,G,K,q,J,Q,X,Y;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._adjust,V=void 0===P||P,H=e._reload,W=void 0===H||H,G=e._alert,K=void 0===G||G,q=e._before,J=e._after,Q=b(e,["registry","_adjust","_reload","_alert","_before","_after"]),B=E.getRegistry(B||Q.mapping._registry)){z.next=4;break}throw new Error("putMapping: No registry to put mapping to.");case 4:return q&&q(),z.prev=5,Q.mapping=E.prepareMapping(Q.mapping),E._addIdentityParams(Q),z.next=10,B.putMapping(Q);case 10:return X=z.sent,V&&E.adjustMapping(X),W&&E.$store.commit("mapping/setRefresh",{registry:B.uri}),K&&E.alert(E.$t("alerts.mappingSaved",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2"),J&&J(),z.abrupt("return",X);case 18:throw z.prev=18,z.t0=z.catch(5),K&&(Y="".concat(E.$t("alerts.mappingNotSaved",[U.a.prefLabel(B,{fallbackToUri:!1})])," ").concat(E.getErrorMessage(z.t0)),E.alert(Y,null,"danger")),J&&J(z.t0),z.t0;case 23:case"end":return z.stop()}}),n,null,[[5,18]])})))()},deleteMapping:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,H,W,G,K,q,J,Q,X;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._reload,V=void 0===P||P,H=e._alert,W=void 0===H||H,G=e._trash,K=void 0===G||G,q=e._before,J=e._after,Q=b(e,["registry","_reload","_alert","_trash","_before","_after"]),B=E.getRegistry(B||Q.mapping._registry)){z.next=4;break}throw new Error("deleteMapping: No registry to delete mapping from.");case 4:return q&&q(),z.prev=5,z.next=8,B.deleteMapping(Q);case 8:return E.mappingWasDeleted({mapping:Q.mapping,registry:B,_trash:K}),V&&E.$store.commit("mapping/setRefresh",{registry:B.uri}),W&&E.alert(E.$t("alerts.mappingDeleted",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2",E.$t("general.undo"),(function(e){E.$store.commit({type:"alerts/setCountdown",alert:e,countdown:0}),E.$store.dispatch({type:"mapping/restoreMappingFromTrash",uri:Q.mapping.uri}).then((function(e){e?E.alert(E.$t("alerts.mappingRestored",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2"):E.alert(E.$t("alerts.mappingNotRestored",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"danger")}))})),J&&J(),z.abrupt("return",!0);case 15:throw z.prev=15,z.t0=z.catch(5),W&&(X="".concat(E.$t("alerts.mappingNotDeleted",[U.a.prefLabel(B,{fallbackToUri:!1})])," ").concat(E.getErrorMessage(z.t0)),E.alert(X,null,"danger")),J&&J(z.t0),z.t0;case 20:case"end":return z.stop()}}),n,null,[[5,15]])})))()},deleteMappings:function(e){var E=this;return k(z.a.mark((function n(){var B,P,V,H,W,G,q,J,Q,X,Y,Z,ee,te;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(B=e.registry,P=e._reload,V=void 0===P||P,H=e._alert,W=void 0===H||H,G=e._trash,q=void 0===G||G,J=e._before,Q=e._after,X=b(e,["registry","_reload","_alert","_trash","_before","_after"]),B=E.getRegistry(B||K.a.get(X,"mappings[0]._registry"))){z.next=4;break}throw new Error("deleteMapping: No registry to delete mapping from.");case 4:return J&&J(),z.prev=5,z.next=8,B.deleteMappings(X);case 8:Y=$(X.mappings);try{for(Y.s();!(Z=Y.n()).done;)ee=Z.value,E.mappingWasDeleted({mapping:ee,registry:B,_trash:q})}catch(e){Y.e(e)}finally{Y.f()}return V&&E.$store.commit("mapping/setRefresh",{registry:B.uri}),W&&E.alert(E.$t("alerts.mappingDeleted",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2",E.$t("general.undo"),(function(e){E.$store.commit({type:"alerts/setCountdown",alert:e,countdown:0}),E.$store.dispatch({type:"mapping/restoreMappingFromTrash",uri:X.mapping.uri}).then((function(e){e?E.alert(E.$t("alerts.mappingRestored",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"success2"):E.alert(E.$t("alerts.mappingNotRestored",[U.a.prefLabel(B,{fallbackToUri:!1})]),null,"danger")}))})),Q&&Q(),z.abrupt("return",!0);case 16:throw z.prev=16,z.t0=z.catch(5),W&&(te="".concat(E.$t("alerts.mappingNotDeleted",[U.a.prefLabel(B,{fallbackToUri:!1})])," ").concat(E.getErrorMessage(z.t0)),E.alert(te,null,"danger")),Q&&Q(z.t0),z.t0;case 21:case"end":return z.stop()}}),n,null,[[5,16]])})))()},mappingWasDeleted:function(e){var E=this,B=e.mapping,P=e.registry;if(e._trash&&this.$store.commit({type:"mapping/addToTrash",mapping:B,registry:P}),B.uri==this.$store.state.mapping.original.uri&&U.a.compare(P,this.$store.state.mapping.original.registry)&&this.$store.commit({type:"mapping/set"}),U.a.mappingRegistryIsStored(P))for(var o=function(){var e=f(V[z],2),H=e[0],W=e[1],G=B["".concat(W,"Scheme")],K=U.a.conceptsOfMapping(B,H);if(G){var q,J=$(K);try{for(J.s();!(q=J.n()).done;){var Q=(q.value.__MAPPED__||[]).find((function(e){return U.a.compare(e.registry,P)&&U.a.compare(e.scheme,G)}));Q&&Q.exist.length&&E.$set(Q,"exist",Q.exist.filter((function(e){return e!=B.uri})))}}catch(e){J.e(e)}finally{J.f()}}},z=0,V=[["from","to"],["to","from"]];z<V.length;z++)o()},canCreateMapping:function(e){var E=e.registry,B=e.mapping,P=e.user,z=void 0===P?this.user:P;if(!B||!E)return!1;for(var o=function(){var e=H[V];if(!B[e])return{v:!1};var P=K.a.get(E,"config.mappings.".concat(e,"Whitelist"));return P&&!P.find((function(E){return U.a.compare(E,B[e])}))||"1-to-1"==K.a.get(E,"config.mappings.cardinality")&&U.a.conceptsOfMapping(B,"to").length>1?{v:!1}:void 0},V=0,H=["fromScheme","toScheme"];V<H.length;V++){var W=o();if("object"===d(W))return W.v}return!!E.isAuthorizedFor({type:"mappings",action:"create",user:z})},canUpdateMapping:function(e){var E=e.registry,B=e.mapping,P=e.user,z=void 0===P?this.user:P;return!!B&&(!!(E=E||B._registry)&&E.isAuthorizedFor({type:"mappings",action:"update",user:z,crossUser:!this.$jskos.userOwnsMapping(z,B)}))},canDeleteMapping:function(e){var E=e.registry,B=e.mapping,P=e.user,z=void 0===P?this.user:P;if(!B)return!1;if(!(E=E||B._registry))return!1;var V=!U.a.userOwnsMapping(z,B);return E.isAuthorizedFor({type:"mappings",action:"delete",user:z,crossUser:V})},repeat:function(){return W.a.repeat.apply(W.a,arguments)}}}},6188:function(e,E,B){},"65b7":function(e,E,B){},6779:function(e,E,B){"use strict";B("32be")},"68bc":function(e,E,B){"use strict";B.r(E);var P=B("2ef0"),z=B.n(P),V={name:"ItemName",mixins:[B("8fb2").a],props:{item:{type:Object,default:null},fontSize:{type:String,default:"normal"},showNotation:{type:Boolean,default:!0},showText:{type:Boolean,default:!0},isLink:{type:Boolean,default:!1},isLeft:{type:Boolean,default:!0},showPopover:{type:Boolean,default:!1},isHighlighted:{type:Boolean,default:!1},preventExternalHover:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},forceSide:{type:Boolean,default:!1}},data:function(){return{tooltipDOMID:this.generateID(),isHoveredFromHere:!1,url:"",isValidLink:!1,interval:null}},computed:{isHovered:function(){return this.isHoveredFromHere||!this.preventExternalHover&&this.$jskos.compare(this.$store.state.hoveredConcept,this.item)},notation:function(){return this.$jskos.notation(this.item)},itemDetails:function(){var e=this.$jskos.languageMapContent(this.item,"scopeNote");return e&&e.length?[""].concat(e).join("<br>"):""}},watch:{item:function(){var e=this;z.a.delay((function(){e.isHoveredFromHere&&e.$refs.tooltip&&e.$refs.tooltip.$emit("open")}),50)}},created:function(){!this.preventExternalHover&&this.isLink&&(this.isValidLink=!0),this.hovering=z.a.debounce(this._hovering,20)},methods:{_hovering:function(e){var E=this;e?(this.isHoveredFromHere=!0,this.$store.commit({type:"setHoveredConcept",concept:this.item}),this.url=this.getRouterUrl(this.item,this.isLeft,this.forceSide),this.isLink?this.isValidLink=null!=this.getProvider(this.item):this.isValidLink=!1,window.clearInterval(this.interval),this.interval=setInterval((function(){E.isMouseOver()||(E.isHoveredFromHere=!1,window.clearInterval(E.interval))}),500)):(this.isHoveredFromHere=!1,this.$store.commit({type:"setHoveredConcept",concept:null}),window.clearInterval(this.interval))},trimTooltip:function(e){return e.length>80?e.substring(0,75)+"...":e}}},U=(B("a6e7"),B("888b"),B("2877")),H=Object(U.a)(V,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return null!=e.item?B("div",{staticClass:"itemName",class:{"itemName-hoverable":!e.preventExternalHover&&e.isValidLink},attrs:{draggable:e.draggable},on:{dragstart:function(E){return e.dragStart(e.item,E)},dragend:e.dragEnd,mouseover:function(E){return e.hovering(!0)},mouseout:function(E){return e.hovering(!1)}}},[B(e.isValidLink?"router-link":"div",{directives:[{name:"b-popover",rawName:"v-b-popover",value:!e.showPopover||!e.itemDetails.length&&e.showText&&e.showNotation?null:{placement:"top",trigger:"hover",content:"<div class='fontSize-"+(e.fontSize||"normal")+"'><b>"+e.getNotation(e.item,null,!0)+" "+e.$jskos.prefLabel(e.item,{fallbackToUri:!1})+"</b></div><div class='fontSize-small itemName-details'>"+e.itemDetails+"</div>",html:!0,boundary:"window"},expression:"showPopover && (itemDetails.length || !showText || !showNotation) ? {\n      placement: 'top',\n      trigger: 'hover',\n      content: `<div class='fontSize-${fontSize || 'normal'}'><b>${getNotation(item, null, true)} ${$jskos.prefLabel(item, { fallbackToUri: false })}</b></div><div class='fontSize-small itemName-details'>${itemDetails}</div>`,\n      html: true,\n      boundary: 'window',\n    } : null"}],tag:"div",class:[{"itemName-hovered":e.isValidLink&&e.isHovered,"itemName-highlighted":e.isHighlighted},"fontSize-"+(e.fontSize||"normal")],attrs:{id:e.tooltipDOMID,to:e.url}},[e.item&&-1==e.item.__DETAILSLOADED__?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.unknownConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.unknownConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"fontSize-small"},[B("font-awesome-icon",{attrs:{icon:"bolt"}})],1):e._e(),e.item&&e.item.type&&e.item.type.includes("http://rdf-vocabulary.ddialliance.org/xkos#CombinedConcept")?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.combinedConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.combinedConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],class:"fontSize-"+(e.fontSize||"normal")},[B("font-awesome-icon",{attrs:{icon:"puzzle-piece"}})],1):e._e(),e.showNotation?B("span",{class:{"fontWeight-heavy":e.showText},domProps:{innerHTML:e._s(e.getNotation(e.item,null,!0))}}):e._e(),e.showText||!e.notation?B("span",{class:{"fontWeight-medium":e.isHighlighted}},[e._v(" "+e._s(e.$jskos.prefLabel(e.item,{fallbackToUri:null==e.notation}))+" ")]):e._e()])],1):e._e()}),[],!1,null,"6ee1a86f",null);E.default=H.exports},6958:function(e,E,B){e.exports={description:"Component that displays an item's (either scheme or concept) details (URI, notation, identifier, ...).",tags:{},exportName:"default",displayName:"ConceptDetail",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"item",description:"The concept object whose details should be displayed.",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"settings",description:"Settings - see [`ItemDetail`](#itemdetail).",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:{searchConcept:{name:"searchConcept",type:{names:["undefined"]}}},methods:void 0,slots:void 0,examples:null}},"69ee":function(e,E,B){},"6aea":function(e,E,B){"use strict";B("69ee")},"6cfe":function(e,E,B){"use strict";B("40b5")},"6e7f":function(e,E,B){e.exports={description:"Component that displays an item's notation (if defined) and prefLabel.",tags:{},exportName:"default",displayName:"ItemName",props:[{name:"draggable",description:"Determines whether the item is draggable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"fontSize",description:"The font size for the text (small, normal, large).",type:{name:"string"},defaultValue:{func:!1,value:'"normal"'}},{name:"forceSide",description:"Determines whether the item should be forced to open on the specified side in `isLeft`",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isHighlighted",description:"Determines whether the item is highlighted",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isLeft",description:"Only for isLink: Side on which to open item.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isLink",description:"Determines whether it is a link.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"item",description:"The item whose notation and name this component will display.",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"preventExternalHover",description:"If true, this ItemName will not be hovered if the same concept is hovered elsewhere.\nUse this option if ItemName is used in large quantities, otherwise there will be a substantial performance penalty.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showNotation",description:"Determines whether to show or hide the notation text.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showPopover",description:"Determines whether to show some concept details as a popover.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showText",description:"Determines whether to show or hide the label text.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"6ef6":function(e,E,B){"use strict";B.r(E);var P=B("b758"),z=B("68bc"),V=B("2ef0"),U=B.n(V),H=B("616f"),W=B("8fb2"),G={name:"ConceptListItem",components:{LoadingIndicator:P.default,ItemName:z.default},mixins:[H.a,W.a],props:{concept:{type:Object,default:null},depth:{type:Number,default:null},index:{type:Number,default:null},isLeft:{type:Boolean,default:!0},isSelected:{type:Boolean,default:!1},showChildren:{type:Boolean,default:!1},showScheme:{type:Boolean,default:!1},buttons:{type:Array,default:function(){return[]}}},data:function(){return{isHoveredFromHere:!1,loadingChildren:!1,preventClick:!1,preventClickArrow:!1,canAddToMapping:!1,interval:null,url:null}},computed:{hasChildren:function(){return 0!=U.a.get(this.concept,"narrower.length",1)},isHovered:function(){return this.isHoveredFromHere},childrenLoaded:function(){return!this.concept.narrower||!this.concept.narrower.includes(null)},isOpen:function(){return U.a.get(this.concept,"__ISOPEN__[".concat(this.isLeft,"]"),!1)},scheme:function(){return U.a.get(this.concept,"inScheme[0]")},mappedStatus:function(){return this.$store.getters.mappedStatus(this.concept,this.isLeft)},showConceptMappedStatus:function(){return this.$store.state.settings.settings.components.ConceptListWrapper.loadConceptsMappedStatus}},created:function(){this.hovering=U.a.debounce(this._hovering,20)},methods:{_hovering:function(e){var E=this;this.$store.commit({type:"setHoveredConcept",concept:e}),this.isHoveredFromHere=null!=e,this.canAddToMapping=this.$store.getters["mapping/canAdd"](this.concept,this.$store.state.selected.scheme[this.isLeft],this.isLeft),window.clearInterval(this.interval),null!=e&&(this.interval=setInterval((function(){E.isMouseOver()||(E.isHoveredFromHere=!1,window.clearInterval(E.interval))}),500)),this.url=e?this.getRouterUrl(e,this.isLeft,!0):null},openByArrow:function(e){var E=this;this.preventClickArrow||(this.open(this.concept,this.isLeft,e),this.loadChildren(),this.preventClickArrow=!0,U.a.delay((function(){U.a.delay((function(){E.preventClickArrow=!1}),200)}),50))},select:function(e){this.setSelected({isLeft:this.isLeft,concept:e})},onClick:function(){var e=this;this.preventClick||this.isSelected&&this.hasChildren&&(this.preventClick=!0,U.a.delay((function(){e.open(e.concept,e.isLeft,!e.isOpen),U.a.delay((function(){e.preventClick=!1}),200)}),50))},addConcept:function(){!this.isSelected&&this.$store.state.settings.settings.components.ConceptListWrapper.addToMappingSelectsConcept&&this.select(this.concept),this.addToMapping({concept:this.concept,scheme:this.$store.state.selected.scheme[this.isLeft],isLeft:this.isLeft})},loadChildren:function(){var e=this;this.loadingChildren=!0,this.loadNarrower(this.concept).then((function(E){e.loadingChildren=!1,e.showChildren&&E&&E.__ISOPEN__&&E.__ISOPEN__[e.isLeft]&&e.scrollTo()}))},scrollTo:function(){for(var e=this.$el.parentElement;!e.classList.contains("scrollable")&&e.parentElement;)e=e.parentElement;var E={container:e,easing:"ease-in",offset:-20,cancelable:!0,x:!1,y:!0};this.$scrollTo(this.$el,200,E)}}},K=(B("4f79"),B("2877")),q=Object(K.a)(G,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return null!=e.concept?B("div",{staticClass:"conceptListItem",class:{hovered:e.isHovered&&!e.isHovered,selected:e.isSelected,"concept-mappingsExist":e.showConceptMappedStatus&&e.mappedStatus,"concept-mappingsDoNotExist":e.showConceptMappedStatus&&!e.mappedStatus},style:"padding-left: "+10*e.depth+"px",attrs:{"data-uri":e.concept.uri},on:{mouseover:function(E){return e.hovering(e.concept)},mouseout:function(E){return e.hovering(null)}}},[B("div",{staticClass:"conceptBox",attrs:{draggable:"true"},on:{dragstart:function(E){return e.dragStart(e.concept,E)},dragend:function(E){return e.dragEnd()}}},[e.showChildren&&e.hasChildren?B("div",{staticClass:"arrowBox",on:{click:function(E){return e.openByArrow(!e.isOpen)}}},[B("i",{class:{right:!e.isOpen,down:e.isOpen}})]):e._e(),e._l(e.buttons.filter((function(e){return"before"==e.position})),(function(E,P){return B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:E.tooltip,delay:e.defaults.delay.medium},expression:"{ title: button.tooltip, delay: defaults.delay.medium}",modifiers:{hover:!0}}],key:"conceptListItem-buttons-"+P,staticClass:"button fontSize-verySmall conceptListItem-buttonBefore",on:{click:function(B){return E.onClick(B,e.concept)}}},[B("font-awesome-icon",{attrs:{icon:E.icon}})],1)})),B(e.url?"router-link":"div",{tag:"div",staticClass:"labelBox",class:{labelBoxFull:e.showChildren&&!e.hasChildren,labelBoxSelected:e.isSelected,labelBoxSingle:!e.showChildren},attrs:{to:e.url},on:{click:function(E){return E.stopPropagation(),E.preventDefault(),e.onClick.apply(null,arguments)}}},[e.scheme&&e.showScheme?B("span",[e._v(" "+e._s(e.$jskos.notation(e.scheme))+" ")]):e._e(),e.concept&&-1==e.concept.__DETAILSLOADED__?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.unknownConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.unknownConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"fontSize-small"},[B("font-awesome-icon",{attrs:{icon:"bolt"}})],1):e._e(),e.concept&&e.concept.type&&e.concept.type.includes("http://rdf-vocabulary.ddialliance.org/xkos#CombinedConcept")?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("itemDetail.combinedConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('itemDetail.combinedConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"fontSize-normal"},[B("font-awesome-icon",{attrs:{icon:"puzzle-piece"}})],1):e._e(),B("span",{staticClass:"fontWeight-heavy",domProps:{innerHTML:e._s(e.getNotation(e.concept,"concept",!0))}}),B("span",{class:{"fontWeight-medium":e.isSelected}},[e._v(" "+e._s(e.$jskos.prefLabel(e.concept,{fallbackToUri:0==e.$jskos.notation(e.concept).length}))+" ")])]),e.canAddToMapping?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.addToMapping"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.addToMapping'), delay: defaults.delay.medium}",modifiers:{hover:!0}}],staticClass:"addToMapping",on:{click:function(E){return e.addConcept()}}},[B("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1):e._e()],2),e.showChildren&&e.hasChildren&&e.isOpen&&e.concept.narrower.includes(null)?B("loading-indicator",{staticStyle:{"margin-left":"36px"},attrs:{size:"sm"}}):e._e()],1):e._e()}),[],!1,null,"23cb50c0",null);E.default=q.exports},7030:function(e,E,B){"use strict";B("a886")},"71cd":function(e,E,B){"use strict";var P=B("2ef0"),z=B.n(P);function o(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=a(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function a(e,E){if(e){if("string"==typeof e)return s(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?s(e,E):void 0}}function s(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}E.a={data:function(){return{hotkeys:[]}},methods:{shortcutHandler:function(){},enableShortcuts:function(){var e,E=this,B=this.$options.name,P=0,z=o(this.config.shortcuts||[]);try{var a=function(){var z=e.value;z.component===B&&(E.addHotkey(z.keys,(function(){E.shortcutHandler(z)})),P+=1)};for(z.s();!(e=z.n()).done;)a()}catch(e){z.e(e)}finally{z.f()}P&&document.addEventListener("keydown",this.hotkeyHandler)},hotkeyHandler:function(e){var E=z.a.pick(e,["key","keyCode","metaKey","ctrlKey","altKey","shiftKey"]);if("INPUT"==z.a.get(e,"srcElement.tagName")){for(var B=!1,P=0,V=[{key:"a",ctrlKey:!0,metaKey:!1,altKey:!1,shiftKey:!1},{key:"a",ctrlKey:!1,metaKey:!0,altKey:!1,shiftKey:!1},{key:"µ",ctrlKey:!1,metaKey:!1,altKey:!0,shiftKey:!1}];P<V.length;P++){var U=V[P],H=U.key?"keyCode":"key";if(z.a.isEqual(z.a.omit(U,[H]),z.a.omit(E,[H]))){B=!0;break}}if(B)return}var W=!0;if(0==document.getElementsByClassName("modal show").length){var G,K=o(this.hotkeys);try{for(K.s();!(G=K.n()).done;){var q=G.value,J=q.shortcut.key?"keyCode":"key";z.a.isEqual(z.a.omit(E,[J]),z.a.omit(q.shortcut,[J]))&&(W=q.handler()&&W)}}catch(e){K.e(e)}finally{K.f()}}W||(e.stopPropagation(),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0)},addHotkey:function(e,E){var B,P=o(e=e.split(","));try{for(P.s();!(B=P.n()).done;){var z,V=B.value.split("+"),U=null,H=null,W=!1,G=!1,K=!1,q=!1,J=o(V);try{for(J.s();!(z=J.n()).done;){var Q=z.value;"ctrl"==Q?G=!0:"alt"==Q||"option"==Q?K=!0:"meta"==Q||"command"==Q?W=!0:"shift"==Q?q=!0:Q.startsWith("keyCode:")?H=parseInt(Q.replace("keyCode:","")):U=Q}}catch(e){J.e(e)}finally{J.f()}this.hotkeys.push({handler:E,shortcut:{key:U,keyCode:H,metaKey:W,ctrlKey:G,altKey:K,shiftKey:q}})}}catch(e){P.e(e)}finally{P.f()}}}}},"748f":function(e,E,B){"use strict";B.r(E);var P=B("68bc"),z=B("b758"),V=B("570c"),U={name:"ItemDetailNarrower",components:{ItemName:P.default,LoadingIndicator:z.default},mixins:[V.a],props:{narrower:{type:Array,default:function(){return new Array}},text:{type:String,default:null},isLeft:{type:Boolean,default:!0}},computed:{loadConceptsMappedStatusConceptsToLoad:function(){return this.narrower.filter((function(e){return e}))}}},H=(B("c804"),B("2877")),W=Object(H.a)(U,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return e.narrower&&e.narrower.length>0?B("div",{staticClass:"itemDetailNarrower"},[null!=e.text?B("div",{staticClass:"fontWeight-heavy"},[e._v(" "+e._s(e.text)+" ")]):e._e(),e._l(e.narrower.filter((function(e){return null!=e})),(function(E){return B("div",{key:E.uri,staticClass:"itemDetailNarrower-item",class:{"concept-mappingsExist":e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(E,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(E,e.isLeft)}},[B("font-awesome-icon",{staticClass:"u-flip-horizontal",attrs:{icon:"level-down-alt"}}),B("item-name",{attrs:{item:E,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}})],1)})),0!=e.narrower.length&&e.narrower.includes(null)?B("loading-indicator",{attrs:{size:"sm"}}):e._e()],2):e._e()}),[],!1,null,"69945c5f",null);E.default=W.exports},"7b50":function(e,E,B){"use strict";B.r(E);var P={name:"RegistryName",props:{registry:{type:Object,default:null},tooltip:{type:Boolean,default:!0}},computed:{registryName:function(){var e=this.$jskos.prefLabel(this.registry),E=this.$jskos.notation(this.registry);return e?e.replace(E,(function(){return"<b>"+E+"</b>"})):(E=0)||"?"},tooltipHtml:function(){return this.$jskos.definition(this.registry).join("<br>")}}},z=B("2877"),V=Object(z.a)(P,(function(){var e=this,E=e.$createElement;return(e._self._c||E)("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html.right",value:e.tooltip?e.tooltipHtml:"",expression:"tooltip ? tooltipHtml : ''",modifiers:{html:!0,right:!0}}],domProps:{innerHTML:e._s(e.registryName)}})}),[],!1,null,null,null);E.default=V.exports},"7e13":function(e,E,B){e.exports={exportName:"default",displayName:"RegistryInfo",description:"",tags:{},props:[{name:"registry",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"showCapabilities",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showDetails",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"7f4c":function(e,E,B){e.exports={description:'Adds minimizing functionality to another component.\n\nTo add this to a component, it has to be of the CSS class "mainComponent" (or a child of it). Add this component to its component list and add the minimizer right under the root element of the component:\n<minimizer text="Name of Component" />\n\nIf it\'s a vertical component:\n<minimizer :is-column="true" text="Name of Component" />\n\nIf you want the minimized status to be written into local storage, provide a name:\n<minimizer name="myComponent" text="Name of Component" />',tags:{},exportName:"default",displayName:"Minimizer",props:[{name:"forceMinimized",description:"Allows parent component to force minimized state.\n`true`: Force to be opened.\n`false`: Force to be minimized.\n`null` or empty: Use user value.",type:{name:"boolean"},defaultValue:{func:!1,value:"null"}},{name:"isColumn",description:"Determines whether the component is a vertical component.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"text",description:"The text that is shown when minimized.",type:{name:"string"},defaultValue:{func:!1,value:'""'}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"85c9":function(e,E,B){},"866e":function(e,E,B){e.exports={exportName:"default",displayName:"AnnotationPopover",description:'Hover handler mixin\n\nHandles hovers in the application, e.g. to hide popovers when hovered outside.\n\nA component implementing this mixin has to provide a `hoverHandlers` method that returns an array.\nEach item in the array is an object with the following properties:\n- elements: An array of elements that the mouse position should be checked against.\n- delta: How far the mouse can be away from an element to still count.\n- handler: A function that is called when the mouse cursor is outside of the elements.\n\nUsually for popovers in Cocoda, you should add both the popover element (or the inside div rather) and the button that opens the popover.\n\nExample:\nhoverHandlers() {\n  return [\n    {\n       elements: [document.getElementById("someelement")],\n       delta: 20,\n       handler: (isInside, handler) => {\n         // do something here\n       }\n    }\n  ]\n}\n\nIt is possible to provide additional properties in handlers, e.g. to identify them in the handler function.',tags:{},props:[{name:"id",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"idPrefix",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"mapping",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:{"refresh-annotations":{name:"refresh-annotations",type:{names:["undefined"]}}},methods:void 0,slots:void 0,examples:null}},"86e2":function(e,E,B){e.exports={displayName:"RegistryName",exportName:"default",description:"",tags:{},props:[{name:"registry",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"tooltip",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"888b":function(e,E,B){"use strict";B("3e42")},"8b14":function(e,E,B){e.exports={description:"Component that represents a typeahead-enabled search field for concepts.",tags:{},exportName:"default",displayName:"ConceptSearch",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"scheme",description:"Currently selected scheme, needed to detect changes.",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},"8c91":function(e,E,B){},"8db9":function(e,E,B){(B("6f28").bind(null,{}),B("ee44")).bind(null,"",null,null),e.exports=[{type:"markdown",content:"Cocoda is a web application to manage and create **mappings between knowledge organization systems**, such as classifications, authority files, and thesauri. The application is developed as part of [project coli-conc](https://coli-conc.gbv.de/) at [GBV](https://www.gbv.de/), funded [by DFG](http://gepris.dfg.de/gepris/projekt/276843344).\n\nPublic instances of Cocoda are listed at <https://coli-conc.gbv.de/cocoda/> with the most recent development version at <https://coli-conc.gbv.de/cocoda/dev/>.\n\n*   read the **[administrator manual](#administration)** how to install and configure Cocoda\n\n*   read CONTRIBUTING.md for technical details to understand and extend functionality of Cocoda\n\nThere is also a user manual:\n\n*   [English user manual](https://gbv.github.io/cocoda/dev/user-manual-en.html)\n*   [German user manual](https://gbv.github.io/cocoda/dev/user-manual-de.html)\n\nFeedback and contributions are very welcome: please use the [issue tracker](https://github.com/gbv/cocoda/issues) for bug reports and feature request!"}]},"8f50":function(e,E,B){e.exports={exportName:"default",displayName:"AnnotationList",description:"",tags:{},props:[{name:"annotations",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"provider",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:{loading:{name:"loading",type:{names:["undefined"]}}},methods:void 0,slots:void 0,examples:null}},"8fb2":function(e,E,B){"use strict";E.a={methods:{dragStart:function(e,E){E.dataTransfer.setData("text",e.uri),this.$store.commit({type:"setDraggedConcept",concept:e})},dragEnd:function(){this.$store.commit({type:"setDraggedConcept",concept:null})},dragOver:function(e){e.preventDefault()},drop:function(e){e.preventDefault();var E=e.dataTransfer.getData("text"),B=this.$store.state.draggedConcept||this.getObject({uri:E});if(B){for(var P=arguments.length,z=new Array(P>1?P-1:0),V=1;V<P;V++)z[V-1]=arguments[V];this.droppedConcept.apply(this,[B].concat(z))}},droppedConcept:function(){}}}},"8fc9":function(e,E,B){"use strict";B.r(E);var P=B("68bc"),z=B("e418"),V=B("1e4f"),U=B("2ef0"),H=B.n(U),W=B("616f"),G=B("5635"),K=B("71cd"),q=B("564d"),J=B("47f0");function g(e){return function w(e){if(Array.isArray(e))return S(e)}(e)||function b(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,E){if(e){if("string"==typeof e)return S(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?S(e,E):void 0}}function S(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var Q={name:"ConceptSchemeSelection",components:{ItemName:P.default,ConceptSearch:z.default,ComponentSettings:V.default},mixins:[W.a,G.a,K.a,q.a],props:{isLeft:{type:Boolean,default:!0}},data:function(){return{id:this.generateID(),popoverShown:!1,filterPopoverShow:!1,schemeFilter:"",registryFilter:[],languageFilter:[],typeFilter:[],onlyFavorites:!0}},computed:{scheme:function(){return this.selected.scheme[this.isLeft]},isFiltered:function(){return""!=this.schemeFilter||this.registryFilter.length<this.availableRegistries.length||this.languageFilter.length-1<this.availableLanguages.length||this.typeFilter.length-1<this.availableTypes.length||this.onlyFavorites},filteredSchemes:function(){var e=this,E=this.schemeFilter.toLowerCase();if(E){return this.schemes.filter((function(e){return function(e){return H.a.flattenDeep(H.a.concat([],Object.values(e.prefLabel||{}),Object.values(e.altLabel||{}),e.notation||[])).map((function(e){return e.toLowerCase()}))}(e).find((function(e){return e.startsWith(E)}))}))}return this.schemes.filter((function(E){return(e.registryFilter.length==e.availableRegistries.length||e.registryFilter.find((function(B){return e.$jskos.compare({uri:B},E._registry)})))&&(e.languageFilter.includes(null)&&!(E.languages||[]).length||H.a.intersection(E.languages||[],e.languageFilter).length)&&(e.typeFilter.includes(null)&&(E.type||[]).length<=1||H.a.intersection(E.type||[],e.typeFilter).length)&&(!e.onlyFavorites||e.$jskos.isContainedIn(E,e.favoriteSchemes))}))},availableRegistries:function(){return this.config.registries.filter((function(e){return e.has.concepts}))},availableLanguages:function(){var e;return H.a.uniq((e=[]).concat.apply(e,g(this.schemes.map((function(e){return e.languages||[]})))))},shownRegistries:function(){var e=this,E=this.schemes.filter((function(E){return(e.languageFilter.includes(null)&&!(E.languages||[]).length||H.a.intersection(E.languages||[],e.languageFilter).length)&&(e.typeFilter.includes(null)&&(E.type||[]).length<=1||H.a.intersection(E.type||[],e.typeFilter).length)&&(!e.onlyFavorites||e.$jskos.isContainedIn(E,e.favoriteSchemes))}));return this.availableRegistries.filter((function(B){return E.find((function(E){return e.$jskos.compare(B,E._registry)}))}))},registryFilterOptions:function(){var e=this;return this.shownRegistries.map((function(E){return{value:E.uri,text:e.$jskos.prefLabel(E)}}))},shownLanguages:function(){var e,E=this,B=this.schemes.filter((function(e){return(E.registryFilter.length==E.availableRegistries.length||E.registryFilter.find((function(B){return E.$jskos.compare({uri:B},e._registry)})))&&(E.typeFilter.includes(null)&&(e.type||[]).length<=1||H.a.intersection(e.type||[],E.typeFilter).length)&&(!E.onlyFavorites||E.$jskos.isContainedIn(e,E.favoriteSchemes))}));return H.a.uniq((e=[]).concat.apply(e,g(B.map((function(e){return e.languages||[]})))))},languageFilterOptions:function(){var e=[];return this.schemes.find((function(e){return!e.languages||!e.languages.length}))&&e.push({value:null,text:this.$t("schemeSelection.filterOther")}),e=this.shownLanguages.map((function(e){return{value:e,text:e}})).concat(e)},availableTypes:function(){return H.a.uniq(H.a.flatten(this.schemes.map((function(e){return e.type||[]})))).filter((function(e){return e&&"http://www.w3.org/2004/02/skos/core#ConceptScheme"!=e}))},shownTypes:function(){var e=this,E=this.schemes.filter((function(E){return(e.registryFilter.length==e.availableRegistries.length||e.registryFilter.find((function(B){return e.$jskos.compare({uri:B},E._registry)})))&&(e.languageFilter.includes(null)&&!(E.languages||[]).length||H.a.intersection(E.languages||[],e.languageFilter).length)&&(!e.onlyFavorites||e.$jskos.isContainedIn(E,e.favoriteSchemes))}));return H.a.uniq(H.a.flatten(E.map((function(e){return e.type||[]})))).filter((function(e){return e&&"http://www.w3.org/2004/02/skos/core#ConceptScheme"!=e}))},typeFilterOptions:function(){var e=this,E=[];this.schemes.find((function(e){return!e.type||e.type.length<=1}))&&E.push({value:null,text:this.$t("schemeSelection.filterOther")});var B,P=function m(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=y(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}(E=this.shownTypes.map((function(e){return{value:e,text:e}})).concat(E));try{var r=function(){var E=B.value,P=J.find((function(e){return e.uri==E.value}));P&&(E.text=e.$jskos.prefLabel(P))};for(P.s();!(B=P.n()).done;)r()}catch(e){P.e(e)}finally{P.f()}return E},allowFavoriteSchemesFilter:function(){var e=this;return!!this.favoriteSchemes.find((function(E){return e.$jskos.isContainedIn(E,e.schemes)}))}},watch:{popoverShown:function(e){var E=this;e&&H.a.delay((function(){E.focusAndSelectInput()}),100)},onlyFavorites:function(){this.schemeFilter=""},languageFilter:function(){this.schemeFilter=""},typeFilter:function(){this.schemeFilter=""},allowFavoriteSchemesFilter:function(e){e||(this.onlyFavorites=!1)}},mounted:function(){this.enableShortcuts(),this.registryFilter=this.availableRegistries.map((function(e){return e.uri})),this.languageFilter=this.availableLanguages.concat([null]),this.typeFilter=this.availableTypes.concat([null]),this.allowFavoriteSchemesFilter||(this.onlyFavorites=!1)},methods:{clickHandlers:function(){var e=this;return[{elements:[this.$refs.popover,document.getElementById("".concat(this.id,"-expandButton")),this.$refs.showAllSchemesLink,document.getElementById("conceptSchemeSelection-filterButton-".concat(this.id)),this.$refs.filterPopover,this.$refs.removeAllFiltersLink],handler:function(){e.hidePopover()}},{elements:[document.getElementById("conceptSchemeSelection-filterButton-".concat(this.id)),this.$refs.filterPopover,this.$refs.removeAllFiltersLink],handler:function(){e.filterPopoverShow=!1}}]},shortcutHandler:function(e){var E=e.action,B=e.isLeft;if(this.isLeft===B)switch(E){case"openSchemeSelection":this.scheme?this.togglePopover():this.focusAndSelectInput();break;case"openConceptSearch":this.$refs.conceptSearch&&this.$refs.conceptSearch.focusSearch()}},clearScheme:function(){var e=this;this.$router.push({path:this.getRouterUrl(null,this.isLeft)}),H.a.delay((function(){e.focusAndSelectInput()}),100)},chooseFirst:function(e){e.preventDefault();var E=H.a.get(this,"$refs.firstScheme[0].item");E&&(this.$router.push({path:this.getRouterUrl(E,this.isLeft)}),this.hidePopover())},setConceptSearchQuery:function(e){var E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.conceptSearch&&this.$refs.conceptSearch.setSearchQuery(e,E)},toggleFavoriteScheme:function(e){this.$jskos.isContainedIn(e,this.favoriteSchemes)?this.$store.dispatch("removeSchemeFromFavorites",e):this.$store.dispatch("addSchemeToFavorites",e),this.focusAndSelectInput()},focusAndSelectInput:function(){var e=this.$refs.input.$el;e&&(e.focus(),e.select())},showPopover:function(){this.$root.$emit("bv::show::popover","".concat(this.id,"-expandButton"))},hidePopover:function(){this.$root.$emit("bv::hide::popover","".concat(this.id,"-expandButton"))},togglePopover:function(){this.popoverShown?this.hidePopover():this.showPopover()}}},X=(B("357f"),B("0397"),B("2877")),Y=Object(X.a)(Q,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"conceptSchemeSelection",staticStyle:{overflow:"visible"},attrs:{id:"conceptSchemeSelection-"+e.id}},[B("component-settings"),e.scheme?B("div",{staticClass:"conceptSchemeSelection-collapsed"},[B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.popoverShown?e.$t("schemeSelection.popoverHide"):e.$t("schemeSelection.popoverShow"),delay:e.defaults.delay.medium},expression:"{ title: popoverShown ? $t('schemeSelection.popoverHide') : $t('schemeSelection.popoverShow'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptSchemeSelection-expandButton button",attrs:{id:e.id+"-expandButton"},on:{click:e.togglePopover}},[B("font-awesome-icon",{attrs:{icon:e.popoverShown?"angle-left":"angle-down"}})],1),B("div",{staticClass:"conceptSchemeSelection-schemeName"},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.isContainedIn(e.scheme,e.favoriteSchemes)?e.$t("schemeSelection.starRemove"):e.$t("schemeSelection.starAdd"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.isContainedIn(scheme, favoriteSchemes) ? $t('schemeSelection.starRemove') : $t('schemeSelection.starAdd'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"pointer",class:e.$jskos.isContainedIn(e.scheme,e.favoriteSchemes)?"starFavorite":"starNormal",attrs:{icon:"star"},on:{click:function(E){return e.toggleFavoriteScheme(e.scheme)}}}),e._v("   "),B("item-name",{attrs:{item:e.scheme,"is-link":!0,"is-left":e.isLeft,"font-size":"large"}}),e.scheme.license&&e.scheme.license.length?B("span",{staticStyle:{display:"inline-block",margin:"0px 2px 0px 1px",height:"15px"}},[e.defaults.licenseBadges[e.scheme.license[0].uri]?B("img",{staticStyle:{"vertical-align":"text-top"},attrs:{src:e.defaults.licenseBadges[e.scheme.license[0].uri]}}):e._e()]):e._e(),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.clearScheme"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.clearScheme'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",staticStyle:{display:"inline-block",margin:"-3px 2px 0px 2px"},on:{click:e.clearScheme}},[B("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)],1),B("concept-search",{ref:"conceptSearch",staticClass:"conceptSchemeSelection-conceptSearch",attrs:{"is-left":e.isLeft,scheme:e.scheme}})],1):e._e(),B(null==e.scheme?"div":"b-popover",{tag:"div",staticClass:"conceptSchemeSelection-popover",attrs:{target:e.id+"-expandButton",container:"conceptSchemeSelection-"+e.id,triggers:"disabled",placement:"leftbottom"},on:{shown:function(E){e.popoverShown=!0},hidden:function(E){e.popoverShown=!1}}},[B("div",{ref:"popover",staticClass:"conceptSchemeSelection-expanded",class:{"conceptSchemeSelection-expanded-div":null==e.scheme,"conceptSchemeSelection-expanded-popover":null!=e.scheme}},[B("div",{staticClass:"componentTitle"},[e._v(" "+e._s(e.isLeft?e.$t("schemeSelection.source"):e.$t("schemeSelection.target"))+" ")]),B("b-form",{attrs:{inline:""},on:{submit:e.chooseFirst}},[B("b-form-input",{ref:"input",staticStyle:{flex:"1","margin-right":"5px"},attrs:{placeholder:e.$t("schemeSelection.schemeFilterPlaceholder"),autocomplete:"off",size:"sm"},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"esc",27,E.key,["Esc","Escape"])?null:e.hidePopover.apply(null,arguments)}},model:{value:e.schemeFilter,callback:function(E){e.schemeFilter=E},expression:"schemeFilter"}}),B("div",{staticClass:"button",staticStyle:{position:"relative"},attrs:{id:"conceptSchemeSelection-filterButton-"+e.id}},[B("font-awesome-icon",{attrs:{icon:"filter"}}),e.isFiltered?B("span",{staticClass:"text-success",staticStyle:{position:"absolute",top:"-10px",right:"-5px"}},[e._v(" • ")]):e._e()],1),B("b-popover",{attrs:{target:"conceptSchemeSelection-filterButton-"+e.id,show:e.filterPopoverShow,triggers:"click",placement:"auto"},on:{"update:show":function(E){e.filterPopoverShow=E}}},[B("div",{ref:"filterPopover",staticClass:"conceptSchemeSelection-filterPopover"},[B("p",{staticClass:"fontWeight-heavy"},[e._v(" "+e._s(e.$t("schemeSelection.filter"))+" ")]),B("p",{directives:[{name:"show",rawName:"v-show",value:e.isFiltered,expression:"isFiltered"}]},[B("a",{ref:"removeAllFiltersLink",attrs:{href:""},on:{click:function(E){E.preventDefault(),e.onlyFavorites=!1,e.schemeFilter="",e.registryFilter=e.availableRegistries.map((function(e){return e.uri})),e.languageFilter=e.availableLanguages.concat([null]),e.typeFilter=e.availableTypes.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.filtersRemove"))+" ")])]),e.allowFavoriteSchemesFilter?B("b-form-checkbox",{attrs:{size:"sm"},model:{value:e.onlyFavorites,callback:function(E){e.onlyFavorites=E},expression:"onlyFavorites"}},[e._v(" "+e._s(e.$t("schemeSelection.filterOnlyFavorites"))+" ")]):e._e(),B("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"conceptSchemeSelection-filterPopover-"+e.id+"-registryFilterCollapse",expression:"`conceptSchemeSelection-filterPopover-${id}-registryFilterCollapse`"}],staticClass:"button"},[B("span",{staticClass:"when-opened"},[B("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),B("span",{staticClass:"when-closed"},[B("font-awesome-icon",{attrs:{icon:"angle-right"}})],1),e._v(" "+e._s(e.$t("schemeSelection.registryFilter"))+" ("+e._s(e.registryFilter.length==e.availableRegistries.length?"all":e.registryFilter.length)+") ")]),B("b-collapse",{attrs:{id:"conceptSchemeSelection-filterPopover-"+e.id+"-registryFilterCollapse"}},[B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.registryFilter=e.availableRegistries.map((function(e){return e.uri}))}}},[e._v(" "+e._s(e.$t("schemeSelection.filterSelectAll"))+" ")]),e._v("• "),B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.registryFilter=[]}}},[e._v(" "+e._s(e.$t("schemeSelection.filterDeselectAll"))+" ")]),e._l(e.registryFilterOptions,(function(E){return B("b-form-checkbox",{key:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilter-"+E.value,staticClass:"fontSize-normal",attrs:{value:E.value,size:"sm",stacked:""},on:{change:e.focusAndSelectInput},model:{value:e.registryFilter,callback:function(E){e.registryFilter=E},expression:"registryFilter"}},[e._v(" "+e._s(E.text)+" ")])}))],2),B("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilterCollapse",expression:"`conceptSchemeSelection-filterPopover-${id}-languageFilterCollapse`"}],staticClass:"button"},[B("span",{staticClass:"when-opened"},[B("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),B("span",{staticClass:"when-closed"},[B("font-awesome-icon",{attrs:{icon:"angle-right"}})],1),e._v(" "+e._s(e.$t("schemeSelection.languageFilter"))+" ("+e._s(e.languageFilter.length-1==e.availableLanguages.length?"all":e.languageFilter.length)+") ")]),B("b-collapse",{attrs:{id:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilterCollapse"}},[B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.languageFilter=e.availableLanguages.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.filterSelectAll"))+" ")]),e._v("• "),B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.languageFilter=[]}}},[e._v(" "+e._s(e.$t("schemeSelection.filterDeselectAll"))+" ")]),e._l(e.languageFilterOptions,(function(E){return B("b-form-checkbox",{key:"conceptSchemeSelection-filterPopover-"+e.id+"-languageFilter-"+E.value,staticClass:"fontSize-normal",attrs:{value:E.value,size:"sm",stacked:""},on:{change:e.focusAndSelectInput},model:{value:e.languageFilter,callback:function(E){e.languageFilter=E},expression:"languageFilter"}},[e._v(" "+e._s(E.text)+" ")])}))],2),B("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"conceptSchemeSelection-filterPopover-"+e.id+"-typeFilterCollapse",expression:"`conceptSchemeSelection-filterPopover-${id}-typeFilterCollapse`"}],staticClass:"button"},[B("span",{staticClass:"when-opened"},[B("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),B("span",{staticClass:"when-closed"},[B("font-awesome-icon",{attrs:{icon:"angle-right"}})],1),e._v(" "+e._s(e.$t("schemeSelection.typeFilter"))+" ("+e._s(e.typeFilter.length-1==e.availableTypes.length?"all":e.typeFilter.length)+") ")]),B("b-collapse",{attrs:{id:"conceptSchemeSelection-filterPopover-"+e.id+"-typeFilterCollapse"}},[B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.typeFilter=e.availableTypes.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.filterSelectAll"))+" ")]),e._v("• "),B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.typeFilter=[]}}},[e._v(" "+e._s(e.$t("schemeSelection.filterDeselectAll"))+" ")]),e._l(e.typeFilterOptions,(function(E){return B("b-form-checkbox",{key:"conceptSchemeSelection-filterPopover-"+e.id+"-typeFilter-"+E.value,staticClass:"fontSize-normal",attrs:{value:E.value,size:"sm",stacked:""},on:{change:e.focusAndSelectInput},model:{value:e.typeFilter,callback:function(E){e.typeFilter=E},expression:"typeFilter"}},[e._v(" "+e._s(E.text)+" ")])}))],2)],1)])],1),B("ul",{staticClass:"conceptSchemeSelection-schemeList scrollable"},[e._l(e.filteredSchemes,(function(E,P){return B("li",{key:E.uri+"-scheme-list-"+e.id+P},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.isContainedIn(E,e.favoriteSchemes)?e.$t("schemeSelection.starRemove"):e.$t("schemeSelection.starAdd"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.isContainedIn(_scheme, favoriteSchemes) ? $t('schemeSelection.starRemove') : $t('schemeSelection.starAdd'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"pointer",class:e.$jskos.isContainedIn(E,e.favoriteSchemes)?"starFavorite":"starNormal",attrs:{icon:"star"},on:{click:function(B){return e.toggleFavoriteScheme(E)}}}),B("item-name",{ref:0==P?"firstScheme":null,refInFor:!0,attrs:{item:E,"is-link":!0,"is-left":e.isLeft}})],1)})),B("li",{directives:[{name:"show",rawName:"v-show",value:e.isFiltered&&e.filteredSchemes.length<e.schemes.length,expression:"isFiltered && filteredSchemes.length < schemes.length"}]},[B("a",{ref:"showAllSchemesLink",attrs:{href:""},on:{click:function(E){E.preventDefault(),e.onlyFavorites=!1,e.schemeFilter="",e.registryFilter=e.availableRegistries.map((function(e){return e.uri})),e.languageFilter=e.availableLanguages.concat([null]),e.typeFilter=e.availableTypes.concat([null])}}},[e._v(" "+e._s(e.$t("schemeSelection.showAllSchemes",{count:e.schemes.length}))+" ")])])],2)],1)])],1)}),[],!1,null,"0887f416",null);E.default=Y.exports},"981f":function(e,E,B){"use strict";B.r(E);var P=B("1757"),z=B("68bc"),V=B("748f"),U=B("7b50"),H=B("d465"),W=B("616f"),G=B("47f0"),K={name:"SchemeDetail",components:{AutoLink:P.default,ItemName:z.default,ItemDetailNarrower:V.default,RegistryName:U.default,RegistryNotation:H.default},mixins:[W.a],props:{item:{type:Object,default:null},isLeft:{type:Boolean,default:!0},settings:{type:Object,default:function(){return{}}}},data:function(){return{kosTypes:G}},methods:{licenseAttribution:function(e){var E=e.publisher||e.creator;return E&&0!=E.length?{url:E[0].url||E[0].uri,label:this.$jskos.prefLabel(E[0])}:null}}},q=(B("3710"),B("2877")),J=Object(q.a)(K,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"schemeDetail"},[B("item-name",{attrs:{item:e.item,"is-highlighted":!0,"font-size":"normal"}}),e.item.license||e.licenseAttribution(e.item)?B("div",{staticClass:"schemeDetail-license"},[e._l(e.item.license,(function(E,P){return B("span",{key:"schemeDetail-"+e.isLeft+"-license-"+P},[B("a",{attrs:{href:E.uri,target:"_blank"}},[e.defaults.licenseBadges[E.uri]?B("img",{staticClass:"schemeDetail-licenseBadge",attrs:{src:e.defaults.licenseBadges[E.uri]}}):B("span",[e._v(" "+e._s(E.uri)+" ")])])])})),e.licenseAttribution(e.item)?B("span",[e._v(" by "),e.licenseAttribution(e.item).url?B("a",{attrs:{href:e.licenseAttribution(e.item).url,target:"_blank"}},[B("auto-link",{attrs:{link:e.licenseAttribution(e.item).label}})],1):B("span",[B("auto-link",{attrs:{link:e.licenseAttribution(e.item).label}})],1)]):e._e()],2):e._e(),e._l([e.item.uri].concat(e.item.identifier).filter((function(e){return null!=e})),(function(E,P){return B("div",{key:"schemeDetail-"+e.isLeft+"-identifier-"+P,staticClass:"schemeDetail-identifier"},[B("font-awesome-icon",{attrs:{icon:E.startsWith("http")?"link":"id-card"}}),B("auto-link",{attrs:{link:E}})],1)})),e.item.created?B("div",{staticClass:"schemeDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.created"))+":")]),e._v(" "+e._s(e.dateToString(e.item.created,!0))+" ")]):e._e(),e.item.issued?B("div",{staticClass:"schemeDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.issued"))+":")]),e._v(" "+e._s(e.dateToString(e.item.issued,!0))+" ")]):e._e(),e.item.modified?B("div",{staticClass:"schemeDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.modified"))+":")]),e._v(" "+e._s(e.dateToString(e.item.modified,!0))+" ")]):e._e(),e.item.languages?B("div",{staticClass:"schemeDetail-identifier"},[B("b",[e._v(e._s(e.$t("schemeDetail.languages"))+":")]),e._v(" "+e._s(e.item.languages.join(", "))+" ")]):e._e(),e.item.type&&e.item.type.length>1?B("div",{staticClass:"schemeDetail-identifier"},[B("b",[e._v(e._s(e.$t("general.type"))+":")]),e._l(e.item.type.filter((function(e){return"http://www.w3.org/2004/02/skos/core#ConceptScheme"!=e})),(function(E,P){return B("span",{key:"schemeDetail-"+e.isLeft+"-type-"+P},[e._v(" "+e._s(e.$jskos.prefLabel(e.kosTypes.find((function(e){return e.uri==E})))||E)+" "),P!=e.item.type.length-2?B("span",[e._v(" / ")]):e._e()])}))],2):e._e(),B("div",{staticClass:"schemeDetail-identifier"},[B("b",[e._v(e._s(e.$t("schemeDetail.registry"))+": ")]),B("registry-notation",{attrs:{registry:e.item._registry,tooltip:!1}}),e._v("   "),B("registry-name",{attrs:{registry:e.item._registry,tooltip:!1}})],1),e.$jskos.notation(e.item)?B("div",{staticClass:"schemeDetail-identifier"},[B("a",{attrs:{href:""},on:{click:function(E){E.preventDefault(),e.$emit("searchMappings",{fromScheme:e.isLeft?e.$jskos.notation(e.item):null,fromNotation:e.isLeft?"":null,toScheme:e.isLeft?null:e.$jskos.notation(e.item),toNotation:e.isLeft?null:"",direction:"both"})}}},[B("font-awesome-icon",{attrs:{icon:"external-link-square-alt"}}),e._v(e._s(e.$t("schemeDetail.availableMappings"))+" ")],1)]):e._e(),e.settings.showTopConceptsInScheme&&e.topConcepts[e.item.uri]&&e.topConcepts[e.item.uri].length>0?B("item-detail-narrower",{attrs:{narrower:e.topConcepts[e.item.uri],"is-left":e.isLeft,text:"Top Concepts:"}}):e.settings.showTopConceptsInScheme?B("div",[e._v(" "+e._s(e.$t("schemeDetail.noTopConcepts"))+" ")]):e._e()],2)}),[],!1,null,"3f01b351",null);E.default=J.exports},"9b38":function(e,E,B){"use strict";B.r(E);var P=B("a34a"),z=B.n(P),V=B("b48b"),U=B("d1b3"),H=B("2ef0"),W=B.n(H),G=B("1e4f"),K=B("d8c4"),q=B("a4fe"),J=B("564d"),Q=B("616f"),X=B("8fb2"),Y=B("193e");function y(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function w(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function S(e,E){if(e){if("string"==typeof e)return k(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?k(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function k(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var Z={name:"ConceptListWrapper",components:{Minimizer:V.default,ConceptList:U.default,ComponentSettings:G.default,DataModalButton:K.default,LoadingIndicatorFull:q.default},mixins:[J.a,Q.a,X.a,Y.a],props:{isLeft:{type:Boolean,default:!0}},data:function(){return{listSelectionPopoverShow:!1,loading:0}},computed:{dataChoices:function(){var e=this,E=W.a.get(this.selected.scheme[this.isLeft],"_registry.top");E&&(E+="?uri=".concat(encodeURIComponent(this.selected.scheme[this.isLeft].uri)));var B,P=[{id:"topConcepts",label:this.$t("conceptList.topConceptsShort"),tooltip:this.$t("conceptList.topConcepts"),noItemsLabel:this.$t("schemeDetail.noTopConcepts"),concepts:this._topConcepts,showChildren:!0,showScheme:!1,url:E,available:this._topConcepts.length>0,icon:"sitemap"},{id:"favoriteConcepts",label:this.$t("conceptList.favoriteConceptsShort"),tooltip:this.$t("conceptList.favoriteConcepts"),concepts:this.favoriteConcepts,showChildren:!1,showScheme:!0,available:!0,buttons:[{position:"before",icon:"times-circle",tooltip:this.$t("schemeSelection.starRemove"),onClick:function(E,B){e.$store.dispatch("removeConceptFromFavorites",B)}}],droppedConcept:function(E){e.$store.dispatch("addConceptToFavorites",E)},icon:"star"}],z=0,V=w(this.config.conceptLists||[]);try{for(V.s();!(B=V.n()).done;){var U=B.value;if(!U.schemes||U.schemes.find((function(E){return e.$jskos.compare(E,e.selected.scheme[e.isLeft])}))){var H=this.$jskos.notation(U),G=this.$jskos.prefLabel(U),K="";H&&(G&&(K="<b>".concat(G,"</b><br>")),G=H),K+=this.$jskos.languageMapContent(U,"scopeNote")||"";var q={id:"custom-".concat(z),label:G,tooltip:K,concepts:U.concepts.map((function(E){return e.saveObject(E,{type:"concept"})})),showChildren:!1,showScheme:!0,url:U.url||U.conceptsUrl,available:U.concepts.length>0,icon:"list"};q.reloadButton=null!=q.url,P.push(q),z+=1}else z+=1}}catch(e){V.e(e)}finally{V.f()}return P},_topConcepts:function(){var e=W.a.get(this.selected.scheme[this.isLeft],"uri",null);return W.a.get(this.topConcepts,e)||[]},concepts:function(){return this.currentChoice.concepts},currentChoice:{get:function(){var e=this.$settings.conceptListChoice[this.isLeft];return this.dataChoices.find((function(E){return E.id===e&&E.available}))||this.dataChoices.find((function(e){return e.available}))},set:function(e){this.$store.commit({type:"settings/set",prop:"conceptListChoice[".concat(this.isLeft,"]"),value:e.id})}},currentChoiceIndex:{get:function(){var e=this;return this.dataChoices.findIndex((function(E){return E===e.currentChoice}))},set:function(e){this.currentChoice=this.dataChoices[e]}}},created:function(){this.loadConceptsInView=W.a.debounce(this._loadConceptsInView,300)},methods:{chooseIndex:function(e){this.currentChoiceIndex=e,this.listSelectionPopoverShow=!1},tabChanged:function(e){var E=e.index,B=W.a.get(this,"$refs.conceptList[".concat(E,"]"));B&&B.scroll&&B.scroll(),this.loadConceptsInView()},droppedConcept:function(e,E){E&&E(e)},_loadConceptsInView:function(){var e=[],E=W.a.get(this,"$refs.conceptList[".concat(this.currentChoiceIndex,"]")),B=W.a.get(E,"$parent.$el");if(E&&E.$children&&B){var P,z=w(E.$children);try{for(z.s();!(P=z.n()).done;){var V=P.value;if(V&&V.$el){var U=V.$el;this.checkInView(B,U)&&e.push(V.concept)}}}catch(e){z.e(e)}finally{z.f()}}this.loadConcepts(e)},checkInView:function(e,E){var B=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],P=e.scrollTop,z=P+e.clientHeight,V=E.offsetTop,U=V+E.clientHeight,H=V>=P&&U<=z,W=B&&(V<P&&U>P||U>z&&V<z);return H||W},minimizeConcepts:function(e){var E,B=[],P=w(e);try{for(P.s();!(E=P.n()).done;){var z=E.value;if(z){var V={uri:z.uri,notation:z.notation};z.inScheme&&z.inScheme[0]&&z.inScheme[0].uri&&(V.inScheme=[{uri:z.inScheme[0].uri}]),B.push(V)}}}catch(e){P.e(e)}finally{P.f()}return B},hoverHandlers:function(){var e=this;return[{elements:[document.getElementById("conceptListWrapper-listSelectionButton-".concat(this.isLeft)),document.getElementById("conceptListWrapper-listSelectionPopover-".concat(this.isLeft))],delta:5,handler:function(E){e.listSelectionPopoverShow=E}}]},reloadList:function(){var e=this;return function b(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){y(V,P,z,a,s,"next",e)}function s(e){y(V,P,z,a,s,"throw",e)}a(void 0)}))}}(z.a.mark((function t(){var E;return z.a.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:return e.loading+=1,B.next=3,e.$store.dispatch("loadConceptLists");case 3:E=B.sent,e.$store.commit({type:"setConfig",option:"conceptLists",value:E}),e.loading-=1;case 6:case"end":return B.stop()}}),t)})))()}}},ee=(B("c66b"),B("2877")),te=Object(ee.a)(Z,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"conceptListWrapper",style:0==e.concepts.length?"min-height: 80px; max-height: 80px;":""},[B("tabs",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},attrs:{value:e.currentChoiceIndex,fill:""},on:{change:e.tabChanged},scopedSlots:e._u([{key:"title",fn:function(E){return[B("span",[e._v(" "+e._s(E.tab.title)+" ")])]}}])},e._l(e.dataChoices,(function(E,P){return B("tab",{key:"conceptListWrapper-dataChoice-"+P,staticStyle:{position:"relative"},attrs:{title:E.label,hidden:E!==e.currentChoice},nativeOn:{dragover:function(E){return e.dragOver.apply(null,arguments)},drop:function(B){return e.drop(B,E.droppedConcept)},scroll:function(E){return e.loadConceptsInView.apply(null,arguments)}}},[B("concept-list",{ref:"conceptList",refInFor:!0,attrs:{"is-left":e.isLeft,concepts:E.concepts,"show-children":E.showChildren,"show-scheme":E.showScheme,"no-items-label":E.noItemsLabel,buttons:E.buttons,shown:P==e.currentChoiceIndex}})],1)})),1),e.dataChoices.filter((function(e){return e.available})).length>1?B("div",{staticClass:"button conceptListWrapper-listSelectionButton",attrs:{id:"conceptListWrapper-listSelectionButton-"+e.isLeft}},[B("font-awesome-icon",{attrs:{icon:"chevron-up"}})],1):e._e(),B("component-settings"),B("data-modal-button",{attrs:{data:e.minimizeConcepts(e.currentChoice.concepts),"position-right":20,"position-bottom":0,type:"concept",url:e.currentChoice.url}}),B("b-popover",{ref:"listSelectionPopover",attrs:{placement:"top",show:e.listSelectionPopoverShow,target:"conceptListWrapper-listSelectionButton-"+e.isLeft},on:{"update:show":function(E){e.listSelectionPopoverShow=E}}},[B("div",{attrs:{id:"conceptListWrapper-listSelectionPopover-"+e.isLeft}},e._l(e.dataChoices,(function(E,P){return B("div",{directives:[{name:"show",rawName:"v-show",value:E.available,expression:"choice.available"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:E.tooltip,delay:e.defaults.delay.medium,html:!0},expression:"{ title: choice.tooltip, delay: defaults.delay.medium, html: true }",modifiers:{hover:!0}}],key:"conceptListWrapper-listSelectionPopover-"+e.isLeft+"-"+P,class:{"fontWeight-heavy":E===e.currentChoice,"conceptListWrapper-listSelectionPopover-choice":!0},on:{click:function(E){return e.chooseIndex(P)}}},[B("div",{staticClass:"fontSize-small",staticStyle:{display:"inline-block",width:"18px"}},[B("font-awesome-icon",{attrs:{icon:E.icon}})],1),e._v(" "+e._s(E.label)+" ")])})),0)]),e.currentChoice.reloadButton?B("div",{staticClass:"dataModalButton fontSize-small conceptListWrapper-reloadButton",on:{click:e.reloadList}},[B("font-awesome-icon",{attrs:{icon:"sync-alt"}})],1):e._e(),e.loading?B("loading-indicator-full"):e._e(),e.concepts.length>0?B("minimizer",{attrs:{name:"conceptList_"+e.isLeft,text:e.currentChoice.label}}):e._e()],1)}),[],!1,null,null,null);E.default=te.exports},"9ecc":function(e,E,B){"use strict";B.r(E);var P=B("d465"),z=B("a189"),V={name:"RegistryInfo",components:{RegistryNotation:P.default},mixins:[z.a],props:{registry:{type:Object,default:null},showDetails:{type:Boolean,default:!0},showCapabilities:{type:Boolean,default:!0}}},U=(B("c1fc"),B("2877")),H=Object(U.a)(V,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",[B("div",[B("registry-notation",{attrs:{registry:e.registry,disabled:!1===e.$store.state.settings.settings.mappingBrowserShowRegistry[e.registry.uri],tooltip:!1}}),B("span",{class:{"fontWeight-heavy":!1!==e.$store.state.settings.settings.mappingBrowserShowRegistry[e.registry.uri]}},[e._v(" "+e._s(e.$jskos.prefLabel(e.registry))+" ")]),e.showDetails?B("a",{attrs:{href:e.registry.uri,target:"_blank"}},[B("font-awesome-icon",{attrs:{icon:"link"}})],1):e._e(),e.registry.isAuthorizedFor({type:"mappings",action:"create",user:e.user})?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.$t("registryInfo.canSaveMappings"),expression:"$t('registryInfo.canSaveMappings')"}],staticStyle:{"font-size":"12px","padding-left":"5px"}},[B("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1):e._e()],1),e.showDetails?B("div",[e._v(" "+e._s(e.$jskos.definition(e.registry).join(" "))+" ")]):e._e(),e.showCapabilities?B("div",[e._l(["schemes","concepts","mappings","annotations","occurrences"],(function(E){return B("span",{key:"settings-info-capabilities-"+E},[e.registry.has[E]?B("span",[e.registry.has[E]?B("font-awesome-icon",{staticStyle:{color:"green","margin-left":"5px"},attrs:{icon:"code"}}):e._e(),e._v(" "+e._s(e.$t("registryInfo."+E))+" ")],1):e._e()])})),e.registry.has.auth?B("span",{staticStyle:{"margin-left":"5px"}},[e.registry.isAuthorizedFor({type:"mappings",action:"create",user:e.user})?B("span",{staticStyle:{color:"green"}},[B("font-awesome-icon",{attrs:{icon:"lock-open"}}),e._v(" "+e._s(e.$t("registryInfo.authenticated"))+" ")],1):B("span",{staticStyle:{color:"red"}},[B("font-awesome-icon",{attrs:{icon:"lock"}}),e._v(" "+e._s(e.$t("registryInfo.notAuthenticated"))+" ")],1)]):e._e()],2):e._e()])}),[],!1,null,"c2c5a066",null);E.default=H.exports},"9fce":function(e,E,B){},a106:function(e,E,B){"use strict";B("a916")},a189:function(e,E,B){"use strict";var P=B("2ef0"),z=B.n(P);E.a={computed:{creator:function(){return this.$store.getters.creator},creatorName:function(){return this.$jskos.prefLabel(this.creator,{fallbackToUri:!1})},userName:function(){return this.$settings.creator},user:function(){return z.a.get(this,"$store.state.auth.user")},providers:function(){return z.a.get(this,"$store.state.auth.providers")},userUris:function(){return this.user?[this.user.uri].concat(Object.values(this.user.identities).map((function(e){return e.uri}))).filter((function(e){return null!=e})):null},userIdentityImage:function(){if(this.userIdentityProvider&&this.userIdentityProvider.image)return this.userIdentityProvider.image},userIdentityProvider:function(){return this.providerForIdentityUri(this.creator.uri)},authorized:function(){return z.a.get(this,"$store.state.auth.authorized")}},methods:{setName:function(e){return this.$store.dispatch("auth/setName",e)},providerForIdentityUri:function(e){var E=this,B=null;return z.a.forEach(this.user&&this.user.identities||{},(function(P,z){var V=E.providers.find((function(e){return e.id===z}));e===P.uri&&V&&(B=V)})),B},imageForIdentityUri:function(e){var E=this.providerForIdentityUri(e);return E&&E.image?E.image:null}}}},a4fe:function(e,E,B){"use strict";B.r(E);var P={name:"LoadingIndicatorFull",components:{LoadingIndicator:B("b758").default},props:{size:{type:String,default:"lg"}}},z=(B("2365"),B("2877")),V=Object(z.a)(P,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"fillAndCenter loadingIndicatorFull"},[B("div",[B("loading-indicator",{staticClass:"loadingIndicatorFull-indicator",style:"sm"==e.size?"display: inline-block;":"margin: 0 auto;",attrs:{size:e.size}}),B("div",{staticClass:"loadingIndicatorFull-text fontWeight-heavy",style:"sm"==e.size?"display: inline-block;":""},[e._v(" "+e._s(e.$t("general.loading"))+" ")])],1)])}),[],!1,null,null,null);E.default=V.exports},a6bd:function(e,E,B){},a6e7:function(e,E,B){"use strict";B("4e49")},a822:function(e,E,B){e.exports={exportName:"default",displayName:"MappingBrowser",description:"The mapping suggestion browser component.",tags:{},props:[{name:"registryHasErrored",description:"Object that maps registry URIs to a boolean which indicates whether the registry has errored.",type:{name:"object"},defaultValue:{func:!1,value:""}},{name:"searchLimit",type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"sections",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"showCocodaLink",description:"If true, a link to Cocoda for mappings will be shown.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showEditingTools",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:{pageChange:{name:"pageChange"}},methods:void 0,slots:{default:{name:"default"}},examples:null}},a886:function(e,E,B){},a916:function(e,E,B){},a94d:function(e,E,B){"use strict";B.r(E);var P=B("a34a"),z=B.n(P),V=B("1757"),U=B("68bc"),H=B("b758"),W=B("748f"),G=B("2ef0"),K=B.n(G),q=B("bc3a"),J=B.n(q),Q=B("616f"),X=B("564d"),Y=B("71cd"),Z=B("570c");function b(e,E){var B=Object.keys(e);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(e);E&&(P=P.filter((function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable}))),B.push.apply(B,P)}return B}function w(e){for(var E=1;E<arguments.length;E++){var B=null!=arguments[E]?arguments[E]:{};E%2?b(Object(B),!0).forEach((function(E){S(e,E,B[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(B)):b(Object(B)).forEach((function(E){Object.defineProperty(e,E,Object.getOwnPropertyDescriptor(B,E))}))}return e}function S(e,E,B){return E in e?Object.defineProperty(e,E,{value:B,enumerable:!0,configurable:!0,writable:!0}):e[E]=B,e}function k(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function _(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){k(V,P,z,a,s,"next",e)}function s(e){k(V,P,z,a,s,"throw",e)}a(void 0)}))}}function $(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function C(e,E){if(e){if("string"==typeof e)return x(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?x(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function x(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var ee={name:"ConceptDetail",components:{AutoLink:V.default,ItemName:U.default,LoadingIndicator:H.default,ItemDetailNarrower:W.default},mixins:[Q.a,X.a,Y.a,Z.a],props:{item:{type:Object,default:null},isLeft:{type:Boolean,default:!0},settings:{type:Object,default:function(){return{}}}},data:function(){return{showAncestors:!1}},computed:{showAddToMappingButton:function(){return this.$store.getters["mapping/canAdd"](this.item,K.a.get(this.item,"inScheme[0]")||this.selected.scheme[this.isLeft],this.isLeft)},ancestors:function(){return K.a.get(this.item,"ancestors",[])||[]},broader:function(){return K.a.get(this.item,"broader",[])||[]},searchLinks:function(){var e,E=this,B={language:this.$i18n.locale,notation:this.$jskos.notation(this.item),prefLabel:this.$jskos.prefLabel(this.item)},P=[],z=$(this.config.searchLinks);try{var c=function(){var z,V=e.value,U=E.selected.scheme[E.isLeft],H=V.schemeUris||[],W=!H.length,G=$(H);try{for(G.s();!(z=G.n()).done;){var q=z.value;E.$jskos.compare(U,{uri:q})&&(W=!0)}}catch(e){G.e(e)}finally{G.f()}if(!W)return"continue";var J=V.url;K.a.forOwn(B,(function(e,E){J=K.a.replace(J,new RegExp("{".concat(E,"}"),"g"),e)})),P.push({url:J,label:E.$jskos.prefLabel(V)})};for(z.s();!(e=z.n()).done;)c()}catch(e){z.e(e)}finally{z.f()}return P=P.filter((function(e,E,B){return E===B.findIndex((function(E){return E.url==e.url}))}))},types:function(){var e=this;if(!this.item||(this.item.type||[]).length<=1)return[];var E,B=[],P=K.a.get(this.item,"inScheme[0].types",[]),z=$(this.item.type||[]);try{var o=function(){var z=E.value;if("http://www.w3.org/2004/02/skos/core#Concept"==z)return"continue";var V={uri:z};V=P.find((function(E){return e.$jskos.compare(E,V)}))||V,B.push(V)};for(z.s();!(E=z.n()).done;)o()}catch(e){z.e(e)}finally{z.f()}return B},gndTerms:function(){var e,E=this,B=this.getObject({uri:"http://bartoc.org/en/node/430"}),P=K.a.get(this.item,"__GNDMAPPINGS__",[]),z=[],V=$(P);try{for(V.s();!(e=V.n()).done;){var U,H=e.value,W=$(this.$jskos.conceptsOfMapping(H));try{var l=function(){var e=U.value;E.$jskos.compare(B,K.a.get(e,"inScheme[0]"))&&!z.find((function(B){return E.$jskos.compare(B.concept,e)}))&&z.push({concept:e,type:E.$jskos.mappingTypeByType(H.type)})};for(W.s();!(U=W.n()).done;)l()}catch(e){W.e(e)}finally{W.f()}}}catch(e){V.e(e)}finally{V.f()}for(var G=[],f=function(){var e,B=J[q],P="<strong>".concat(E.$t("conceptDetail.relevance"),": ").concat(E.$t(B),"</strong> - "),V=[],U=$(z.filter((function(e){return e.type.RELEVANCE==E.$t(B,"en")})));try{for(U.s();!(e=U.n()).done;){var H=e.value.concept;H&&E.$jskos.prefLabel(H,{fallbackToUri:!1})&&V.push(K.a.escape(E.$jskos.prefLabel(H)))}}catch(e){U.e(e)}finally{U.f()}V.length>0&&(P+=V.join(", "),G.push(P))},q=0,J=["conceptDetail.relevanceVeryHigh","conceptDetail.relevanceHigh","conceptDetail.relevanceMedium","conceptDetail.relevanceLow","conceptDetail.relevanceGeneric"];q<J.length;q++)f();return G},previousConcept:function(){return this.selected.previousConcept[this.isLeft]},nextConcept:function(){return this.selected.nextConcept[this.isLeft]},loadConceptsMappedStatusConceptsToLoad:function(){return this.item?[this.item].concat(this.item.ancestors||[],this.item.broader||[]).filter((function(e){return null!=e})):[]}},watch:{item:function(e,E){this.$jskos.compare(e,E)||this.refresh()},settings:function(e,E){K.a.isEqual(e,E)||this.refresh()}},mounted:function(){this.refresh(),this.enableShortcuts()},methods:{shortcutHandler:function(e){var E=e.action,B=e.isLeft;"nextConcept"==E&&B==this.isLeft&&this.nextConcept&&this.setSelected({concept:this.nextConcept,isLeft:B})},refresh:function(){this.showAncestors=!1,this.loadGndTerms(),this.loadConcepts([this.item],{force:!0}),this.loadColiAna()},loadGndTerms:function(){var e=this;return _(z.a.mark((function t(){var E,B,P,V,U,H,W,G,q,J,Q,X;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(e.item){z.next=2;break}return z.abrupt("return");case 2:if(E=e.item,B=e.getObject({uri:"http://bartoc.org/en/node/430"}),!e.$jskos.compare(B,K.a.get(E,"inScheme[0]"))){z.next=6;break}return z.abrupt("return");case 6:return P=e.config.registries.filter((function(E){return E.has.mappings&&e.$jskos.mappingRegistryIsStored(E)})).map((function(P){return e.getMappings({registry:P,direction:"both",from:E,toScheme:B.uri}).catch((function(){return[]}))})),z.t0=K.a,z.next=10,Promise.all(P);case 10:z.t1=z.sent,V=z.t0.flatten.call(z.t0,z.t1),U=[],H=$(V);try{for(H.s();!(W=H.n()).done;){G=W.value,q=e.$jskos.conceptsOfMapping(G),J=$(q);try{for(J.s();!(Q=J.n()).done;)X=Q.value,e.$jskos.compare(B,K.a.get(X,"inScheme[0]"))&&U.push(X)}catch(e){J.e(e)}finally{J.f()}}}catch(e){H.e(e)}finally{H.f()}return U=K.a.uniqWith(U,e.$jskos.compare),z.next=18,e.loadConcepts(U);case 18:e.$set(E,"__GNDMAPPINGS__",V);case 19:case"end":return z.stop()}}),t)})))()},loadColiAna:function(){var e=this;return _(z.a.mark((function t(){var E,B,P,V,U;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(E=e.config["coli-ana"]){z.next=3;break}return z.abrupt("return");case 3:if(B=e.item){z.next=6;break}return z.abrupt("return");case 6:if(!B.memberList){z.next=8;break}return z.abrupt("return");case 8:if(P=e.getObject({uri:"http://dewey.info/scheme/edition/e23/"}),e.$jskos.compare(P,K.a.get(B,"inScheme[0]"))){z.next=11;break}return z.abrupt("return");case 11:return z.next=13,J.a.get("".concat(E,"analyze"),{params:{notation:e.$jskos.notation(B)}});case 13:V=z.sent,(U=(V.data||[]).find((function(E){return e.$jskos.compare(E,B)})))&&(U.memberList.forEach((function(E){e.saveObject(E,{scheme:P,type:"concept"})})),e.$set(B,"memberList",U.memberList.map((function(E){return w(w({},E),{},{inScheme:[P],prefLabel:(e.getObject(E)||E).prefLabel})}))),e.loadConcepts(U.memberList),e.$nextTick((function(){var E=e.$refs.tabs,P=E.tabs.findIndex((function(e){return"coli-ana"===e.title}));-1===B.__DETAILSLOADED__&&-1!==P&&E.activateTab(P)})));case 16:case"end":return z.stop()}}),t)})))()},isMemberParentOf:function(e,E){return!!(e&&E&&E.broader&&E.broader.length)&&this.$jskos.compare(e,E.broader[0])},elementForEvent:function(e){var E=e.target;return"path"==E.tagName.toLowerCase()&&(E=E.parentElement),E=E.nextElementSibling},hasNotes:function(e){for(var E=!1,B=0,P=["scopeNote","editorialNote","altLabel"];B<P.length;B++){var z=P[B];E=E||this.$jskos.languageMapContent(e,z)&&this.$jskos.languageMapContent(e,z).length}return E},copyAndSearch:function(e){this.$emit("searchConcept",e)}}},te=(B("ddf0"),B("6aea"),B("2877")),ne=Object(te.a)(ee,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return null!=e.item?B("div",{staticClass:"conceptDetail"},[B("div",{staticClass:"conceptDetail-ancestors"},[e.ancestors.length>3&&!e.settings.showAllAncestors?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.showAncestors?e.$t("conceptDetail.showLessAncestors"):e.$t("conceptDetail.showAllAncestors"),delay:e.defaults.delay.medium},expression:"{ title: showAncestors ? $t('conceptDetail.showLessAncestors') : $t('conceptDetail.showAllAncestors'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button conceptDetail-ancestors-expand",on:{click:function(E){e.showAncestors=!e.showAncestors}}},[B("font-awesome-icon",{attrs:{icon:e.showAncestors?"angle-down":"angle-right"}})],1):e._e(),e._l(e.ancestors.filter((function(e){return null!=e})),(function(E,P){return B("div",{key:"conceptDetail-"+e.isLeft+"-ancesters-"+E.uri+"-"+P,class:{"concept-mappingsExist":(e.showAncestors||e.settings.showAllAncestors||0==P||P==e.ancestors.length-1||e.ancestors.length<=3)&&e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(E,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(E,e.isLeft)}},[e.showAncestors||e.settings.showAllAncestors||0==P||P==e.ancestors.length-1||e.ancestors.length<=3?B("span",[B("font-awesome-icon",{staticClass:"u-flip-horizontal",attrs:{icon:"level-up-alt"}}),B("item-name",{attrs:{item:E,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}})],1):1==P?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.showAllAncestors"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.showAllAncestors'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-ancestors-more button",on:{click:function(E){e.showAncestors=!0}}},[B("font-awesome-icon",{staticClass:"u-flip-horizontal",attrs:{icon:"ellipsis-v"}})],1):e._e()])})),e._l((0==e.ancestors.length&&e.item.__BROADERLOADED__?e.broader:[]).filter((function(e){return null!=e})),(function(E,P){return B("div",{key:"conceptDetail-"+e.isLeft+"-broader-"+E.uri+"-"+P,class:{"concept-mappingsExist":e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(E,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(E,e.isLeft)}},[B("font-awesome-icon",{attrs:{icon:"sort-up"}}),B("item-name",{attrs:{item:E,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}})],1)})),0!=e.ancestors.length&&e.ancestors.includes(null)||0==e.ancestors.length&&0!=e.broader.length&&!e.item.__BROADERLOADED__?B("loading-indicator",{attrs:{size:"sm"}}):e._e()],2),B("div",{staticClass:"conceptDetail-name",class:{"concept-mappingsExist":e.loadConceptsMappedStatus&&e.$store.getters.mappedStatus(e.item,e.isLeft),"concept-mappingsDoNotExist":e.loadConceptsMappedStatus&&!e.$store.getters.mappedStatus(e.item,e.isLeft)}},[B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.clearConcept"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.clearConcept'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button conceptDetail-name-clearButton",on:{click:function(E){e.$router.push({path:e.getRouterUrl(e.selected.scheme[e.isLeft],e.isLeft)})}}},[B("font-awesome-icon",{attrs:{icon:"times-circle"}})],1),B("item-name",{attrs:{item:e.item,"is-highlighted":!0,"font-size":"normal"}}),B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.isContainedIn(e.item,e.favoriteConcepts)?e.$t("schemeSelection.starRemove"):e.$t("schemeSelection.starAdd"),delay:e.defaults.delay.medium},expression:"{ title: $jskos.isContainedIn(item, favoriteConcepts) ? $t('schemeSelection.starRemove') : $t('schemeSelection.starAdd'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"pointer fontSize-verySmall",class:e.$jskos.isContainedIn(e.item,e.favoriteConcepts)?"starFavorite":"starNormal",attrs:{icon:"star"},on:{click:function(E){e.$jskos.isContainedIn(e.item,e.favoriteConcepts)?e.$store.dispatch("removeConceptFromFavorites",e.item):e.$store.dispatch("addConceptToFavorites",e.item)}}}),e.showAddToMappingButton?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("general.addToMapping"),delay:e.defaults.delay.medium},expression:"{ title: $t('general.addToMapping'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-name-addButton",class:{button:e.showAddToMappingButton},on:{click:function(E){e.addToMapping({concept:e.item,scheme:e.item.inScheme&&e.item.inScheme[0]||e.selected.scheme[e.isLeft],isLeft:e.isLeft})}}},[B("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1):e._e()],1),B("tabs",{ref:"tabs",staticStyle:{"margin-top":"3px",position:"relative"},attrs:{borders:"bottom",size:"sm"}},[e.previousConcept?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.previousConceptTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.previousConceptTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-previousButton"},[B("router-link",{attrs:{to:e.getRouterUrl(e.previousConcept,e.isLeft,!0)}},[B("b-button",{attrs:{variant:"light"}},[B("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1)],1)],1):e._e(),e.nextConcept?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("conceptDetail.nextConceptTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('conceptDetail.nextConceptTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"conceptDetail-nextButton"},[B("router-link",{attrs:{to:e.getRouterUrl(e.nextConcept,e.isLeft,!0)}},[B("b-button",{attrs:{variant:"light"}},[B("font-awesome-icon",{attrs:{icon:"arrow-right"}})],1)],1)],1):e._e(),B("tab",{attrs:{title:e.$t("conceptDetail.info")}},[e._l([e.item.uri].concat(e.item.identifier).filter((function(e){return null!=e})),(function(E,P){return B("div",{key:"conceptDetail-"+e.isLeft+"-identifier-"+P,class:(E.startsWith("http"),"conceptDetail-identifier")},[B("font-awesome-icon",{attrs:{icon:E.startsWith("http")?"link":"id-card"},on:{dblclick:function(E){e.copyToClipboard(e.elementForEvent(E))}}}),B("auto-link",{attrs:{link:E}})],1)})),e._l(e.types,(function(E){return B("div",{key:"conceptDetail-"+e.isLeft+"-type-"+E.uri,staticClass:"conceptDetail-identifier"},[B("b",[e._v(e._s(e.$t("general.type"))+":")]),e._v(" "+e._s(e.$jskos.prefLabel(E))+" ")])})),e.item.creator&&e.item.creator.length?B("div",{staticClass:"conceptDetail-identifier"},[B("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(e.$jskos.prefLabel(e.item.creator[0]))+" ")],1):e._e(),e.item.created?B("div",{staticClass:"conceptDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.created"))+":")]),e._v(" "+e._s(e.dateToString(e.item.created,!0))+" ")]):e._e(),e.item.issued?B("div",{staticClass:"conceptDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.issued"))+":")]),e._v(" "+e._s(e.dateToString(e.item.issued,!0))+" ")]):e._e(),e.item.modified?B("div",{staticClass:"conceptDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.modified"))+":")]),e._v(" "+e._s(e.dateToString(e.item.modified,!0))+" ")]):e._e(),e.item.definition?e._l([e.$jskos.languagePreference.selectLanguage(e.item.definition)].concat(Object.keys(e.item.definition).filter((function(E){return E!=e.$jskos.languagePreference.selectLanguage(e.item.definition)&&"-"!=E}))),(function(E){return B("div",{key:"conceptDetail-"+e.isLeft+"-defintion-"+E,staticClass:"conceptDetail-identifier"},[B("b",[e._v(e._s(e.$t("conceptDetail.definition"))+" ("+e._s(E)+"):")]),e._v(" "+e._s(e.$jskos.definition(e.item,{language:E}).join(", "))+" ")])})):e._e()],2),B("tab",{attrs:{title:e.$t("conceptDetail.labels")}},[e._l([e.$jskos.languagePreference.selectLanguage(e.item.prefLabel)].concat(Object.keys(e.item.prefLabel||{}).filter((function(E){return E!=e.$jskos.languagePreference.selectLanguage(e.item.prefLabel)}))).filter((function(e){return e&&"-"!=e})),(function(E){return B("div",{key:"conceptDetail-"+e.isLeft+"-prefLabel-"+E,staticClass:"conceptDetail-identifier"},[B("span",{staticClass:"fontWeight-medium",on:{click:function(B){e.copyAndSearch(e.$jskos.prefLabel(e.item,{language:E}))}}},[e._v(" "+e._s(e.$jskos.prefLabel(e.item,{language:E}))+" ")]),B("span",{staticClass:"text-lightGrey"},[e._v("("+e._s(E)+")")])])})),e.$jskos.languageMapContent(e.item,"altLabel")?B("div",{staticClass:"fontWeight-heavy",staticStyle:{"margin-top":"10px"}},[e._v(" "+e._s(e.$t("conceptDetail.altLabels"))+": ")]):e._e(),e._l(Object.keys(e.item.altLabel||{}).map((function(E){return e.item.altLabel[E].map((function(e){return{language:E,label:e}}))})).reduce((function(e,E){return e.concat(E)}),[]).filter((function(e){return"-"!=e.language})).sort((function(E,B){return E.language==e.$jskos.languagePreference.selectLanguage(e.item.altLabel)?-1:B.language==e.$jskos.languagePreference.selectLanguage(e.item.altLabel)?1:0})),(function(E,P){var z=E.language,V=E.label;return B("div",{key:"conceptDetail-"+e.isLeft+"-altLabel-"+z+"-"+P,staticClass:"conceptDetail-identifier"},[B("span",{on:{click:function(E){return e.copyAndSearch(V)}}},[e._v(" "+e._s(V)+" ")]),B("span",{staticClass:"text-lightGrey"},[e._v("("+e._s(z)+")")])])}))],2),e._l([[{de:e.gndTerms},e.$t("conceptDetail.gnd")],[e.item.scopeNote,e.$t("conceptDetail.scope")],[e.item.editorialNote,e.$t("conceptDetail.editorial")]].filter((function(e){return Object.values(e[0]||{}).reduce((function(e,E){return e+E.length}),0)>0})),(function(E,P){var z=E[0],V=E[1];return[B("tab",{key:"conceptDetail-"+e.isLeft+"-notes-"+P,staticClass:"conceptDetail-notes",attrs:{title:V,hidden:""==z}},e._l(Object.keys(z||{}).map((function(e){return z[e].map((function(E){return{language:e,note:E}}))})).reduce((function(e,E){return e.concat(E)}),[]).filter((function(e){return"-"!=e.language})).sort((function(E,B){return E.language==e.$jskos.languagePreference.selectLanguage(z)?-1:B.language==e.$jskos.languagePreference.selectLanguage(z)?1:0})),(function(E,P){var z=E.language,V=E.note;return B("div",{key:"conceptDetail-"+e.isLeft+"-notes-"+z+"-"+P,staticClass:"conceptDetail-note"},[B("span",{domProps:{innerHTML:e._s(V)}}),B("span",{staticClass:"text-lightGrey"},[e._v(" ("+e._s(z)+")")])])})),0)]})),e.item.memberList&&e.item.memberList.length?B("tab",{attrs:{title:"coli-ana"}},[B("ul",{staticClass:"coli-ana"},[B("li",[B("div"),B("div",[e._v(e._s(e.$jskos.notation(e.item)))]),B("div")]),e._l(e.item.memberList.filter((function(e){return null!=e})),(function(E,P){return B("li",{key:E.uri+"-"+P,class:{"font-weight-bold":e.item.memberList[P-1]&&e.isMemberParentOf(e.item.memberList[P-1],E)&&!e.isMemberParentOf(E,e.item.memberList[P+1])}},[B("div",[e.isMemberParentOf(e.item.memberList[P-1],E)?B("span",[e._v(" ↳ ")]):e._e()]),B("div",[e._v(e._s(E.notation[1]))]),B("div",[B("item-name",{attrs:{item:e.getObject(E)||E,"show-notation":!1,"is-link":!0,"is-left":e.isLeft,"font-size":"small"}}),E.uri.includes("facet")?e._e():B("span",[e._v(" ("),B("item-name",{attrs:{item:E,"show-text":!1,"is-link":!1,"font-size":"small"}}),e._v(") ")],1)],1)])}))],2),null===e.item.memberList[e.item.memberList.length-1]?B("p",{domProps:{innerHTML:e._s(e.$t("conceptDetail.coliAnaIncomplete"))}}):e._e(),B("p",{domProps:{innerHTML:e._s(e.$t("conceptDetail.coliAnaInfo",{url:e.config["coli-ana"]+"?notation="+e.$jskos.notation(e.item)}))}})]):e._e(),e.config.searchLinks?B("tab",{key:"conceptDetail-"+e.isLeft+"-searchLinks",attrs:{title:e.$t("conceptDetail.searchLinks")}},[B("ul",{staticStyle:{"margin-bottom":"0"}},e._l(e.searchLinks,(function(E,P){return B("li",{key:"searchLink-"+e.isLeft+"-"+P},[B("a",{attrs:{href:E.url,target:"_blank"}},[e._v(" "+e._s(E.label)+" ")])])})),0)]):e._e()],2),B("item-detail-narrower",{attrs:{narrower:e.item.narrower,"is-left":e.isLeft}})],1):e._e()}),[],!1,null,"eca397e6",null);E.default=ne.exports},a9a0:function(e,E,B){"use strict";B.r(E);var P=B("a34a"),z=B.n(P),V=B("2ef0"),U=B.n(V),H=B("a4fe"),W=B("1f25"),G=B("a189"),K=B("193e");function f(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function m(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function g(e,E){if(e){if("string"==typeof e)return v(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?v(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function v(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var q={name:"AnnotationPopover",components:{LoadingIndicatorFull:H.default,AnnotationList:W.default},mixins:[G.a,K.a],props:{id:{type:String,default:null},idPrefix:{type:String,default:""},mapping:{type:Object,default:null}},data:function(){return{iid:null,imapping:null,show:!1,loading:!1}},computed:{enable:function(){return this.iid&&this.element},elementId:function(){return this.idPrefix+(this.iid||"")},element:function(){return document.getElementById(this.elementId)},annotations:function(){return U.a.get(this.imapping,"annotations")||[]},score:function(){var e,E=0,B=m(this.annotations.filter((function(e){return"assessing"==e.motivation})));try{for(B.s();!(e=B.n()).done;){var P=e.value.bodyValue;E+=parseInt(P)||0}}catch(e){B.e(e)}finally{B.f()}return"".concat(E>0?"+":E<0?"-":"±").concat(Math.abs(E))},ownAssessment:function(){var e=this;return!this.userUris&&this.creator.uri?this.provider.isAuthorizedFor({type:"annotations",action:"update",user:this.user,crossUser:!0})&&this.provider.isAuthorizedFor({type:"annotations",action:"delete",user:this.user,crossUser:!0})?this.annotations.find((function(E){return"assessing"==E.motivation&&E.creator&&E.creator.id==e.creator.uri})):null:this.annotations.find((function(E){return"assessing"==E.motivation&&e.$jskos.annotationCreatorMatches(E,e.userUris)}))},ownScore:function(){return U.a.get(this.ownAssessment,"bodyValue")},provider:function(){return U.a.get(this.imapping,"_registry")},canSaveAnnotation:function(){return!!this.provider&&this.provider.isAuthorizedFor({type:"annotations",action:"create",user:this.user})},canConfirm:function(){var e=this;if(!this.provider)return!1;if(this.annotations.find((function(E){return"moderating"==E.motivation&&e.$jskos.annotationCreatorMatches(E,e.userUris)})))return!1;if(this.provider.isAuthorizedFor({type:"annotations",action:"create",user:this.user})){var E=U.a.get(this.provider,"_config.annotations.moderatingIdentities")||[];if(U.a.intersection(E,this.userUris).length>0)return!0}return!1}},watch:{id:function(){var e=this;this.id&&this.id!=this.iid&&(this.iid=null,U.a.delay((function(){e.iid=e.id,e.imapping=e.mapping}),50))},show:function(){this.scrollToBottom()},annotations:function(){this.scrollToBottom()},iid:function(){this.scrollToBottom()}},methods:{hoverHandlers:function(){var e=this;return[{elements:[this.$refs.annotationPopoverDiv,this.element],delta:5,handler:function(E){e.show=E}}]},scrollToBottom:function(){var e=this;this.show&&U.a.delay((function(){if(e.$refs.annotationPopoverDiv){var E=e.$refs.annotationPopoverDiv.getElementsByClassName("annotationPopover-history")[0];E&&(E.scrollTop=2e4)}}),50)},assessing:function(e){var E=this,B=this.provider;if(!B||!B.has.annotations)return this.$log.warn("No provider found to add annotation."),void this.alert(this.$t("alerts.annotationError"),null,"danger");var P=U.a.get(this.imapping,"uri");if(!P)return this.$log.warn("No URI found to add annotation."),void this.alert(this.$t("alerts.annotationError"),null,"danger");this.loading=!0;var z,o=function(e,B){E.alert("".concat(E.$t("alerts."+B)," ").concat(E.getErrorMessage(e)),null,"danger")};if(this.ownAssessment)if(this.ownScore!=e){if(!this.provider.isAuthorizedFor({type:"annotations",action:"update",user:this.user}))return this.alert(this.$t("alerts.annotationNotSaved"),null,"danger"),void(this.loading=!1);z=B.patchAnnotation({annotation:{id:this.ownAssessment.id,bodyValue:e}}).then((function(B){B?(E.ownAssessment.bodyValue=e,E.alert(E.$t("alerts.annotationSaved"),null,"success"),E.$emit("refresh-annotations",{uri:P,annotations:E.annotations})):E.alert(E.$t("alerts.annotationNotSaved"),null,"danger")})).catch((function(e){return o(e,"annotationNotSaved")}))}else{if(!this.provider.isAuthorizedFor({type:"annotations",action:"delete",user:this.user}))return this.alert(this.$t("alerts.annotationNotRemoved"),null,"danger"),void(this.loading=!1);z=this.remove(this.annotations.indexOf(this.ownAssessment)).then((function(e){e?(E.alert(E.$t("alerts.annotationRemoved"),null,"success"),E.$emit("refresh-annotations",{uri:P,annotations:E.annotations})):E.alert(E.$t("alerts.annotationNotRemoved"),null,"danger")})).catch((function(e){return o(e,"annotationNotRemoved")}))}else{if(!this.canSaveAnnotation)return this.alert(this.$t("alerts.annotationNotSaved"),null,"danger"),void(this.loading=!1);var V={target:P,motivation:"assessing",bodyValue:e};this.creator&&this.creator.uri&&(V.creator={id:this.creator.uri},this.creatorName&&(V.creator.name=this.creatorName)),z=B.postAnnotation({annotation:V}).then((function(e){var B=U.a.get(E.imapping,"uri");P==B&&e?(E.alert(E.$t("alerts.annotationSaved"),null,"success"),E.imapping.annotations.push(e),E.$emit("refresh-annotations",{uri:P,annotations:E.annotations})):E.alert(E.$t("alerts.annotationNotSaved"),null,"danger")})).catch((function(e){return o(e,"annotationNotSaved")}))}z.catch((function(e){E.$log.error("AnnotationPopover - Error adding annotation",e),E.alert(E.$t("alerts.annotationError"),null,"danger")})).then((function(){E.loading=!1}))},remove:function(e){var E=this,B=this.provider,P=this.annotations[e];if(P)return this.loading=!0,B.deleteAnnotation({annotation:P}).then((function(B){return E.loading=!1,!(P.id!=E.annotations[e].id||!B)&&(E.$delete(E.imapping.annotations,e),B)}))},confirm:function(){var e=this;return function h(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){f(V,P,z,a,s,"next",e)}function s(e){f(V,P,z,a,s,"throw",e)}a(void 0)}))}}(z.a.mark((function t(){var E,B,P,V;return z.a.wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if((E=e.provider)&&E.has.annotations){z.next=5;break}return e.$log.warn("No provider found to add annotation."),e.alert(e.$t("alerts.annotationError"),null,"danger"),z.abrupt("return");case 5:if(B=U.a.get(e.imapping,"uri")){z.next=10;break}return e.$log.warn("No URI found to add annotation."),e.alert(e.$t("alerts.annotationError"),null,"danger"),z.abrupt("return");case 10:return P={target:B,motivation:"moderating"},e.creator&&e.creator.uri&&(P.creator={id:e.creator.uri},e.creatorName&&(P.creator.name=e.creatorName)),e.loading=!0,z.prev=13,z.next=16,E.postAnnotation({annotation:P});case 16:P=z.sent,z.next=22;break;case 19:z.prev=19,z.t0=z.catch(13),P=null;case 22:if(e.loading=!1,V=U.a.get(e.imapping,"uri"),B==V&&P){z.next=29;break}return e.alert(e.$t("alerts.annotationNotSaved"),null,"danger"),z.abrupt("return");case 29:e.alert(e.$t("alerts.annotationSaved"),null,"success");case 30:e.imapping.annotations.push(P),e.$emit("refresh-annotations",{uri:B,annotations:e.annotations});case 32:case"end":return z.stop()}}),t,null,[[13,19]])})))()}}},J=(B("6cfe"),B("23a6"),B("2877")),Q=Object(J.a)(q,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"annotationPopoverTop",attrs:{id:"annotationPopoverTop-"+e.iid}},[e.enable?B("b-popover",{ref:"annotationPopover",attrs:{target:e.element,show:e.show,boundary:"window",placement:"lefttop"},on:{"update:show":function(E){e.show=E}}},[e.loading?B("loading-indicator-full",{staticStyle:{"z-index":"1100"}}):e._e(),B("div",{ref:"annotationPopoverDiv",staticClass:"annotationPopover"},[B("div",{staticClass:"annotationPopover-upper"},[e.annotations.length?B("div",{staticClass:"annotationPopover-left"},[B("annotation-list",{staticClass:"annotationPopover-history",attrs:{annotations:e.annotations,provider:e.provider},on:{loading:function(E){e.loading=E}}})],1):e._e(),B("div",{staticClass:"annotationPopover-voting"},[B("div"),B("div",[B("font-awesome-icon",{class:{"annotationPopover-voting-button-current":"+1"==e.ownScore,button:e.canSaveAnnotation,"button-disabled":!e.canSaveAnnotation,"annotationPopover-voting-button":!0},attrs:{icon:"thumbs-up"},on:{click:function(E){e.canSaveAnnotation&&e.assessing("+1")}}})],1),B("div",{staticClass:"annotationPopover-score"},[B("span",{staticClass:"fontWeight-heavy",class:{"text-success":e.score.startsWith("+"),"text-danger":e.score.startsWith("-")}},[e._v(" "+e._s(e.score)+" ")])]),B("div",[B("font-awesome-icon",{class:{"annotationPopover-voting-button-current":"-1"==e.ownScore,button:e.canSaveAnnotation,"button-disabled":!e.canSaveAnnotation,"annotationPopover-voting-button":!0},attrs:{icon:"thumbs-down"},on:{click:function(E){e.canSaveAnnotation&&e.assessing("-1")}}})],1)])]),e.canConfirm?B("div",{staticClass:"annotationPopover-lower"},[B("b-button",{staticClass:"bbutton-small",attrs:{variant:"success"},on:{click:e.confirm}},[e._v(" "+e._s(e.$t("annotationPopover.addConfirmation"))+" ")])],1):e._e()])],1):e._e()],1)}),[],!1,null,"0f0590b0",null);E.default=Q.exports},b1fa:function(e,E,B){"use strict";B("1b56")},b298:function(e,E,B){"use strict";B("3873")},b456:function(e,E,B){"use strict";B.r(E);var P={name:"MappingTypeSelection",props:{mapping:{type:Object,default:null}},data:function(){return{hovered:!1,mappingTypes:this.$jskos.mappingTypes,mappingTypeHovered:null}},computed:{mappingTypeSelected:function(){var e=this.mapping;return this.$jskos.mappingTypeByType(e?e.type:null)}},methods:{choose:function(e){this.$store.commit({type:"mapping/setType",uri:e.uri})},definition:function(e){var E=this.$jskos.definition(e);return E.length?": "+E.join(", "):""}}},z=(B("6779"),B("2877")),V=Object(z.a)(P,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"mappingTypes",on:{mouseover:function(E){e.hovered=!0},mouseout:function(E){e.hovered=!1}}},e._l(e.mappingTypes,(function(E){return B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.$jskos.prefLabel(E)+e.definition(E),delay:e.defaults.delay.medium},expression:"{ title: $jskos.prefLabel(mappingType) + definition(mappingType), delay: defaults.delay.medium }",modifiers:{hover:!0,right:!0}}],key:E.uri,staticClass:"mappingType",class:{mappingTypeSelected:e.hovered&&E&&e.mappingTypeSelected&&E.uri==e.mappingTypeSelected.uri,"fontWeight-heavy":E&&e.mappingTypeSelected&&E.uri==e.mappingTypeSelected.uri,mappingTypeHovered:E&&e.mappingTypeHovered&&E.uri==e.mappingTypeHovered.uri},style:"display: "+(E&&e.mappingTypeSelected&&E.uri==e.mappingTypeSelected.uri||e.hovered?"inline-block":"none")+";",on:{click:function(B){return e.choose(E)}}},[e._v(" "+e._s(e.$jskos.notation(E))+" ")])})),0)}),[],!1,null,"e94da702",null);E.default=V.exports},b48b:function(e,E,B){"use strict";B.r(E);var P=B("2ef0"),z=B.n(P);function c(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function l(e,E){if(e){if("string"==typeof e)return u(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?u(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function u(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var V={name:"Minimizer",mixins:[B("564d").a],props:{name:{type:String,default:null},text:{type:String,default:""},isColumn:{type:Boolean,default:!1},forceMinimized:{type:Boolean,default:null}},data:function(){return{previousFlex:"",previousMinSizes:[],minimizedLocal:!1,minimizerSize:"40px",minimizeHovered:!1}},computed:{minimized:{get:function(){return null!=this.forceMinimized?this.forceMinimized:null!=this.name?this.$settings.minimized[this.name]||!1:this.minimizedLocal},set:function(e){if(null!=this.name){var E=z.a.cloneDeep(this.$settings.minimized);E[this.name]=e,this.$store.commit({type:"settings/set",prop:"minimized",value:E})}else this.minimizedLocal=e}}},watch:{minimized:function(){this.refreshMinimize()}},mounted:function(){this.refreshMinimize()},methods:{toggleMinimize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.minimized=null!=e?e:!this.minimized},refreshMinimize:function(){this.minimized&&(this.previousMinSizes=[]);for(var e=this.$el;!e.classList.contains("mainComponent");)if(e=e.parentElement,this.minimized){var E,B=window.getComputedStyle(e);E=this.isColumn?B.getPropertyValue("min-width"):B.getPropertyValue("min-height"),this.previousMinSizes.push({element:e,minSize:E}),this.isColumn?(e.style.minWidth=this.minimizerSize,e.style.maxWidth=this.minimizerSize):(e.style.minHeight=this.minimizerSize,e.style.maxHeight=this.minimizerSize)}var P=window.getComputedStyle(e);if(this.minimized){e.classList.add("mainComponent-minimized"),this.previousFlex=P.getPropertyValue("flex"),e.style.flex="0 1 "+this.minimizerSize,e.dataset.minimized=1,this.refresh("minimize");var z,V=window.getComputedStyle(this.$el.getElementsByClassName("minimizedOverlay")[0]).getPropertyValue("z-index"),U=c(e.getElementsByClassName("minimizer"));try{for(U.s();!(z=U.n()).done;){var H=z.value;if(H!=this.$el)H.__vue__.minimized&&window.getComputedStyle(H.getElementsByClassName("minimizedOverlay")[0]).getPropertyValue("z-index")>=V&&(H.getElementsByClassName("minimizedOverlay")[0].style.zIndex=V-1)}}catch(e){U.e(e)}finally{U.f()}}else{e.classList.remove("mainComponent-minimized"),e.style.flex=this.previousFlex;var W,G=c(this.previousMinSizes);try{for(G.s();!(W=G.n()).done;){var K=W.value;this.isColumn?(K.element.style.minWidth=K.minSize,K.element.style.maxWidth=""):(K.element.style.minHeight=K.minSize,K.element.style.maxHeight="")}}catch(e){G.e(e)}finally{G.f()}e.dataset.minimized=0,this.refresh("minimize")}}}},U=(B("4d52"),B("2877")),H=Object(U.a)(V,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"minimizer"},[B("div",{directives:[{name:"show",rawName:"v-show",value:!e.minimized,expression:"!minimized"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("minimizer.minimize"),delay:e.defaults.delay.medium},expression:"{ title: $t('minimizer.minimize'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"utilityButton minimizeButton",on:{click:function(E){return e.toggleMinimize()},mouseover:function(E){e.minimizeHovered=!0},mouseout:function(E){e.minimizeHovered=!1}}},[B("font-awesome-icon",{attrs:{icon:"window-minimize"}})],1),B("div",{directives:[{name:"show",rawName:"v-show",value:e.minimized,expression:"minimized"}],staticClass:"minimizedOverlay",on:{click:function(E){return e.toggleMinimize()}}},[B("div",[e._v(" "+e._s(e.text)+" "),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("minimizer.maximize"),delay:e.defaults.delay.medium},expression:"{ title: $t('minimizer.maximize'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"maximizeButton"},[B("font-awesome-icon",{attrs:{icon:"plus-square"}})],1)])]),e.minimizeHovered?B("div",{staticClass:"minimizedHoverOverlay"}):e._e()])}),[],!1,null,"1137645c",null);E.default=H.exports},b6fd:function(e,E,B){e.exports={description:"Component that displays an item's (either scheme or concept) details (URI, notation, identifier, ...).",tags:{},exportName:"default",displayName:"ItemDetail",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isScheme",description:"`true` means item is a scheme, `false` means item is a concept.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"item",description:"The concept object whose details should be displayed.",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"settings",description:"Settings - An object with a subset of the following properties:\n\n- showGndTerms: show GND terms in ConceptDetail (default true)\n- showSchemeInAncestors: (default true)\n- showTopConceptsInScheme: (default false)\n- showAllAncestors: always show all ancestors (default false)",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:{searchMappings:{name:"searchMappings"},searchConcept:{name:"searchConcept"}},methods:void 0,slots:void 0,examples:null}},b758:function(e,E,B){"use strict";B.r(E);var P={name:"LoadingIndicator",props:{size:{type:String,default:"md"}}},z=(B("438a"),B("2877")),V=Object(z.a)(P,(function(){var e=this,E=e.$createElement;return(e._self._c||E)("div",{staticClass:"loader",class:"loader-"+e.size})}),[],!1,null,"7957ec4c",null);E.default=V.exports},c1fc:function(e,E,B){"use strict";B("6188")},c3e3:function(e,E,B){"use strict";B("a6bd")},c3ec:function(e,E,B){e.exports={displayName:"MappingTable",exportName:"default",description:"",tags:{},props:[{name:"actions",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"hideDuplicates",description:"Whether to hide duplicate mappings.\n\nSwitch to false to make sure that pagination works.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"mappings",description:"The list of mappings to be displayed.",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"showLabels",description:"Whether to show the concepts' labels",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showRegistry",description:"Whether to show the mapping registry.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:{click:{name:"click"}},methods:void 0,slots:void 0,examples:null}},c444:function(e,E,B){"use strict";B("1e2d")},c66b:function(e,E,B){"use strict";B("4a6b")},c6cd0:function(e,E,B){},c804:function(e,E,B){"use strict";B("398f")},c98c:function(e,E,B){"use strict";B("15a9")},ca47:function(e,E,B){e.exports={displayName:"MappingTypeSelection",description:"The mapping type selection component.",tags:{},exportName:"default",props:[{name:"mapping",description:"The mapping for which the type should be selected.",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},cb24:function(e,E,B){"use strict";B("0229")},cce3:function(e,E,B){},cdbb:function(e,E,B){"use strict";B("cedb")},cedb:function(e,E,B){},d176:function(e,E,B){"use strict";B.r(E);var P=B("a4fe"),z=B("b48b"),V=B("a94d"),U=B("981f"),H=B("d8c4"),W=B("1e4f"),G=B("2ef0"),K=B.n(G),q=B("616f"),J=B("8fb2"),Q=B("564d"),X={name:"ItemDetail",components:{LoadingIndicatorFull:P.default,Minimizer:z.default,ConceptDetail:V.default,SchemeDetail:U.default,DataModalButton:H.default,ComponentSettings:W.default},mixins:[q.a,J.a,Q.a],props:{item:{type:Object,default:null},isScheme:{type:Boolean,default:!1},isLeft:{type:Boolean,default:!0},settings:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,defaultSettings:{showGndTerms:!0,showSchemeInAncestors:!0,showTopConceptsInScheme:!1,showAllAncestors:!1,showAllNotes:!1}}},computed:{type:function(){return this.$jskos.isConcept(this.item)?"Concept":"Scheme"},internalSettings:function(){return Object.assign({},this.defaultSettings,{showAllAncestors:this.componentSettings.showAllAncestors},this.settings)},apiUrl:function(){if(!this.item||!this.item.uri)return null;var e;if(this.$jskos.isScheme(this.item)){var E=K.a.get(this.item,"inScheme[0]._registry")||K.a.get(this.item,"_registry");e=K.a.get(E,"_api.schemes")||K.a.get(E,"_api.data")||K.a.get(E,"_api.concepts")}else{var B=K.a.get(this.item,"inScheme[0]._registry");e=K.a.get(B,"_api.data")||K.a.get(B,"_getDataUrl")&&B._getDataUrl(this.item)||K.a.get(B,"_api.concepts")}return e&&K.a.isString(e)?"".concat(e).concat(e.includes("?")?"&":"?","uri=").concat(encodeURIComponent(this.item.uri)):null}},watch:{item:function(){this.$el.scrollTop=0}},mounted:function(){this.$el.scrollTop=0},methods:{droppedConcept:function(e){this.$router.push({path:this.getRouterUrl(e,this.isLeft,!0)})}}},Y=(B("291e"),B("2877")),Z=Object(Y.a)(X,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"itemDetail",on:{dragover:e.dragOver,drop:e.drop}},[B("minimizer",{attrs:{name:"itemDetail_"+e.isLeft,text:e.type+" Detail"}}),null!=e.item?B("div",{staticClass:"itemDetail-content"},[B("Concept"==e.type?"ConceptDetail":"SchemeDetail",{tag:"component",attrs:{item:e.item,"is-left":e.isLeft,settings:e.internalSettings},on:{searchMappings:function(E){return e.$emit("searchMappings",E)},searchConcept:function(E){return e.$emit("searchConcept",E)}}})],1):e.loading?e._e():B("div",{staticClass:"fillAndCenter fontSize-normal fontWeight-heavy"},[e._v(" "+e._s(e.$t("itemDetail.pleaseSelect"))+" ")]),B("component-settings"),B("data-modal-button",{attrs:{data:e.item,"position-right":20,url:e.apiUrl}}),e.loading?B("loading-indicator-full"):e._e()],1)}),[],!1,null,"0a3e1a4f",null);E.default=Z.exports},d1b3:function(e,E,B){"use strict";B.r(E);var P=B("a4fe"),z=B("6ef6"),V=B("2ef0"),U=B.n(V),H=B("2e22"),W=B("616f"),G=B("564d"),K=B("570c");function f(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function h(e,E){if(e){if("string"==typeof e)return m(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?m(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function m(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var q={name:"ConceptList",components:{LoadingIndicatorFull:P.default,ConceptListItem:z.default},mixins:[W.a,G.a,K.a],props:{isLeft:{type:Boolean,default:!0},concepts:{type:Array,default:function(){return[null]}},showChildren:{type:Boolean,default:!1},noItemsLabel:{type:String,default:null},showScheme:{type:Boolean,default:!1},buttons:{type:Array,default:function(){return[]}},shown:{type:Boolean,default:!1}},data:function(){return{loading:!1,currentSelectedConcept:null,shouldScroll:!0,scrollTo:Object(H.a)(),oldPreviousConcept:null,oldNextConcept:null}},computed:{schemeSelected:function(){return this.selected.scheme[this.isLeft]},conceptSelected:function(){return this.selected.concept[this.isLeft]},items:function(){var e,E=[],B=f(this.concepts);try{for(B.s();!(e=B.n()).done;){var P=e.value,z={concept:P,depth:0,isSelected:this.$jskos.compare(this.conceptSelected,P)};if(E.push(z),this.showChildren){var V=this.children(z);E=E.concat(V)}}}catch(e){B.e(e)}finally{B.f()}return E},noItems:function(){return 0==this.items.length&&!this.loading},itemsLength:function(){return this.items.length},otherScheme:function(){return this.selected.scheme[!this.isLeft]},loadConceptsMappedStatusConceptsToLoad:function(){return this.items.filter((function(e){return e.concept})).map((function(e){return e.concept}))},previousConcept:function(){var e=this,E=this.items.findIndex((function(E){return e.$jskos.compare(E.concept,e.conceptSelected)}));if(-1==E)return null;if(!this.showChildren){var B=this.items[E-1];return B&&B.concept}return null},nextConcept:function(){var e=this,E=this.items.findIndex((function(E){return e.$jskos.compare(E.concept,e.conceptSelected)}));if(-1==E)return null;if(!this.showChildren){var B=this.items[E+1];return B&&B.concept}return function t(E){var B=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!E)return null;if(B&&E.narrower&&E.narrower.length)return E.narrower[0];var P=U.a.last(E.ancestors)||U.a.first(E.broader),z=U.a.get(P,"narrower");if(P||(z=e.items.filter((function(e){return 0==e.depth})).map((function(e){return e.concept}))),!z)return null;var V=z[z.findIndex((function(B){return e.$jskos.compare(B,E)}))+1];return V||(P?t(P,!1):null)}(this.selected.concept[this.isLeft])}},watch:{conceptSelected:{handler:function(){var e=this,E=this.conceptSelected;if(E!=this.currentSelectedConcept&&(this.currentSelectedConcept=E,this.shouldScroll=!0),this.$jskos.isConcept(E))if(!this.showChildren||E.ancestors&&!E.ancestors.includes(null)){var B,P=!0,z=f(E.ancestors||[]);try{for(z.s();!(B=z.n()).done;){var V=B.value;!this.showChildren||V.narrower&&!V.narrower.includes(null)||(P=!1)}}catch(e){z.e(e)}finally{z.f()}if(P&&this.shouldScroll){if(this.shouldScroll=!1,this.showChildren){var H,W=f(this.conceptSelected.ancestors||[]);try{for(W.s();!(H=W.n()).done;){var G=H.value;this.open(G,this.isLeft,!0)}}catch(e){W.e(e)}finally{W.f()}}U.a.delay((function(){if(!e.shouldScroll){for(var B=e.$refs.conceptListItems.querySelectorAll("[data-uri='".concat(E.uri,"']"))[0],P=e.$refs.conceptListItems;null!=P&&!P.classList.contains("cocoda-vue-tabs-content");)P=P.parentElement;var z={container:P,easing:"ease-in",offset:-50,cancelable:!0,x:!1,y:!0};B&&e.scrollToInternal(B,z),e.loading=!1}}),100)}else P||(this.loading=!0)}else this.loading=!0},deep:!0},itemsLength:function(){this.loadMappingsForItems()},shown:function(){this.commitPreviousConcept(),this.commitNextConcept()},previousConcept:function(){this.$jskos.compare(this.previousConcept,this.oldPreviousConcept)||(this.commitPreviousConcept(),this.oldPreviousConcept=this.previousConcept)},nextConcept:function(){this.$jskos.compare(this.nextConcept,this.oldNextConcept)||(this.commitNextConcept(),this.oldNextConcept=this.nextConcept)}},methods:{commitPreviousConcept:function(){this.shown&&this.$store.commit({type:"selected/setPreviousConcept",isLeft:this.isLeft,concept:this.previousConcept})},commitNextConcept:function(){this.shown&&this.$store.commit({type:"selected/setNextConcept",isLeft:this.isLeft,concept:this.nextConcept})},scrollToInternal:function(e,E){"none"==E.container.style.display?this.scrollLater={el:e,options:E}:(this.scrollTo(e,200,E),this.scrollLater=null)},scroll:function(){var e=this;this.scrollLater&&this.$nextTick((function(){e.scrollToInternal(e.scrollLater.el,e.scrollLater.options)}))},children:function(e){var E=[],B=e.concept,P=e.depth+1;if(B&&B.__ISOPEN__&&B.__ISOPEN__[this.isLeft]){var z,V=f(B.narrower);try{for(V.s();!(z=V.n()).done;){var U=z.value,H={concept:U,depth:P,isSelected:this.$jskos.compare(this.conceptSelected,U)};E.push(H),E=E.concat(this.children(H))}}catch(e){V.e(e)}finally{V.f()}}return E},loadMappingsForItems:function(){this.loadMappingsForConcepts(this.loadConceptsMappedStatusConceptsToLoad,this.isLeft)}}},J=(B("f696"),B("2877")),Q=Object(J.a)(q,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"conceptList",style:"margin-bottom: "+(e.noItems?0:30)+"px;"},[B("div",{ref:"conceptListItems",staticClass:"conceptListItems"},e._l(e.items,(function(E,P){var z=E.concept,V=E.depth,U=E.isSelected;return B("concept-list-item",{key:"conceptListItems-"+e.isLeft+"-"+P,attrs:{concept:z,depth:V,"is-selected":U,index:P,"is-left":e.isLeft,"show-children":e.showChildren,"show-scheme":e.showScheme,buttons:e.buttons}})})),1),e.noItems?B("div",{staticClass:"conceptListItems-noItems"},[e._v(" "+e._s(e.noItemsLabel||e.$t("conceptList.noItems"))+" ")]):e._e(),e.loading||e.concepts.includes(null)?B("loading-indicator-full"):e._e()],1)}),[],!1,null,"ba49e394",null);E.default=Q.exports},d465:function(e,E,B){"use strict";B.r(E);var P={name:"RegistryNotation",props:{registry:{type:Object,default:null},disabled:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0}},computed:{isCurrentRegistry:function(){return this.$jskos.compare(this.registry,this.$store.getters.getCurrentRegistry)}}},z=(B("3ee3"),B("2877")),V=Object(z.a)(P,(function(){var e,E=this,B=E.$createElement;return(E._self._c||B)("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html.left",value:E.tooltip?E.$jskos.prefLabel(E.registry):"",expression:"tooltip ? $jskos.prefLabel(registry) : ''",modifiers:{html:!0,left:!0}}],staticClass:"registry-notation",class:(e={},e[E.isCurrentRegistry?"registry-current-enabled":"registry-enabled"]=!E.disabled,e["registry-notation-current"]=E.isCurrentRegistry,e),style:"width: "+(18+9*(E.$jskos.notation(E.registry).length-1))+"px;"},[E._v(" "+E._s(E.$jskos.notation(E.registry))+" ")])}),[],!1,null,null,null);E.default=V.exports},d78f:function(e,E,B){},d8c4:function(e,E,B){"use strict";B.r(E);var P={name:"DataModalButton",components:{DataModal:B("47b7").default},props:{data:{type:[Object,Array],default:null},type:{type:String,default:null,validator:function(e){return-1!==["concept","scheme","mapping","annotation","concordance"].indexOf(e)}},url:{type:[String,Object],default:null},totalCount:{type:Number,default:null},positionRight:{type:Number,default:5},positionBottom:{type:Number,default:0}},methods:{openDataModal:function(){this.$refs.dataModal.show()}}},z=B("2877"),V=Object(z.a)(P,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",[B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("dataModal.button"),delay:e.defaults.delay.medium},expression:"{ title: $t('dataModal.button'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"dataModalButton",style:"right: "+e.positionRight+"px; bottom: "+e.positionBottom+"px;",on:{click:e.openDataModal}},[B("font-awesome-icon",{attrs:{icon:"code"}})],1),B("data-modal",{ref:"dataModal",attrs:{data:e.data,type:e.type,url:e.url,"total-count":e.totalCount}})],1)}),[],!1,null,null,null);E.default=V.exports},ddf0:function(e,E,B){"use strict";B("5f3b")},e0b3:function(e,E,B){"use strict";B.r(E);var P=B("68bc"),z=B("1757"),V=B("b758"),U=B("a4fe"),H=B("9ecc"),W=B("aedf"),G=B("40e1"),K=B("a9a0"),q=B("d8c4"),J=B("2ef0"),Q=B.n(J),X=B("a189"),Y=B("616f"),Z=B("564d"),ee=B("193e");function w(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function S(e,E){if(e){if("string"==typeof e)return k(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?k(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function k(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var te={name:"MappingBrowser",components:{ItemName:P.default,AutoLink:z.default,LoadingIndicator:V.default,LoadingIndicatorFull:U.default,FlexibleTable:W.a,RegistryInfo:H.default,MappingDetail:G.default,AnnotationPopover:K.default,DataModalButton:q.default},mixins:[X.a,Y.a,Z.a,ee.a],props:{sections:{type:Array,default:function(){return[]}},searchLimit:{type:Number,default:5},showEditingTools:{type:Boolean,default:!0},showCocodaLink:{type:Boolean,default:!1},registryHasErrored:{type:Object,default:function(){return{}}}},data:function(){return{hoveredId:null,mappingDetailMapping:null,popoverShown:{},currentPopovers:{}}},computed:{fields:function(){var e=this;return[{key:"sourceScheme",label:"",width:"4%",minWidth:"",align:"left",sortable:!1,class:"fontSize-small"},{key:"sourceConcepts",label:this.$t("mappingBrowser.from"),width:"10%",minWidth:"",align:"left",sortable:!1,compare:function(E,B){return e.$jskos.compareFunctions.mappingsByConcepts(E.mapping,B.mapping,"from")},class:"mappingBrowser-table-concepts"},{key:"sourceConceptsLong",label:this.$t("mappingBrowser.from"),width:"22%",minWidth:"",align:"left",sortable:!1,compare:function(E,B){return e.$jskos.compareFunctions.mappingsByConcepts(E.mapping,B.mapping,"from")},class:"mappingBrowser-table-conceptsLong"},{key:"type",label:"",width:"4%",minWidth:"",sortable:!1,compare:function(E,B){var P=e.$jskos.prefLabel(Q.a.get(E,"type"),{fallbackToUri:!1}),z=e.$jskos.prefLabel(Q.a.get(B,"type"),{fallbackToUri:!1});return P<z?-1:P>z?1:0}},{key:"targetScheme",label:"",width:"4%",minWidth:"",align:"left",sortable:!1,class:"fontSize-small"},{key:"targetConcepts",label:this.$t("mappingBrowser.to"),width:"10%",minWidth:"",align:"left",sortable:!1,compare:function(E,B){return e.$jskos.compareFunctions.mappingsByConcepts(E.mapping,B.mapping,"to")},class:"mappingBrowser-table-concepts"},{key:"targetConceptsLong",label:this.$t("mappingBrowser.to"),width:"22%",minWidth:"",align:"left",sortable:!1,compare:function(E,B){return e.$jskos.compareFunctions.mappingsByConcepts(E.mapping,B.mapping,"to")},class:"mappingBrowser-table-conceptsLong"},{key:"creator",label:this.$t("mappingBrowser.creator"),width:"10%",minWidth:"",align:"left",sortable:!1,class:"mappingBrowser-table-creator"},{key:"extra",label:this.$t("mappingBrowser.date"),width:"10%",minWidth:"",align:"center",sortable:!1,class:"mappingBrowser-table-extra",compare:function(e,E){var B=Q.a.get(e,"occurrence.count",-1),P=Q.a.get(E,"occurrence.count",-1);return-1==B&&-1==P&&(B=Q.a.get(e,"extra"),P=Q.a.get(E,"extra")),B<P?-1:B>P?1:0}},{key:"actions",label:"",width:"12%",minWidth:"",align:"right",sortable:!1}]}},created:function(){this.hover=Q.a.debounce(this._hover,20)},mounted:function(){var e,E=w(document.getElementsByClassName("table"));try{var i=function(){var E=e.value,B=E.getElementsByTagName("thead")[0],P=E.getElementsByTagName("tbody")[0];P.onscroll=function(){B.scrollLeft=P.scrollLeft}};for(E.s();!(e=E.n()).done;)i()}catch(e){E.e(e)}finally{E.f()}},methods:{edit:function(e){var E=this,B=this.canUpdateMapping({mapping:e.item.mapping,user:this.user});B&&this.useRegistryForSaving(e.item.registry);var P=function(e){var B=E.$jskos.copyDeep(e);return B.from.memberSet=e.from.memberSet.slice(),B.to.memberSet?B.to.memberSet=e.to.memberSet.slice():B.to.memberList?B.to.memberList=e.to.memberList.slice():B.to.memberChoice&&(B.to.memberChoice=e.to.memberChoice.slice()),B._registry=e._registry,B.fromScheme=e.fromScheme,B.toScheme=e.toScheme,B}(e.item.mapping);this.$store.commit({type:"mapping/empty"}),this.$store.commit({type:"mapping/set",mapping:P,original:B?e.item.mapping:null})},annotationsScore:function(e){var E,B=0,P=w(e.filter((function(e){return"assessing"==e.motivation})));try{for(P.s();!(E=P.n()).done;){var z=E.value.bodyValue;B+=parseInt(z)||0}}catch(e){P.e(e)}finally{P.f()}var V=B>0?"+":B<0?"-":"±";return{score:B=Math.abs(B),sign:V}},annotationButtonColor:function(e){var E=this.annotationsScore(e),B=E.score,P=E.sign,z=150*Math.min(B/3,1),V=85,U=85,H=85;return"-"==P?(V+=z,U-=50,H-=50):"+"==P&&(U+=z,V-=50,H-=50),"rgb(".concat(V,", ").concat(U,", ").concat(H,")")},_hover:function(e){this.$store.commit({type:"setHoveredMapping",mapping:e&&e.mapping}),this.hoveredId=e&&e.uniqueId},canUseRegistryForSaving:function(e){var E=this;return null!=this.config.registries.find((function(B){return e.isAuthorizedFor({type:"mappings",action:"create",user:E.user})&&E.$jskos.compare(B,e)}))},useRegistryForSaving:function(e){this.$jskos.mappingRegistryIsStored(e)&&this.$store.commit({type:"settings/set",prop:"mappingRegistry",value:e.uri})},popoverHide:function(e,E){this.popoverShown[E]&&(e.preventDefault(),this.currentPopovers[E]=e)},hoverHandlers:function(){var e=this,E=[];return Q.a.forEach(this.currentPopovers,(function(B,P){E.push({elements:[B.target,B.relatedTarget],delta:5,handler:function(E){E||(e.$set(e.popoverShown,P,!1),e.$delete(e.currentPopovers,P))}})})),E},searchForCreator:function(e){for(var E=this.$parent;E&&"MappingBrowser"!=E.$options.name;)E=E.$parent;E&&E.searchWithParams&&E.searchWithParams({fromScheme:"",fromNotation:"",toScheme:"",toNotation:"",creator:e,direction:"",type:null,partOf:null})},refreshAnnotations:function(e){var E,B=e.uri,P=e.annotations,z=w(this.sections);try{for(z.s();!(E=z.n()).done;){var V,U=w(E.value.items);try{for(U.s();!(V=U.n()).done;){var H=V.value;H.mapping&&H.mapping.uri==B&&(H.mapping.annotations=P)}}catch(e){U.e(e)}finally{U.f()}}}catch(e){z.e(e)}finally{z.f()}},openInCocoda:function(e){for(var E="./?",B=0,P=["from","to"];B<P.length;B++){var z=P[B],V=this.$jskos.conceptsOfMapping(e,z)[0];V&&V.uri&&(E+="".concat(z,"=").concat(encodeURIComponent(V.uri),"&"));var U=e["".concat(z,"Scheme")];U&&U.uri&&(E+="".concat(z,"Scheme=").concat(encodeURIComponent(U.uri),"&"))}window.open(E.substring(0,E.length-1),"_self")}}},ne=(B("3cc1"),B("4a22"),B("2877")),ie=Object(ne.a)(te,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"mappingBrowser-table-container"},[e._t("default"),B("flexible-table",{staticClass:"mappingBrowser-table",attrs:{sections:e.sections,fields:e.fields,"hide-header":!0},on:{hover:e.hover},scopedSlots:e._u([{key:"sourceScheme",fn:function(E){var P=E.value;return B("span",{},[B("item-name",{staticClass:"fontWeight-heavy",attrs:{item:P,"show-text":!1,"is-link":!0,"is-left":!0,"font-size":"sm"}}),null===P?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopLeftAdjustment"},[e._v(' " ')]):e._e(),void 0===P?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopAdjustment mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],1)}},{key:"sourceConcepts",fn:function(E){var P=E.value;return B("span",{},[e._l(P,(function(E){return B("span",{key:E.uri},[e.$jskos.isContainedIn(E,e.loadingConcepts)?B("loading-indicator",{attrs:{size:"sm"}}):B("item-name",{attrs:{item:E,"show-text":!1,"show-popover":!0,"is-link":!0,"is-left":!0,"is-highlighted":e.$jskos.compare(E,e.selected.concept[!0])||e.$jskos.compare(E,e.selected.concept[!1])}})],1)})),0===P.length?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"sourceConceptsLong",fn:function(E){var P=E.value;return B("span",{},[e._l(P,(function(E){return B("span",{key:E.uri},[e.$jskos.isContainedIn(E,e.loadingConcepts)?B("loading-indicator",{attrs:{size:"sm"}}):B("item-name",{attrs:{item:E,"show-text":!0,"show-popover":!0,"is-link":!0,"is-left":!0,"is-highlighted":e.$jskos.compare(E,e.selected.concept[!0])||e.$jskos.compare(E,e.selected.concept[!1])}})],1)})),0===P.length?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"targetScheme",fn:function(E){var P=E.value;return B("span",{},[B("item-name",{staticClass:"fontWeight-heavy",attrs:{item:P,"show-text":!1,"is-link":!0,"is-left":!1,"font-size":"sm"}}),null===P?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopLeftAdjustment"},[e._v(' " ')]):e._e(),void 0===P?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingTopAdjustment mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],1)}},{key:"targetConcepts",fn:function(E){var P=E.value;return B("span",{},[e._l(P,(function(E){return B("span",{key:E.uri},[e.$jskos.isContainedIn(E,e.loadingConcepts)?B("loading-indicator",{attrs:{size:"sm"}}):B("span",[B("item-name",{attrs:{item:E,"show-text":!1,"show-popover":!0,"is-link":!0,"is-left":!1,"is-highlighted":e.$jskos.compare(E,e.selected.concept[!1])||e.$jskos.compare(E,e.selected.concept[!0])}}),B("br")],1)],1)})),0===P.length?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"targetConceptsLong",fn:function(E){var P=E.value;return B("span",{},[e._l(P,(function(E){return B("span",{key:E.uri},[e.$jskos.isContainedIn(E,e.loadingConcepts)?B("loading-indicator",{attrs:{size:"sm"}}):B("span",[B("item-name",{attrs:{item:E,"show-text":!0,"show-popover":!0,"is-link":!0,"is-left":!1,"is-highlighted":e.$jskos.compare(E,e.selected.concept[!1])||e.$jskos.compare(E,e.selected.concept[!0])}}),B("br")],1)],1)})),0===P.length?B("div",{staticClass:"mappingBrowser-table-light mappingBrowser-table-paddingLeftAdjustment"},[e._v(" — ")]):e._e()],2)}},{key:"type",fn:function(E){var P=E.value;return B("span",{},[null!=P&&"→"!=e.$jskos.notation(P)?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.prefLabel(P,{fallbackToUri:!1}),delay:e.defaults.delay.medium},expression:"{ title: $jskos.prefLabel(value, { fallbackToUri: false }), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(e.$jskos.notation(P))+" ")]):e._e()])}},{key:"creator",fn:function(E){var P=E.item;return B("span",{},[e.$settings.components.MappingBrowser.showIdentityWarning&&P.mapping&&P.mapping.creator&&P.mapping.creator[0]&&P.mapping.creator[0].uri&&e.userUris&&e.userUris.includes(P.mapping.creator[0].uri)&&(e.$jskos.prefLabel(P.mapping.creator[0])!=e.$jskos.prefLabel(e.creator)||P.mapping.creator[0].uri!=e.creator.uri)?B("span",[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.$t("mappingBrowser.creatorIsDifferent"),expression:"$t('mappingBrowser.creatorIsDifferent')",modifiers:{hover:!0}}],staticClass:"text-warning",attrs:{icon:"exclamation"}})],1):e._e(),null!=P.creator?B("span",{attrs:{id:"mappingBrowserTable-item-"+P.uniqueId+"-creator"}},[e._v(" "+e._s(P.creator)+" ")]):e._e(),null!=P.creator?B("b-popover",{attrs:{target:"mappingBrowserTable-item-"+P.uniqueId+"-creator",show:e.popoverShown["creator-"+P.uniqueId],triggers:"hover",delay:e.defaults.delay.medium,placement:"auto"},on:{"update:show":function(E){return e.$set(e.popoverShown,"creator-"+P.uniqueId,E)},hide:function(E){return e.popoverHide(E,"creator-"+P.uniqueId)}}},[B("div",{staticClass:"font-default"},[B("p",{staticClass:"fontWeight-heavy"},[e._v(e._s(P.creator))]),P.mapping.creator&&P.mapping.creator[0]&&P.mapping.creator[0].uri?[B("p",{staticClass:"fontSize-small"},[B("auto-link",{attrs:{link:P.mapping.creator[0].uri}})],1),B("p",{staticClass:"button",on:{click:function(E){e.$set(e.popoverShown,"creator-"+P.uniqueId,!1),e.searchForCreator(P.mapping.creator[0].uri)}}},[B("font-awesome-icon",{staticClass:"fontSize-small",attrs:{icon:"search"}}),e._v(" "+e._s(e.$t("mappingBrowser.searchForMappingsByCreator"))+" ")],1)]:e._e()],2)]):e._e()],1)}},{key:"actions",fn:function(E){return B("span",{},[E.item.mapping&&E.item.mapping.annotations?B("div",{staticClass:"button fontWeight-heavy",staticStyle:{display:"inline-block",position:"relative","min-width":"18px"},style:"color: "+e.annotationButtonColor(E.item.mapping.annotations)+";",attrs:{id:"mappingBrowser-hoveredMapping-annotationButton-"+E.item.uniqueId}},[E.item.mapping.annotations.find((function(e){return"moderating"==e.motivation}))?B("span",[B("font-awesome-icon",{staticClass:"text-success",attrs:{icon:"check"}})],1):B("span",[e._v(" "+e._s(e.annotationsScore(E.item.mapping.annotations).sign)+e._s(e.annotationsScore(E.item.mapping.annotations).score)+" ")])]):e._e(),E.item.mapping?B("div",{staticClass:"mappingBrowser-toolbar-button"},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.showDetail"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.showDetail'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"info-circle"},on:{click:function(B){(e.mappingDetailMapping=E.item.mapping)&&e.$refs.mappingDetail.show()}}})],1):e._e(),e.showEditingTools?B("div",{staticClass:"mappingBrowser-toolbar-button",style:"margin-left: 1px;"},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.canUpdateMapping({mapping:E.item.mapping,user:e.user})?e.$t("mappingBrowser.edit",[e.$jskos.prefLabel(E.item.registry)]):e.$t("mappingBrowser.clone",[e.$jskos.prefLabel(e.currentRegistry)]),delay:e.defaults.delay.medium},expression:"{ title: canUpdateMapping({ mapping: data.item.mapping, user }) ? $t('mappingBrowser.edit', [$jskos.prefLabel(data.item.registry)]) : $t('mappingBrowser.clone', [$jskos.prefLabel(currentRegistry)]), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:e.canUpdateMapping({mapping:E.item.mapping,user:e.user})?"edit":"clone"},on:{click:function(B){return e.edit(E)}}})],1):e._e(),e.showEditingTools&&!e.$jskos.compare(E.item.registry,e.$store.getters.getCurrentRegistry)?B("div",{staticClass:"mappingBrowser-toolbar-button"},[e.canCreateMapping({registry:e.currentRegistry,mapping:E.item.mapping})?B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.saveAsMapping",[e.$jskos.prefLabel(e.currentRegistry)]),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.saveAsMapping', [$jskos.prefLabel(currentRegistry)]), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"save"},on:{click:function(B){e.postMapping({mapping:E.item.mapping,registry:e.currentRegistry,_before:function(){e.loadingGlobal=!0},_after:function(){e.loadingGlobal=!1}})}}}):e._e()],1):e.showEditingTools?B("div",{staticClass:"mappingBrowser-toolbar-button"},[e.canDeleteMapping({mapping:E.item.mapping,user:e.user})?B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.delete"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.delete'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button-delete",attrs:{icon:"trash-alt"},on:{click:function(B){e.deleteMapping({mapping:E.item.mapping,_before:function(){e.loadingGlobal=!0},_after:function(){e.loadingGlobal=!1}})}}}):e._e()],1):e._e(),e.showCocodaLink?B("div",{staticClass:"mappingBrowser-toolbar-button"},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.openInCocoda"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.openInCocoda'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"external-link-square-alt"},on:{click:function(B){return e.openInCocoda(E.item.mapping)}}})],1):e._e()])}},{key:"ITEM_ROW",fn:function(E){var P=E.item;return B("span",{},["loading"==P.type?B("loading-indicator",{attrs:{size:"sm"}}):e._e(),"noItems"==P.type?B("span",[e._v(" "+e._s(e.$t("mappingBrowser.noItems"))+" ")]):e._e()],1)}},{key:"extra",fn:function(E){return B("span",{},[null==E.item.occurrence?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:E.value.tooltip,delay:e.defaults.delay.medium},expression:"{ title: data.value.tooltip, delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(E.value.date)+" ")]):-1==E.item.occurrence.count?B("span",[e._v("-")]):B("span",[B("auto-link",{attrs:{link:E.item.occurrence.url,text:String(E.item.occurrence.count)}})],1)])}},{key:"BEFORE_SECTION",fn:function(E){var P=E.section;return B("span",{},[B("div",{staticStyle:{display:"flex",position:"relative"}},[B("div",{class:{"fontWeight-heavy":!0,"mappingBrowser-registry-selectable":e.$jskos.mappingRegistryIsStored(P.registry)},staticStyle:{flex:"1","padding-left":"5px"},on:{click:function(E){return e.useRegistryForSaving(P.registry)}}},[B("registry-info",{attrs:{registry:P.registry,"show-details":!1,"show-capabilities":!1}})],1),P.totalCount>e.searchLimit?B("b-pagination",{staticClass:"mappingBrowser-pagination justify-content-center",class:{"pagination-hide-goToLast":P.totalCount>5e4},attrs:{value:P.page,"total-rows":P.totalCount,"per-page":e.searchLimit,size:"sm"},on:{input:function(E){return e.$emit("pageChange",{registry:P.registry,page:E,userInitiated:!1})},change:function(E){return e.$emit("pageChange",{registry:P.registry,page:E,userInitiated:!0})}}}):e._e(),B("div",{staticClass:"mappingBrowser-pagination-number fontSize-small"},[P.items.length<P.totalCount?B("span",[e._v(" "+e._s(P.items.length)+" "+e._s(e.$t("general.of"))+" "+e._s(P.totalCount.toLocaleString())+" ")]):e._e(),e.registryHasErrored[P.registry.uri]?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.registryHasErrored"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.registryHasErrored'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"registry-has-errored-indicator"},[e._v(" 🔴 ")]):e._e()]),B("data-modal-button",{attrs:{data:P.items.map((function(e){return e.mapping})).filter((function(e){return null!=e})),url:P.url,"total-count":P.totalCount,type:"mapping"}})],1),P.loading?B("loading-indicator-full",{attrs:{size:"sm"}}):e._e()],1)}}])},[B("span",{attrs:{slot:"HEAD_actions"},slot:"HEAD_actions"})]),B("mapping-detail",{ref:"mappingDetail",attrs:{mapping:e.mappingDetailMapping}}),B("annotation-popover",{attrs:{id:e.hoveredId,mapping:this.$store.state.hoveredMapping,"id-prefix":"mappingBrowser-hoveredMapping-annotationButton-"},on:{"refresh-annotations":e.refreshAnnotations}})],2)}),[],!1,null,"6bc5e670",null);E.default=ie.exports},e418:function(e,E,B){"use strict";B.r(E);var P=B("b758"),z=B("2ef0"),V=B.n(z),U=B("616f"),H=B("5635"),W=B("8fb2"),G=B("564d"),K={name:"ConceptSearch",components:{LoadingIndicator:P.default},mixins:[U.a,H.a,W.a,G.a],props:{isLeft:{type:Boolean,default:!0},scheme:{type:Object,default:null}},data:function(){return{searchQuery:"",searchResult:[],isOpen:!1,isValid:!1,loading:!1,searchSelected:-1,preventHovering:!1,cancel:null,uniqueID:null,filterPopoverShow:!1}},computed:{typesForSchemes:function(){return this.$settings.typesForSchemes},selectedTypes:{get:function(){var e=this,E=Object.keys(this.$settings.typesForSchemes).find((function(E){return e.$jskos.compare(e.scheme,{uri:E})}));return this.$settings.typesForSchemes[E]},set:function(e){var E=this;if(Array.isArray(e)){var B=Object.keys(this.$settings.typesForSchemes).find((function(e){return E.$jskos.compare(E.scheme,{uri:e})}))||this.scheme.uri,P=V.a.cloneDeep(this.$settings.typesForSchemes);V.a.isEqual(e,P[B])||(P[B]=e,this.$store.commit({type:"settings/set",prop:"typesForSchemes",value:P}))}}},provider:function(){return V.a.get(this.scheme,"_registry")}},watch:{searchQuery:function(e){this.searchSelected=-1,null!=this.cancel&&(this.cancel("There was a newer search query."),this.cancel=null),""==e?(this.loading=!1,this.isOpen=!1):(this.searchResult=["Waiting for you to stop typing..."],this.loading=!0,this.isOpen=!0,this.debouncedGetAnswer()),this.isValid=!1},scheme:function(e,E){this.$jskos.compare(E,e)||(this.searchQuery="",this.searchResult=[],this.isOpen=!1,this.isValid=!1,this.loading=!1,this.searchSelected=-1),null!=e&&this._loadTypes(e)},typesForSchemes:function(){this.loading=!0,this.getAnswer()}},created:function(){this.debouncedGetAnswer=V.a.debounce(this.getAnswer,300),this.uniqueID=this.generateID()},methods:{clickHandlers:function(){var e=this;return[{elements:[this.$el],handler:function(){e.filterPopoverShow||(e.isOpen=!1,e.searchSelected=-1)}},{elements:[document.getElementById("conceptSearch-filter-".concat(this.isLeft?"left":"right")),this.$refs.filterPopover],handler:function(){e.filterPopoverShow=!1}}]},chooseResult:function(e){this.closeResults(),this.searchSelected=-1,this.$router.push({path:this._getRouterUrl(this.searchResult[e])}),document.activeElement!=document.body&&document.activeElement.blur()},_getRouterUrl:function(e){var E={uri:V.a.last(e),inScheme:[this.scheme]};return E=this.saveObject(E,{type:"concept",scheme:this.scheme,provider:this.provider}),this.getRouterUrl(E,this.isLeft)},closeResults:function(){this.isOpen=!1},getAnswer:function(){var e=this;this.searchResult=[];var E=this.searchQuery,B=this.provider.suggest({search:E,scheme:this.scheme,types:this.selectedTypes});this.cancel=B.cancel,B.then((function(B){E==e.searchQuery&&(e.loading=!1,e.searchResult=V.a.zip(B[1],B[2],B[3]),e.isValid=!0)})).catch((function(B){if(-1==B.toString().toLowerCase().indexOf("cancel")&&E==e.searchQuery){e.loading=!1,e.isValid=!1;var P="".concat(e.$t("search.error")," ").concat(e.getErrorMessage(B));e.searchResult=[[P]]}})).then((function(){if(E==e.searchQuery){var B=new e.$jskos.ConceptScheme(e.scheme).conceptFromNotation(E);B&&!e.searchResult.find((function(e){return V.a.last(e)==B.uri}))&&e.searchResult.push(["".concat(E," ").concat(e.$t("itemDetail.unknownConcept")),"###conceptWithoutData###",B.uri]),e.cancel=null}}))},onArrowDown:function(){this.preventHovering=!0,this.searchSelected>=this.searchResult.length-1?this.searchSelected=0:this.searchSelected+=1,this.scrollSelectedIntoView()},onArrowUp:function(){this.preventHovering=!0,this.searchSelected<=0?this.searchSelected=this.searchResult.length-1:this.searchSelected-=1,this.scrollSelectedIntoView()},scrollSelectedIntoView:function(){var e=document.getElementById(this.uniqueID+"-searchResult-"+this.searchSelected),E=e.getBoundingClientRect(),B=e.parentElement.parentElement.getBoundingClientRect();E.bottom>B.bottom&&e.scrollIntoView(!1),E.top<B.top&&e.scrollIntoView()},onEnter:function(){var e;!this.loading&&this.isValid&&0!=this.searchResult.length&&(e=this.searchSelected<0||this.searchSelected>=this.searchResult.length?0:this.searchSelected,this.chooseResult(e))},mouseover:function(e){this.preventHovering||(this.searchSelected=e)},mousemove:function(){this.preventHovering=!1},focusSearch:function(){this.$refs.searchInput.focus(),this.isOpen=""!=this.searchQuery},highlightQueryInResult:function(e){if(!this.searchQuery.length)return e;for(var E=this.searchQuery,B=new RegExp(E,"ig"),P=B.exec(e),z=0,U="";P;){var H=P.index;U+=V.a.escape(e.slice(z,H))+"<span class='conceptSearch-searchHighlight fontWeight-heavy'>"+V.a.escape(e.slice(H,H+E.length))+"</span>",z=H+E.length,P=B.exec(e)}return U+=V.a.escape(e.slice(z))},setSearchQuery:function(e){var E=this,B=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.searchQuery=e,this.$nextTick((function(){E.isOpen=B})),setTimeout((function(){B&&E.focusSearch()}),10)},_loadTypes:function(e){var E=this;this.loadTypes(e).then((function(e){E.selectedTypes||(E.selectedTypes=e.types.map((function(e){return e.uri})))}))},dragStartResult:function(e,E){var B=V.a.last(e),P=this.saveObject({uri:B},{scheme:this.scheme,type:"concept"});this.dragStart(P,E)},droppedConcept:function(e){this.setSearchQuery(this.$jskos.prefLabel(e,{fallbackToUri:!0}))}}},q=(B("cb24"),B("b298"),B("2877")),J=Object(q.a)(K,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{staticClass:"conceptSearch",on:{mousemove:function(E){return e.mousemove()}}},[B("div",{staticClass:"conceptSearch-icon button",on:{click:e.focusSearch}},[B("font-awesome-icon",{attrs:{icon:"search"}})],1),B("div",{staticClass:"conceptSearch-inputWrapper"},[e.isOpen&&!e.loading?B("div",{staticClass:"conceptSearch-resultCount",style:"right: "+(e.scheme.types&&e.scheme.types.length?27:10)+"px;"},[e._v(" "+e._s(e.searchResult.length)+" "+e._s(e.$tc("search.results",e.searchResult.length))+" ")]):e._e(),B("div",{directives:[{name:"show",rawName:"v-show",value:e.scheme.types&&e.scheme.types.length>0,expression:"scheme.types && scheme.types.length > 0"}],staticClass:"conceptSearch-filter button",attrs:{id:"conceptSearch-filter-"+(e.isLeft?"left":"right")}},[B("font-awesome-icon",{attrs:{icon:"filter"}})],1),B("b-popover",{attrs:{target:"conceptSearch-filter-"+(e.isLeft?"left":"right"),show:e.filterPopoverShow,triggers:"click",placement:"auto"},on:{"update:show":function(E){e.filterPopoverShow=E}}},[B("div",{ref:"filterPopover"},[B("b-form-checkbox-group",{staticClass:"conceptSearch-filterCheckboxes",attrs:{stacked:"",size:"sm"},model:{value:e.selectedTypes,callback:function(E){e.selectedTypes=E},expression:"selectedTypes"}},e._l(e.scheme.types,(function(E){return B("b-form-checkbox",{key:E.uri,staticClass:"conceptSearch-filterCheckbox",attrs:{value:E.uri}},[e._v(" "+e._s(e.$jskos.prefLabel(E))+" ")])})),1)],1)]),B("b-form-input",{ref:"searchInput",attrs:{placeholder:e.$t("search.placeholder"),size:"sm",autocomplete:"off"},on:{dragover:e.dragOver,drop:function(E){return e.drop(E,e.isLeft)}},nativeOn:{click:function(E){e.isOpen=""!=e.searchQuery},keydown:[function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"down",40,E.key,["Down","ArrowDown"])?null:(E.preventDefault(),e.onArrowDown.apply(null,arguments))},function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"up",38,E.key,["Up","ArrowUp"])?null:(E.preventDefault(),e.onArrowUp.apply(null,arguments))},function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"tab",9,E.key,"Tab")?null:e.closeResults.apply(null,arguments)}],keyup:[function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.onEnter.apply(null,arguments)},function(E){if(!E.type.indexOf("key")&&e._k(E.keyCode,"esc",27,E.key,["Esc","Escape"]))return null;e.$refs.searchInput.$el.blur(),e.closeResults()}],focus:function(E){e.isOpen=""!=e.searchQuery}},model:{value:e.searchQuery,callback:function(E){e.searchQuery=E},expression:"searchQuery"}}),B("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"conceptSearch-results"},[e.loading?B("div",{staticClass:"conceptSearch-loading"},[B("loading-indicator")],1):B("ul",{staticClass:"conceptSearch-results-list"},[e._l(e.searchResult,(function(E,P){return B("li",{key:P,staticClass:"conceptSearch-results-item",class:{"conceptSearch-selected":P===e.searchSelected,"font-italic":"###conceptWithoutData###"==E[1]},attrs:{id:e.uniqueID+"-searchResult-"+P,draggable:"true"},on:{dragstart:function(B){return e.dragStartResult(E,B)},dragend:e.dragEnd,click:function(E){return e.chooseResult(P)},mouseover:function(E){return e.mouseover(P)}}},["###conceptWithoutData###"==E[1]?B("span",{staticClass:"fontSize-verySmall"},[B("font-awesome-icon",{attrs:{icon:"bolt"}})],1):e._e(),B("span",{domProps:{innerHTML:e._s(e.highlightQueryInResult(E[0]))}})])})),0==e.searchResult.length?B("li",{staticClass:"conceptSearch-results-item"},[B("div",[e._v(e._s(e.$t("search.noResults")))])]):e._e()],2)])],1)])}),[],!1,null,"211a2b94",null);E.default=J.exports},eb21:function(e,E,B){},eb72:function(e,E,B){e.exports={displayName:"MappingDetail",description:"A component (bootstrap modal) that allows viewing and exporting JSKOS data.",tags:{},exportName:"default",props:[{name:"mapping",description:"Mapping object",type:{name:"object"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},ef0f:function(e,E,B){"use strict";B.r(E);var P,z,V=B("a34a"),U=B.n(V),H=B("e0b3"),W=B("aedf"),G=B("d465"),K=B("68bc"),q=B("1e4f"),J=B("d8c4"),Q=B("2ef0"),X=B.n(Q),Y=B("bc3a"),Z=B.n(Y),ee=B("a189"),te=B("616f"),ne=B("8fb2"),ie=B("5635"),re=B("564d");void 0!==document.hidden?(P="hidden",z="visibilitychange"):void 0!==document.msHidden?(P="msHidden",z="msvisibilitychange"):void 0!==document.webkitHidden&&(P="webkitHidden",z="webkitvisibilitychange");var oe={data:function(){return{isPageVisible:!0}},created:function(){P&&document.addEventListener(z,this.handleVisibilityChangeInternal,!1),this.isPageVisible=!document[P]},beforeDestroy:function(){P&&document.removeEventListener(z,this.handleVisibilityChangeInternal,!1)},methods:{handleVisibilityChangeInternal:function(){this.isPageVisible=!document[P]}}};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,E){var B=Object.keys(e);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(e);E&&(P=P.filter((function(E){return Object.getOwnPropertyDescriptor(e,E).enumerable}))),B.push.apply(B,P)}return B}function j(e){for(var E=1;E<arguments.length;E++){var B=null!=arguments[E]?arguments[E]:{};E%2?x(Object(B),!0).forEach((function(E){R(e,E,B[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(B)):x(Object(B)).forEach((function(E){Object.defineProperty(e,E,Object.getOwnPropertyDescriptor(B,E))}))}return e}function L(e,E,B,P,z,V,U){try{var H=e[V](U),W=H.value}catch(e){return void B(e)}H.done?E(W):Promise.resolve(W).then(P,z)}function M(e,E){return function D(e){if(Array.isArray(e))return e}(e)||function O(e,E){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var B=[],P=!0,z=!1,V=void 0;try{for(var U,H=e[Symbol.iterator]();!(P=(U=H.next()).done)&&(B.push(U.value),!E||B.length!==E);P=!0);}catch(e){z=!0,V=e}finally{try{P||null==H.return||H.return()}finally{if(z)throw V}}return B}}(e,E)||A(e,E)||function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=A(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function A(e,E){if(e){if("string"==typeof e)return F(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?F(e,E):void 0}}function F(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}function R(e,E,B){return E in e?Object.defineProperty(e,E,{value:B,enumerable:!0,configurable:!0,writable:!0}):e[E]=B,e}var ae={name:"MappingBrowser",components:{FlexibleTable:W.a,MappingBrowserTable:H.default,RegistryNotation:G.default,ItemName:K.default,ComponentSettings:q.default,DataModalButton:J.default},mixins:[ee.a,te.a,ne.a,ie.a,re.a,oe],props:{showNavigator:{type:Boolean,default:!0},showEditingTools:{type:Boolean,default:!0},showCocodaLink:{type:Boolean,default:!1}},data:function(){var e,E,B;return{tab:0,concordancesLoaded:!1,totalNumberOfMappings:null,hasSwitchedToNavigator:!1,searchShareShow:!1,searchShareLinkPart:"",searchShareIncludeSelected:!1,registryGroupShow:{},concordanceFilter:{from:"",to:"",creator:""},searchFilterInput:null,searchFilter:null,searchFilterExtended:!1,searchPages:{},searchResults:{},searchLoading:{},searchCancelToken:{},searchNeedsRefresh:[],lockScheme:(e={},R(e,!0,!0),R(e,!1,!0),e),previousSelected:{concept:(E={},R(E,!0,null),R(E,!1,null),E),scheme:(B={},R(B,!0,null),R(B,!1,null),B)},navigatorPages:{},navigatorResults:{},navigatorLoading:{},navigatorNeedsRefresh:[],navigatorCancelToken:{},hoveredRegistry:null,searchRepeatManagers:{},navigatorRepeatManagers:{},registryHasErrored:{}}},computed:{concordanceTableFields:function(){return[{key:"from",label:this.$t("mappingBrowser.from"),width:"13%",minWidth:"",sortable:!0,align:"left",titleClass:"test"},{key:"to",label:this.$t("mappingBrowser.to"),width:"9%",minWidth:"",sortable:!0,align:"left"},{key:"description",label:this.$t("mappingBrowser.description"),width:"24%",minWidth:"",sortable:!0,align:"left",class:"mappingBrowser-from750"},{key:"creator",label:this.$t("mappingBrowser.creator"),width:"16%",minWidth:"",sortable:!0,align:"left"},{key:"date",label:this.$t("mappingBrowser.date"),width:"10%",minWidth:"",sortable:!0,align:"left",class:"mappingBrowser-from550"},{key:"download",label:this.$t("mappingBrowser.download"),width:"11%",minWidth:"",sortable:!1,align:"left",class:"mappingBrowser-from650"},{key:"mappings",label:this.$t("registryInfo.mappings"),width:"13%",minWidth:"",sortable:!0,align:"right",compare:function(e,E){return(parseInt(e.mappings)||0)-(parseInt(E.mappings)||0)}},{key:"actions",label:"",width:"4%",sortable:!1,align:"right"}]},concordanceTableItems:function(){var e,E=[],B=N(this.concordances||[]);try{for(B.s();!(e=B.n()).done;){var P=e.value,z={concordance:P};z.from=X.a.get(P,"fromScheme"),z.from=this.getObject(z.from)||z.from,z.fromNotation=this.$jskos.notation(z.from)||"-",z.to=X.a.get(P,"toScheme"),z.to=this.getObject(z.to)||z.to,z.toNotation=this.$jskos.notation(z.to)||"-",z.description=(this.$jskos.languageMapContent(P,"scopeNote")||[])[0]||"-",z.creator=this.$jskos.prefLabel(X.a.get(P,"creator[0]"),{fallbackToUri:!1})||"-",z.date=X.a.get(P,"modified")||X.a.get(P,"created")||"",z.download=X.a.get(P,"distributions",[]),z.mappings=X.a.get(P,"extent"),z.fromNotation.toLowerCase().startsWith(this.concordanceFilter.from.toLowerCase())&&z.toNotation.toLowerCase().startsWith(this.concordanceFilter.to.toLowerCase())&&z.creator.toLowerCase().startsWith(this.concordanceFilter.creator.toLowerCase())&&E.push(z)}}catch(e){B.e(e)}finally{B.f()}return E},concordancesShown:function(){return!this.concordances||this.concordances&&this.concordances.length},tabIndexes:function(){var e={concordances:this.concordancesShown?0:null,search:this.concordancesShown?1:0,navigator:this.concordancesShown?2:1};return this.showNavigator||delete e.navigator,e},typeOptions:function(){var e,E=[{text:this.$t("mappingBrowser.searchAllTypes"),value:null}],B=N(this.$jskos.mappingTypes);try{for(B.s();!(e=B.n()).done;){var P=e.value;E.push({text:"".concat(this.$jskos.notation(P)," ").concat(this.$jskos.prefLabel(P)),value:P.uri})}}catch(e){B.e(e)}finally{B.f()}return E},concordanceOptions:function(){var e,E=[{value:null,text:this.$t("mappingBrowser.searchAllConcordances")}],B=N(this.concordanceTableItems);try{for(B.s();!(e=B.n()).done;){var P=e.value,z="".concat(P.fromNotation," to ").concat(P.toNotation," (").concat(P.description,")");E.push({value:P.concordance.uri,text:z})}}catch(e){B.e(e)}finally{B.f()}return E},searchFromScheme:function(){return this.getSchemeForFilter(this.searchFilterInput.fromScheme)},searchToScheme:function(){return this.getSchemeForFilter(this.searchFilterInput.toScheme)},needsRefresh:function(){return this.$store.state.mapping.mappingsNeedRefresh},searchRegistries:function(){return X.a.get(this.registryGroups.find((function(e){return e.stored})),"registries",[])},mappingRegistriesSorted:function(){return X.a.flatten(this.registryGroups.map((function(e){return e.registries})))},navigatorRegistries:function(){var e=this;return this.mappingRegistriesSorted.filter((function(E){return E.supportsScheme&&E.supportsScheme(e.selected.scheme[!0])||E.supportsScheme&&E.supportsScheme(e.selected.scheme[!1])}))},registryGroups:function(){var e,E=this,B=[{stored:!0,label:this.$t("general.storedMappings"),registries:[]},{stored:!1,label:this.$t("general.recommendedMappings"),registries:[]}],P=N(this.mappingRegistries);try{var r=function(){var P=e.value;B.find((function(e){return e.stored===E.$jskos.mappingRegistryIsStored(P)})).registries.push(P)};for(P.s();!(e=P.n()).done;)r()}catch(e){P.e(e)}finally{P.f()}if(B=B.filter((function(e){return e.registries.length>0})),this.componentSettings.moveCurrentRegistryToTop){var z,V=N(B);try{for(V.s();!(z=V.n()).done;){var U=z.value;U.registries=U.registries.sort((function(e,B){return E.$jskos.compare(e,E.currentRegistry)?-1:E.$jskos.compare(B,E.currentRegistry)?1:0}))}}catch(e){V.e(e)}finally{V.f()}}return B},searchSections:function(){return this.resultsToSections(this.searchResults,this.searchPages,this.searchLoading,"mappingSearch-")},navigatorSectionsDatabases:function(){var e=this;return this.resultsToSections(this.navigatorResults,this.navigatorPages,this.navigatorLoading,"mappingNavigator-").filter((function(E){return e.$jskos.mappingRegistryIsStored(E.registry)}))},navigatorSectionsRecommendations:function(){var e=this;return this.resultsToSections(this.navigatorResults,this.navigatorPages,this.navigatorLoading,"mappingNavigator-").filter((function(E){return!e.$jskos.mappingRegistryIsStored(E.registry)}))},searchShareLink:function(){var e=this.searchShareIncludeSelected?window.location.href:window.location.href.split("?")[0];return e+="".concat(e.includes("?")?"&":"?").concat(this.searchShareLinkPart)},concordanceRegistries:function(){return this.config.registries.filter((function(e){return e.has.concordances}))},concordanceUrls:function(){var e,E={},B=N(this.concordanceRegistries);try{for(B.s();!(e=B.n()).done;){var P=e.value;P.has.concordances&&P._api.concordances&&(E[this.$jskos.prefLabel(P)]=P._api.concordances)}}catch(e){B.e(e)}finally{B.f()}return E}},watch:{tab:function(e,E){if(e==this.tabIndexes.search){for(var B=0,P=Object.values(this.searchRepeatManagers);B<P.length;B++){var z=P[B];z&&z.isPaused&&z.start()}if(this.searchNeedsRefresh.length){if(1==this.searchNeedsRefresh.length)return void this.search(this.searchNeedsRefresh[0].registryUri,this.searchNeedsRefresh[0].page);if(this.searchNeedsRefresh.find((function(e){return!e.registryUri})))this.search();else{var V,U=N(X.a.uniq(this.searchNeedsRefresh.map((function(e){return e.registryUri}))));try{for(U.s();!(V=U.n()).done;){var H=V.value;this.search(H,this.searchPages[H])}}catch(e){U.e(e)}finally{U.f()}}}}else if(e==this.tabIndexes.navigator){for(var W=0,G=Object.values(this.navigatorRepeatManagers);W<G.length;W++){var K=G[W];K&&K.isPaused&&K.start()}this.navigatorRefresh()}if(E==this.tabIndexes.search)for(var q=0,J=Object.values(this.searchRepeatManagers);q<J.length;q++){var Q=J[q];Q&&!Q.isPaused&&Q.stop()}if(E==this.tabIndexes.navigator)for(var Y=0,Z=Object.values(this.navigatorRepeatManagers);Y<Z.length;Y++){var ee=Z[Y];ee&&!ee.isPaused&&ee.stop()}},isPageVisible:function(e){if(e){if(this.tab==this.tabIndexes.search)for(var E=0,B=Object.values(this.searchRepeatManagers);E<B.length;E++){var P=B[E];P&&P.isPaused&&P.start()}else if(this.tab==this.tabIndexes.navigator)for(var z=0,V=Object.values(this.navigatorRepeatManagers);z<V.length;z++){var U=V[z];U&&U.isPaused&&U.start()}}else{var H,W=N([].concat(Object.values(this.searchRepeatManagers),Object.values(this.navigatorRepeatManagers)));try{for(W.s();!(H=W.n()).done;){var G=H.value;G&&!G.isPaused&&G.stop()}}catch(e){W.e(e)}finally{W.f()}}},navigatorNeedsRefresh:function(e){e.length>0&&this.tab==this.tabIndexes.navigator&&this.navigatorRefresh()},selected:{handler:function(){var e,E;if(!(this.$jskos.compare(this.selected.concept[!0],this.previousSelected.concept[!0])&&this.$jskos.compare(this.selected.concept[!1],this.previousSelected.concept[!1])&&this.$jskos.compare(this.selected.scheme[!0],this.previousSelected.scheme[!0])&&this.$jskos.compare(this.selected.scheme[!1],this.previousSelected.scheme[!1]))){this.navigatorPages={},this.navigatorResults={},this.navigatorNeedsRefresh.push(null);for(var B=!1,P=0,z=[["from",!0],["to",!1]];P<z.length;P++){var V=M(z[P],2),U=V[0],H=V[1];if(this.lockScheme[H]&&!this.$jskos.compare(this.selected.scheme[H],this.previousSelected.scheme[H])){var W=this.selected.scheme[H];this.searchFilterInput["".concat(U,"Scheme")]=W?this.$jskos.notation(W):"",B=!0}}B&&this.searchClicked()}this.previousSelected={},this.previousSelected.concept=(R(e={},!0,this.selected.concept[!0]?{uri:this.selected.concept[!0].uri}:null),R(e,!1,this.selected.concept[!1]?{uri:this.selected.concept[!1].uri}:null),e),this.previousSelected.scheme=(R(E={},!0,this.selected.scheme[!0]?{uri:this.selected.scheme[!0].uri}:null),R(E,!1,this.selected.scheme[!1]?{uri:this.selected.scheme[!1].uri}:null),E),this.hasSwitchedToNavigator||!this.selected.concept[!0]&&!this.selected.concept[!1]||(this.tab=this.tabIndexes.navigator,this.hasSwitchedToNavigator=!0)},deep:!0},needsRefresh:function(e){if(e){var E=this.$store.state.mapping.mappingsNeedRefreshRegistry;E?(this.navigatorNeedsRefresh.push(E),this.search(E,this.searchPages[E])):(this.navigatorNeedsRefresh.push(null),this.search()),this.$store.commit("mapping/setRefresh",{refresh:!1})}},currentRegistry:function(e){if(this.showRegistry[e.uri]=!0,this.componentSettings.moveCurrentRegistryToTop){var E,B=N(document.getElementsByClassName("flexibleTable-body"));try{for(B.s();!(E=B.n()).done;){E.value.scrollTop=0}}catch(e){B.e(e)}finally{B.f()}}},locale:function(e,E){var B=this;if(e!=E){var P,z=N(this.navigatorRegistries.filter((function(e){return!B.$jskos.mappingRegistryIsStored(e)&&B.showRegistry[e.uri]})));try{for(z.s();!(P=z.n()).done;){var V=P.value;this.navigatorNeedsRefresh.push(V.uri)}}catch(e){z.e(e)}finally{z.f()}}},lockScheme:{handler:function(){for(var e=!1,E=0,B=[["from",!0],["to",!1]];E<B.length;E++){var P=M(B[E],2),z=P[0],V=P[1];if(this.lockScheme[V]){var U=this.selected.scheme[V];this.searchFilterInput["".concat(z,"Scheme")]=U?this.$jskos.notation(U):"",e=!0}}e&&this.searchClicked()},deep:!0},"componentSettings.resultLimit":function(e,E){var B;if(this.tab==this.tabIndexes.search?B="search":this.tab==this.tabIndexes.navigator&&(B="navigator"),B)for(var P=0,z=Object.keys(this["".concat(B,"Results")]);P<z.length;P++){var V=z[P],U=((this["".concat(B,"Pages")][V]||1)-1)*E,H=Math.floor(U/e)+1;"search"==B?this.search(V,H):(this.$set(this.navigatorPages,V,H),this.navigatorNeedsRefresh.push(V))}},"componentSettings.showAllSchemes":function(){this.$store.commit("mapping/setRefresh")},"componentSettings.navigatorShowResultsForLeft":function(){this.$store.commit("mapping/setRefresh")},"componentSettings.navigatorShowResultsForRight":function(){this.$store.commit("mapping/setRefresh")},"componentSettings.autoRefresh":function(){var e;if(this.tab==this.tabIndexes.search?e="search":this.tab==this.tabIndexes.navigator&&(e="navigator"),e)for(var E=0,B=Object.keys(this["".concat(e,"Results")]);E<B.length;E++){var P=B[E];"search"==e?this.search(P,this.searchPages[P]):this.navigatorNeedsRefresh.push(P)}}},created:function(){this.navigatorRefresh=X.a.debounce(this._navigatorRefresh,100),this.clearSearchFilter(),this.tab=this.tabIndexes.search},mounted:function(){var e=this;return function I(e){return function(){var E=this,B=arguments;return new Promise((function(P,z){var V=e.apply(E,B);function a(e){L(V,P,z,a,s,"next",e)}function s(e){L(V,P,z,a,s,"throw",e)}a(void 0)}))}}(U.a.mark((function t(){var E;return U.a.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:if(e.concordances&&e.concordances.length){B.next=18;break}return B.prev=1,B.t0=X.a,B.next=5,Promise.all(e.concordanceRegistries.map((function(e){return e.getConcordances()})));case 5:return B.t1=B.sent,E=B.t0.flatten.call(B.t0,B.t1),X.a.forEach(E,(function(E,B){e.$set(e.concordances,B,E)})),e.concordances.length=E.length,B.next=11,Promise.all(e.concordanceRegistries.map((function(e){return e.getMappings({limit:1})})));case 11:e.totalNumberOfMappings=B.sent.reduce((function(e,E){return e+E._totalCount}),0),B.next=17;break;case 14:B.prev=14,B.t2=B.catch(1),e.$log.error("MappingBrowser - Error loading concordances",B.t2);case 17:e.concordancesLoaded=!0;case 18:e.navigatorNeedsRefresh.push(null);case 19:case"end":return B.stop()}}),t,null,[[1,14]])})))()},beforeDestroy:function(){var e,E=N([].concat(Object.values(this.searchRepeatManagers),Object.values(this.navigatorRepeatManagers)));try{for(E.s();!(e=E.n()).done;){var B=e.value;B&&!B.isPaused&&B.stop()}}catch(e){E.e(e)}finally{E.f()}},methods:{clickHandlers:function(){var e,E=this,B=[],P=N(this.registryGroups);try{var r=function(){var P=e.value;B.push({elements:[X.a.get(E.$refs["registryGroup-".concat(P.stored,"-popover")],"[0]"),document.getElementById("registryGroup-".concat(P.stored))],handler:function(){E.$set(E.registryGroupShow,P.stored,!1)}})};for(P.s();!(e=P.n()).done;)r()}catch(e){P.e(e)}finally{P.f()}return B.push({elements:[this.$refs.searchSharePopover,document.getElementById("mappingBrowser-search-shareButton")],handler:function(){E.searchShareShow=!1}}),B},generateCancelToken:function(){return Z.a.CancelToken.source()},showMappingsForConcordance:function(e){this.tab=this.tabIndexes.search,this.clearSearchFilter(),this.searchFilterInput.partOf=e.uri,this.searchClicked()},nameOfDistribution:function(e){var E=e.mimetype;return E.includes("json")?"JSKOS":E.includes("csv")?"CSV":null},getSchemeForFilter:function(e){var E=this;return this.schemes.find((function(B){return e&&(E.$jskos.compare(B,{uri:e})||E.$jskos.notation(B).toLowerCase()==e.toLowerCase())}))},clearSearchFilter:function(){this.searchFilterInput={fromScheme:this.searchFilterInput&&this.searchFilterInput.fromScheme||"",fromNotation:"",toScheme:this.searchFilterInput&&this.searchFilterInput.toScheme||"",toNotation:"",creator:"",direction:"",type:null,partOf:null},this.lockScheme[!0]||(this.searchFilterInput.fromScheme=""),this.lockScheme[!1]||(this.searchFilterInput.toScheme=""),this.searchFilterExtended=!1,this.searchResults={},this.searchClicked()},searchWithParams:function(e){var E=this;this.tab=this.tabIndexes.search,X.a.forOwn(e,(function(e,B){null!=e&&(E.searchFilterInput[B]=e)})),this.searchClicked()},searchClicked:function(){this.searchFilter=X.a.cloneDeep(this.searchFilterInput),this.search(null,1)},search:function(){var e=this,E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,B=arguments.length>1?arguments[1]:void 0;if(this.tab==this.tabIndexes.search){if(this.searchNeedsRefresh=[],this.searchFilter.partOf){var P,z=[],V=N(this.concordances.filter((function(E){return e.$jskos.compare(E,{uri:e.searchFilter.partOf})})));try{for(V.s();!(P=V.n()).done;){var U=P.value,H=X.a.get(U,"_registry.uri");H&&!z.includes(H)&&z.push(H)}}catch(e){V.e(e)}finally{V.f()}if(z.length>0){var W,G=N(z);try{for(G.s();!(W=G.n()).done;){var K=W.value;this.showRegistry[K]=!0}}catch(e){G.e(e)}finally{G.f()}}}var q,J=this.searchRegistries.filter((function(e){return null==E||e.uri==E})),Q=N(J);try{var h=function(){var E=q.value;e.searchCancelToken[E.uri]&&e.searchCancelToken[E.uri].cancel("There was a newer refresh operation.");var P=e.searchRepeatManagers[E.uri];if(P&&!P.isPaused&&P.stop(),!e.showRegistry[E.uri])return e.$delete(e.searchResults,E.uri),"continue";var z=e.generateCancelToken();e.searchCancelToken[E.uri]=z,e.$set(e.searchPages,E.uri,B),e.$set(e.searchLoading,E.uri,!0);var V=void 0===e.componentSettings.autoRefresh?e.config.autoRefresh.mappings:1e3*e.componentSettings.autoRefresh,a=function(){return e.getMappings({from:e.searchFilter.fromNotation,to:e.searchFilter.toNotation,fromScheme:e.getSchemeForFilter(e.searchFilter.fromScheme),toScheme:e.getSchemeForFilter(e.searchFilter.toScheme),creator:e.searchFilter.creator,type:e.searchFilter.type,direction:e.searchFilter.direction,partOf:e.searchFilter.partOf,registry:E.uri,offset:((e.searchPages[E.uri]||1)-1)*e.componentSettings.resultLimit,limit:e.componentSettings.resultLimit,cancelToken:z.token})},s=function(P){if(z==e.searchCancelToken[E.uri]){if(!P)return e.$set(e.registryHasErrored,E.uri,!0),e.searchResults[E.uri]&&!e.searchResults[E.uri].includes(null)||e.$set(e.searchResults,E.uri,[]),void e.$set(e.searchLoading,E.uri,!1);e.$set(e.registryHasErrored,E.uri,!1),B=B||e.searchPages[E.uri]||1,0==P.length&&B>1?e.search(E.uri,B-1):(e.$set(e.searchResults,E.uri,P),e.$set(e.searchLoading,E.uri,!1),e.$set(e.searchPages,E.uri,B))}};if(V){var U=e.repeat({function:function(){return a()},interval:V,callback:function(E,B){E&&e.$log.warn("Mapping Browser (Search): Error during refresh",E),s(B)}});e.$set(e.searchRepeatManagers,E.uri,U)}else a().then(s)};for(Q.s();!(q=Q.n()).done;)h()}catch(e){Q.e(e)}finally{Q.f()}var Y={};X.a.forOwn(this.searchFilter,(function(e,E){e&&(Y[E]=e)}));var Z=encodeURIComponent(JSON.stringify(Y));this.searchShareLinkPart="search=".concat(Z)}else this.searchNeedsRefresh.push({registryUri:E,page:B})},_navigatorRefresh:function(){var e=this;if(this.navigatorNeedsRefresh.length){var E;E=this.navigatorNeedsRefresh.includes(null)?null:X.a.uniq(this.navigatorNeedsRefresh),this.navigatorNeedsRefresh=[];var B={direction:"both",mode:"or",selected:this.selected},P=this.componentSettings.navigatorShowResultsForLeft?X.a.get(this,"selected.concept[true]"):null,z=this.componentSettings.navigatorShowResultsForRight?X.a.get(this,"selected.concept[false]"):null;if(P&&(B.from=P),z&&(B.to=z),P||z){E||(this.navigatorPages={});var V,U=N(this.navigatorRegistries);try{var s=function(){var P=V.value;if(E&&!E.includes(P.uri))return"continue";if(!e.showRegistry[P.uri])return e.$delete(e.navigatorResults,P.uri),"continue";var z=e.navigatorRepeatManagers[P.uri];z&&!z.isPaused&&z.stop(),e.navigatorCancelToken[P.uri]&&e.navigatorCancelToken[P.uri].cancel("There was a newer refresh operation.");var U=e.generateCancelToken();e.navigatorCancelToken[P.uri]=U,E||e.$set(e.navigatorResults,P.uri,[null]);var H=void 0===e.componentSettings.autoRefresh?e.config.autoRefresh.mappings:1e3*e.componentSettings.autoRefresh,c=function(){return e.getMappings(j(j({},B),{},{registry:P.uri,limit:e.$jskos.mappingRegistryIsStored(P)?100:e.componentSettings.resultLimit,cancelToken:U.token}))},l=function(E){if(U==e.navigatorCancelToken[P.uri]){if(!E)return e.$set(e.registryHasErrored,P.uri,!0),void(e.navigatorResults[P.uri]&&!e.navigatorResults[P.uri].includes(null)||e.$set(e.navigatorResults,P.uri,[]));e.$set(e.registryHasErrored,P.uri,!1),(E=E.sort((function(B,P){if(B._occurrence||P._occurrence)return X.a.get(P,"_occurrence.count",0)-X.a.get(B,"_occurrence.count",0);var z={a:10,b:10};return X.a.forOwn({a:B,b:P},(function(E,B){var P=e.$jskos.conceptsOfMapping(E,"from"),V=e.$jskos.conceptsOfMapping(E,"to"),U=e.$jskos.isContainedIn(e.selected.concept[!0],P),H=e.$jskos.isContainedIn(e.selected.concept[!1],V);if(!U||!H){z[B]-=1;var W=e.$jskos.isContainedIn(e.selected.concept[!0],V),G=e.$jskos.isContainedIn(e.selected.concept[!1],P);W&&G||(z[B]-=1,U||(z[B]-=4),H||(z[B]-=3),G||(z[B]-=2),W||(z[B]-=1))}})),z.b-z.a!=0?z.b-z.a:E.indexOf(B)-E.indexOf(P)})))._totalCount=void 0,e.componentSettings.showAllSchemes||(E=E.filter((function(E){if(e.selected.scheme[!0]&&e.selected.scheme[!1]){for(var B=!0,P=0,z=[E.fromScheme,E.toScheme];P<z.length;P++){for(var V=z[P],U=!1,H=0,W=[!0,!1];H<W.length;H++){var G=W[H];e.$jskos.compare(V,e.selected.scheme[G])&&(U=!0)}B=B&&U}return B}return!0}))),e.$set(e.navigatorResults,P.uri,E),e.navigatorPages[P.uri]>1&&E.length<(e.navigatorPages[P.uri]-1)*e.componentSettings.resultLimit+1&&e.$set(e.navigatorPages,P.uri,e.navigatorPages[P.uri]-1)}};if(H){var W=e.repeat({function:function(){return c()},interval:H,callback:function(E,B){E&&e.$log.warn("Mapping Browser (Navigator): Error during refresh",E),l(B)}});e.$set(e.navigatorRepeatManagers,P.uri,W)}else c().then(l)};for(U.s();!(V=U.n()).done;)s()}catch(e){U.e(e)}finally{U.f()}}else this.navigatorResults={}}},swapClicked:function(){this.lockScheme[!0]=!1,this.lockScheme[!1]=!1;var e=[this.searchFilterInput.toScheme,this.searchFilterInput.toNotation,this.searchFilterInput.fromScheme,this.searchFilterInput.fromNotation];this.searchFilterInput.fromScheme=e[0],this.searchFilterInput.fromNotation=e[1],this.searchFilterInput.toScheme=e[2],this.searchFilterInput.toNotation=e[3],this.searchClicked()},resultsToSections:function(e,E,B,P){var z,V=this,U=[],H=N(this.mappingRegistriesSorted.filter((function(E){return e[E.uri]})));try{for(H.s();!(z=H.n()).done;){var W=z.value,G={};G.registry=W,this.$jskos.compare(W,this.currentRegistry)&&(G._class="mappingBrowser-table-currentRegistrySection"),G.items=[],G.loading=B[W.uri],G.page=E[W.uri]||1;var K=e[W.uri]||[];if(G.totalCount=K._totalCount||K.length,1==K.length&&null==K[0]&&(G.loading=!0),0!=G.totalCount||this.componentSettings.showEmpty){K._url&&(G.url=K._url),this.mbLoadConcepts(X.a.flatten(K.map((function(e){return V.$jskos.conceptsOfMapping(e)}))));var q,J=0,Q=N(K);try{var h=function(){var E=q.value;if(!V.$jskos.mappingRegistryIsStored(W)){var B=e[V.currentRegistry.uri]||[],r=function(e){return e&&e.identifier.find((function(e){return e.startsWith("urn:jskos:mapping:members:")}))};if(B.find((function(e){return r(e)==r(E)})))return J+=1,"continue"}var z={mapping:E,registry:W};if(z.sourceScheme=X.a.get(E,"fromScheme")||void 0,z.targetScheme=X.a.get(E,"toScheme")||void 0,z.sourceConcepts=V.$jskos.conceptsOfMapping(E,"from").filter((function(e){return null!=e})),z.targetConcepts=V.$jskos.conceptsOfMapping(E,"to").filter((function(e){return null!=e})),z.sourceConceptsLong=z.sourceConcepts,z.targetConceptsLong=z.targetConcepts,X.a.get(E,"from")||0!=z.sourceConcepts.length||(z.sourceScheme=void 0),X.a.get(E,"to")||0!=z.targetConcepts.length||(z.targetScheme=void 0),z.sourceConcepts.length+z.targetConcepts.length==0)return J+=1,"continue";var U=V.$jskos.mappingMembersIdentifier({from:{memberSet:[V.selected.concept[!0]]},to:{memberSet:[V.selected.concept[!1]]}}),H=V.$jskos.mappingMembersIdentifier(V.$store.state.mapping.mapping),K=E.identifier.includes(U)||E.identifier.includes(H);z._rowClass="",K&&(z._rowClass="mappingBrowser-table-row-match");var Q=X.a.get(V.$store.state.mapping.original,"uri");Q&&E.uri==Q&&(z._rowClass="mappingBrowser-table-row-edited"),z.creator=E.creator&&E.creator[0]||"","object"===C(z.creator)&&(z.creator=V.$jskos.prefLabel(z.creator)),z.extra={date:E.modified||E.created},z.extra.date&&z.extra.date.length>10&&(z.extra.tooltip=z.extra.date,z.extra.date=z.extra.date.slice(0,10)),z.source=V.$jskos.prefLabel(W),z.sourceShort=V.$jskos.notation(W),z.type=V.$jskos.mappingTypeByType(E.type),z.occurrence=E._occurrence,z.uniqueId=V.hash(P+W.uri+JSON.stringify(X.a.omit(V.$jskos.copyDeep(E)))),V.$jskos.compare(z.registry,V.hoveredRegistry)&&(z._rowClass+=" mappingBrowser-hoveredRegistry"),G.items.push(z)};for(Q.s();!(q=Q.n()).done;)h()}catch(e){Q.e(e)}finally{Q.f()}void 0===K._totalCount&&(G.items=G.items.slice((G.page-1)*this.componentSettings.resultLimit,G.page*this.componentSettings.resultLimit)),G.totalCount-=J,U.push(G)}}}catch(e){H.e(e)}finally{H.f()}return U},mbLoadConcepts:function(e){var E,B=[],P=N(e);try{for(P.s();!(E=P.n()).done;){var z=E.value;z&&!this.$jskos.isContainedIn(z,this.loadingConcepts)&&this.getProvider(z)&&B.push(z)}}catch(e){P.e(e)}finally{P.f()}this.loadConcepts(B)},droppedConcept:function(e,E){var B=this;X.a.forOwn(E,(function(E,P){var z="";"scheme"==P?z=B.$jskos.isScheme(e)?X.a.get(e,"notation[0]"):X.a.get(e,"inScheme[0].notation[0]"):"concept"==P&&B.$jskos.isConcept(e)&&(z=X.a.get(e,"notation[0]")),z&&X.a.set(B,E,z)}))},changePage:function(e,E){var B=this,P=E.registry,z=E.page,V=E.userInitiated,U=this["".concat(e,"Pages")][P.uri];V?(this.$set(this["".concat(e,"Pages")],P.uri,z),"search"==e&&this.search(P.uri,z)):z!=U&&(this.$set(this["".concat(e,"Pages")],P.uri,z),this.$nextTick((function(){B.$set(B["".concat(e,"Pages")],P.uri,U)})))}}},se=(B("c98c"),B("c444"),B("2877")),ce=Object(se.a)(ae,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("div",{attrs:{id:"mappingBrowser"}},[B("component-settings",{attrs:{tooltip:e.$t("mappingBrowser.settingsButton")}}),B("tabs",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},attrs:{fill:""},model:{value:e.tab,callback:function(E){e.tab=E},expression:"tab"}},[e.concordancesShown?B("tab",{attrs:{title:e.$t("mappingBrowser.concordances")},on:{click:e.handleClick}},[e.concordances&&e.concordances.length?[B("div",{staticStyle:{display:"flex",padding:"0px 4px"}},e._l(e.concordanceTableFields,(function(E){return B("div",{key:E.key,style:"padding: 0px 10px 0px 0px; flex: 0 0 "+E.width},["from"==E.key?B("b-input",{staticStyle:{width:"55%",display:"inline-block"},attrs:{type:"text",size:"sm",placeholder:e.$t("mappingBrowser.from")},model:{value:e.concordanceFilter.from,callback:function(E){e.$set(e.concordanceFilter,"from",E)},expression:"concordanceFilter.from"}}):e._e(),"to"==E.key?B("b-input",{staticStyle:{width:"75%",display:"inline-block"},attrs:{type:"text",size:"sm",placeholder:e.$t("mappingBrowser.to")},model:{value:e.concordanceFilter.to,callback:function(E){e.$set(e.concordanceFilter,"to",E)},expression:"concordanceFilter.to"}}):e._e(),"creator"==E.key?B("b-input",{staticStyle:{width:"80%",display:"inline-block"},attrs:{type:"text",size:"sm",placeholder:e.$t("mappingBrowser.creator")},model:{value:e.concordanceFilter.creator,callback:function(E){e.$set(e.concordanceFilter,"creator",E)},expression:"concordanceFilter.creator"}}):e._e(),null!=e.concordanceFilter[E.key]?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:"clear filter",delay:e.defaults.delay.medium},expression:"{ title: 'clear filter', delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button mappingBrowser-from650",attrs:{icon:"times"},on:{click:function(B){e.concordanceFilter[E.key]=""}}},[e._v(" x ")]):e._e(),"from"==E.key?B("b-button",{staticClass:"mappingBrowser-from750",staticStyle:{"padding-right":"0","margin-right":"-5px"},attrs:{variant:"link",size:"sm",tabindex:"-1"},on:{click:function(E){var B;B=[e.concordanceFilter.to,e.concordanceFilter.from],e.concordanceFilter.from=B[0],e.concordanceFilter.to=B[1]}}},[B("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1):e._e()],1)})),0),B("div",{staticStyle:{flex:"1",height:"0",position:"relative"}},[B("flexible-table",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},attrs:{fields:e.concordanceTableFields,items:e.concordanceTableItems},scopedSlots:e._u([{key:"download",fn:function(E){var P=E.value;return B("span",{},e._l(P,(function(E,P){return B("span",{key:P},[e.nameOfDistribution(E)?B("a",{attrs:{href:E.download}},[e._v(" "+e._s(e.nameOfDistribution(E))+" ")]):e._e()])})),0)}},{key:"mappings",fn:function(E){var P=E.value;return B("span",{},[e._v(" "+e._s((parseInt(P)||"?").toLocaleString())+" ")])}},{key:"actions",fn:function(E){var P=E.item;return B("span",{},[B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.showMappings"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.showMappings'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",attrs:{icon:"external-link-square-alt"},on:{click:function(E){return e.showMappingsForConcordance(P.concordance)}}})],1)}},{key:"from",fn:function(e){var E=e.value;return B("span",{},[B("item-name",{attrs:{item:E,"show-text":!1,"is-link":!0===E.__SAVED__,"is-left":!0,"font-size":"sm"}})],1)}},{key:"to",fn:function(e){var E=e.value;return B("span",{},[B("item-name",{attrs:{item:E,"show-text":!1,"is-link":E.__SAVED__,"is-left":!1,"font-size":"sm"}})],1)}}],null,!1,775637004)})],1),B("div",{staticStyle:{display:"flex"}},[B("p",{staticStyle:{"font-weight":"bold",flex:"1","padding-left":"5px"}},[e._v(" "+e._s(e.concordanceTableItems.length)+" "+e._s(e.$t("mappingBrowser.concordances"))+" ")]),B("p",{staticStyle:{"text-align":"right","font-weight":"bold","padding-right":"45px"}},[e._v(" "+e._s(e.$t("mappingBrowser.total"))+": "+e._s(e.concordanceTableItems.reduce((function(e,E){return e+parseInt(E.mappings)||0}),0).toLocaleString())+" "+e._s(e.$t("general.of"))+" "+e._s(e.totalNumberOfMappings&&e.totalNumberOfMappings.toLocaleString()||"?")+" ")]),e.concordances&&e.concordances.length>0?B("data-modal-button",{attrs:{data:e.concordances,"position-right":20,url:e.concordanceUrls,type:"concordance"}}):e._e()],1)]:e._e()],2):e._e(),B("tab",{attrs:{title:e.$t("mappingBrowser.mappingSearch")},on:{click:e.handleClick}},[B("div",{staticStyle:{flex:"none",padding:"0px 4px"}},[B("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[B("b-input",{staticStyle:{flex:"1",margin:"3px","min-width":"40px"},attrs:{state:""==e.searchFilterInput.fromScheme?null:null!=e.searchFromScheme,size:"sm",placeholder:e.$t("mappingBrowser.searchSourceScheme")},on:{drop:function(E){!e.lockScheme[!0]&&e.drop(E,{scheme:"searchFilterInput.fromScheme",concept:"searchFilterInput.fromNotation"})}},nativeOn:{keyup:[function(E){e.lockScheme[!0]=!1},function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}]},model:{value:e.searchFilterInput.fromScheme,callback:function(E){e.$set(e.searchFilterInput,"fromScheme",E)},expression:"searchFilterInput.fromScheme"}}),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.lockScheme[!0]?e.$t("mappingBrowser.unlockScheme"):e.$t("mappingBrowser.lockScheme"),expression:"lockScheme[true] ? $t('mappingBrowser.unlockScheme') : $t('mappingBrowser.lockScheme')"}],staticClass:"button",staticStyle:{flex:"none","font-size":"12px",margin:"auto 8px auto 2px"},on:{click:function(E){e.lockScheme[!0]=!e.lockScheme[!0]}}},[B("font-awesome-icon",{attrs:{icon:e.lockScheme[!0]?"lock":"lock-open"}})],1),B("b-input",{staticStyle:{flex:"2",margin:"3px","min-width":"60px"},attrs:{size:"sm",placeholder:e.$t("mappingBrowser.searchSourceNotation")},on:{drop:function(E){return e.drop(E,{scheme:e.lockScheme[!0]?null:"searchFilterInput.fromScheme",concept:"searchFilterInput.fromNotation"})}},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.fromNotation,callback:function(E){e.$set(e.searchFilterInput,"fromNotation",E)},expression:"searchFilterInput.fromNotation"}}),B("div",{staticClass:"button",staticStyle:{flex:"none","font-size":"16px",margin:"auto 5px"},on:{click:e.swapClicked}},[B("font-awesome-icon",{attrs:{icon:"exchange-alt"}})],1),B("b-input",{staticStyle:{flex:"1",margin:"3px","min-width":"40px"},attrs:{state:""==e.searchFilterInput.toScheme?null:null!=e.searchToScheme,size:"sm",placeholder:e.$t("mappingBrowser.searchTargetScheme")},on:{drop:function(E){!e.lockScheme[!1]&&e.drop(E,{scheme:"searchFilterInput.toScheme",concept:"searchFilterInput.toNotation"})}},nativeOn:{keyup:[function(E){e.lockScheme[!1]=!1},function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}]},model:{value:e.searchFilterInput.toScheme,callback:function(E){e.$set(e.searchFilterInput,"toScheme",E)},expression:"searchFilterInput.toScheme"}}),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.lockScheme[!1]?e.$t("mappingBrowser.unlockScheme"):e.$t("mappingBrowser.lockScheme"),expression:"lockScheme[false] ? $t('mappingBrowser.unlockScheme') : $t('mappingBrowser.lockScheme')"}],staticClass:"button",staticStyle:{flex:"none","font-size":"12px",margin:"auto 8px auto 2px"},on:{click:function(E){e.lockScheme[!1]=!e.lockScheme[!1]}}},[B("font-awesome-icon",{attrs:{icon:e.lockScheme[!1]?"lock":"lock-open"}})],1),B("b-input",{staticStyle:{flex:"2",margin:"3px","min-width":"60px"},attrs:{size:"sm",placeholder:e.$t("mappingBrowser.searchTargetNotation")},on:{drop:function(E){return e.drop(E,{scheme:e.lockScheme[!1]?null:"searchFilterInput.toScheme",concept:"searchFilterInput.toNotation"})}},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.toNotation,callback:function(E){e.$set(e.searchFilterInput,"toNotation",E)},expression:"searchFilterInput.toNotation"}}),B("b-button",{staticStyle:{flex:"none",margin:"3px"},attrs:{variant:"primary",size:"sm"},on:{click:e.searchClicked}},[B("font-awesome-icon",{attrs:{icon:"search"}}),e._v(e._s(e.$t("mappingBrowser.searchSubmit"))+" ")],1),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:{title:e.$t("mappingBrowser."+(e.searchFilterExtended?"searchCollapse":"searchExtend")),placement:e.searchFilterExtended?"left":"bottom"},expression:"{\n              title: $t(`mappingBrowser.${searchFilterExtended ? 'searchCollapse' : 'searchExtend'}`),\n              placement: searchFilterExtended ? 'left' : 'bottom',\n            }"}],staticClass:"button fontSize-large",staticStyle:{flex:"none",margin:"3px",position:"relative",width:"20px"},on:{click:function(E){e.searchFilterExtended=!e.searchFilterExtended}}},[e.searchFilterExtended?B("font-awesome-icon",{staticStyle:{"vertical-align":"-0.3em"},attrs:{icon:"chevron-up"}}):B("font-awesome-icon",{staticStyle:{"vertical-align":"-0.3em"},attrs:{icon:"filter"}}),!e.searchFilterExtended&&(e.searchFilterInput.creator||e.searchFilterInput.type||e.searchFilterInput.partOf)?B("span",{staticClass:"text-success",staticStyle:{position:"absolute",top:"-9px",right:"-3px"}},[e._v(" • ")]):e._e()],1),e.searchFilterExtended?[B("div",{staticStyle:{"flex-basis":"100%",height:"0"}}),B("div",{staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.creator"))+": ")]),B("div",{staticStyle:{flex:"2",margin:"3px",display:"flex","align-items":"center"}},[B("b-input",{attrs:{size:"sm",placeholder:e.$t("mappingBrowser.creator")},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.creator,callback:function(E){e.$set(e.searchFilterInput,"creator",E)},expression:"searchFilterInput.creator"}}),e.authorized&&e.searchFilterInput.creator!=e.userUris.join("|")?B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.searchInsertSelfIntoCreator"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.searchInsertSelfIntoCreator'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticClass:"button",staticStyle:{"margin-left":"2px"},on:{click:function(E){e.searchFilterInput.creator=e.userUris.join("|")}}},[B("font-awesome-icon",{attrs:{icon:"user"}})],1):e._e()],1),B("div",{staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.searchType"))+": ")]),B("b-select",{staticStyle:{flex:"3",margin:"3px"},attrs:{size:"sm",options:e.typeOptions},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.type,callback:function(E){e.$set(e.searchFilterInput,"type",E)},expression:"searchFilterInput.type"}}),B("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$t("mappingBrowser.searchBidirectionalTooltip"),delay:e.defaults.delay.medium},expression:"{ title: $t('mappingBrowser.searchBidirectionalTooltip'), delay: defaults.delay.medium }",modifiers:{hover:!0}}],staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.searchBidirectional"))+": "),B("b-form-checkbox",{staticStyle:{display:"inline-block"},attrs:{size:"sm",value:"both","unchecked-value":""},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.direction,callback:function(E){e.$set(e.searchFilterInput,"direction",E)},expression:"searchFilterInput.direction"}})],1),B("div",{staticStyle:{"flex-basis":"100%",height:"0"}}),B("div",{staticStyle:{"text-align":"right",flex:"none",margin:"auto 5px"}},[e._v(" "+e._s(e.$t("mappingBrowser.concordance"))+": ")]),B("b-form-select",{staticStyle:{flex:"2",margin:"3px"},attrs:{size:"sm",options:e.concordanceOptions},nativeOn:{keyup:function(E){return!E.type.indexOf("key")&&e._k(E.keyCode,"enter",13,E.key,"Enter")?null:e.searchClicked.apply(null,arguments)}},model:{value:e.searchFilterInput.partOf,callback:function(E){e.$set(e.searchFilterInput,"partOf",E)},expression:"searchFilterInput.partOf"}}),e._l(e.searchRegistries,(function(E){return B("registry-notation",{key:E.uri,staticClass:"mappingBrowser-search-registryNotation",class:{pointer:!e.$jskos.compare(E,e.currentRegistry)},attrs:{registry:E,disabled:!e.showRegistry[E.uri]},nativeOn:{click:function(B){e.showRegistry[E.uri]=!e.showRegistry[E.uri]},mouseover:function(B){e.hoveredRegistry=E},mouseout:function(E){e.hoveredRegistry=null}}})})),B("b-button",{staticStyle:{flex:"none",margin:"3px"},attrs:{variant:"danger",size:"sm"},on:{click:e.clearSearchFilter}},[B("font-awesome-icon",{attrs:{icon:"ban"}}),e._v(" "+e._s(e.$t("mappingBrowser.searchClear"))+" ")],1)]:e._e()],2)]),e.searchSections.length?B("mapping-browser-table",{staticClass:"mappingBrowser-search-table",attrs:{sections:e.searchSections,"search-limit":e.componentSettings.resultLimit,"show-editing-tools":e.showEditingTools,"show-cocoda-link":e.showCocodaLink,"registry-has-errored":e.registryHasErrored},on:{pageChange:function(E){return e.changePage("search",E)}}}):B("div",{staticClass:"fontWeight-heavy",staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v(" "+e._s(e.$t("search.noResults"))+" ")]),B("div",{staticClass:"button",attrs:{id:"mappingBrowser-search-shareButton"}},[B("font-awesome-icon",{attrs:{icon:"share-alt-square"}}),e._v(" "+e._s(e.$t("mappingBrowser.searchShareLabel"))+" ")],1),B("b-popover",{attrs:{show:e.searchShareShow,target:"mappingBrowser-search-shareButton",triggers:"click",placement:"bottomleft"},on:{"update:show":function(E){e.searchShareShow=E}}},[B("div",{ref:"searchSharePopover"},[B("p",[B("b",[e._v(e._s(e.$t("mappingBrowser.searchShareTitle")))])]),B("p",{staticStyle:{"user-select":"none"}},[B("b-form-checkbox",{model:{value:e.searchShareIncludeSelected,callback:function(E){e.searchShareIncludeSelected=E},expression:"searchShareIncludeSelected"}},[e._v(" "+e._s(e.$t("mappingBrowser.searchShareInclude"))+" ")])],1),B("p",{attrs:{id:"mappingBrowser-search-shareLinkInput"}},[B("pre",[B("code",[e._v(e._s(e.searchShareLink))])])]),B("p",{staticStyle:{"text-align":"right"}},[B("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(E){return e.copyToClipboard("mappingBrowser-search-shareLinkInput")}}},[e._v(" "+e._s(e.$t("mappingBrowser.searchShareCopy"))+" ")])],1)])])],1),e.showNavigator?B("tab",{attrs:{title:e.$t("mappingBrowser.mappingNavigator")},on:{click:e.handleClick}},[B("div",{directives:[{name:"show",rawName:"v-show",value:!e.selected.concept[!0]&&!e.selected.concept[!1],expression:"!selected.concept[true] && !selected.concept[false]"}],staticClass:"noItems fontWeight-heavy"},[e._v(" "+e._s(e.$t("mappingBrowser.chooseConcept"))+" ")]),e.selected.concept[!0]||e.selected.concept[!1]?B("div",{staticClass:"mappingBrowser-navigator-results"},e._l(e.registryGroups,(function(E){return B("div",{key:"mappingBrowser-registryGroup-"+E.stored,staticClass:"mappingBrowser-registryGroup"},[B("div",{staticClass:"mappingBrowser-registryGroup-header"},[B("span",{staticClass:"mappingBrowser-registryGroup-title fontWeight-heavy",attrs:{id:"registryGroup-"+E.stored}},[e._v(" "+e._s(E.label)+" ")]),B("span",{staticStyle:{"white-space":"nowrap",float:"right"}},e._l(E.registries.filter((function(E){return e.$jskos.isContainedIn(E,e.navigatorRegistries)})),(function(E){return B("registry-notation",{key:E.uri,staticClass:"mappingBrowser-registryGroup-notation",class:{pointer:!e.$jskos.compare(E,e.currentRegistry)},attrs:{registry:E,disabled:!e.showRegistry[E.uri]},nativeOn:{click:function(B){e.showRegistry[E.uri]=!e.showRegistry[E.uri]},mouseover:function(B){e.hoveredRegistry=E},mouseout:function(E){e.hoveredRegistry=null}}})})),1)]),(E.stored?e.navigatorSectionsDatabases:e.navigatorSectionsRecommendations).length?B("mapping-browser-table",{attrs:{sections:E.stored?e.navigatorSectionsDatabases:e.navigatorSectionsRecommendations,"search-limit":e.componentSettings.resultLimit,"registry-has-errored":e.registryHasErrored},on:{pageChange:function(E){return e.changePage("navigator",E)}}}):e.selected.concept[!0]||e.selected.concept[!1]?B("div",{staticClass:"fontWeight-heavy",staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v(" "+e._s(e.$t("search.noResults"))+" ")]):e._e()],1)})),0):e._e()]):e._e()],1)],1)}),[],!1,null,"7b23d511",null);E.default=ce.exports},f104:function(e,E,B){e.exports={description:"Component that displays a scheme's details (URI, notation, identifier, ...).",tags:{},exportName:"default",displayName:"SchemeDetail",props:[{name:"isLeft",description:"Tells the component on which side of the application it is.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"item",description:"The scheme object whose details should be displayed.",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"settings",description:"Settings - see [`ItemDetail`](#itemdetail).",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:{searchMappings:{name:"searchMappings"}},methods:void 0,slots:void 0,examples:null}},f1ce:function(e,E,B){"use strict";B.r(E);var P=B("68bc"),z=B("aedf"),V=B("d465"),U=B("2ef0"),H=B.n(U);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,E){var B;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(B=function d(e,E){if(e){if("string"==typeof e)return f(e,E);var B=Object.prototype.toString.call(e).slice(8,-1);return"Object"===B&&e.constructor&&(B=e.constructor.name),"Map"===B||"Set"===B?Array.from(e):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?f(e,E):void 0}}(e))||E&&e&&"number"==typeof e.length){B&&(e=B);var P=0,r=function(){};return{s:r,n:function(){return P>=e.length?{done:!0}:{done:!1,value:e[P++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,V=!0,U=!1;return{s:function(){B=e[Symbol.iterator]()},n:function(){var e=B.next();return V=e.done,e},e:function(e){U=!0,z=e},f:function(){try{V||null==B.return||B.return()}finally{if(U)throw z}}}}function f(e,E){(null==E||E>e.length)&&(E=e.length);for(var B=0,P=new Array(E);B<E;B++)P[B]=e[B];return P}var W={name:"MappingTable",components:{ItemName:P.default,FlexibleTable:z.a,RegistryNotation:V.default},props:{mappings:{type:Array,default:function(){return[]}},hideDuplicates:{type:Boolean,default:!0},actions:{type:Array,default:function(){return[]}},showLabels:{type:Boolean,default:!1},showRegistry:{type:Boolean,default:!1}},data:function(){return{}},computed:{fields:function(){var e=this,E=[{key:"sourceScheme",label:"",width:"8%",minWidth:"",sortable:!1},{key:"sourceConcepts",label:this.$t("mappingBrowser.from"),width:"19%",minWidth:"",sortable:!1,compare:function(E,B){return e.$jskos.compareFunctions.mappingsByConcepts(E.mapping,B.mapping,"from")}},{key:"type",label:"",width:"7%",minWidth:"",sortable:!1,compare:function(E,B){var P=e.$jskos.prefLabel(H.a.get(E,"type"),{fallbackToUri:!1}),z=e.$jskos.prefLabel(H.a.get(B,"type"),{fallbackToUri:!1});return P<z?-1:P>z?1:0}},{key:"targetScheme",label:"",width:"8%",minWidth:"",sortable:!1},{key:"targetConcepts",label:this.$t("mappingBrowser.to"),width:"19%",minWidth:"",sortable:!1,compare:function(E,B){return e.$jskos.compareFunctions.mappingsByConcepts(E.mapping,B.mapping,"to")}},{key:"creator",label:this.$t("mappingBrowser.creator"),width:"15%",minWidth:"",sortable:!1},{key:"date",label:this.$t("mappingBrowser.date"),width:"12%",minWidth:"",sortable:!1},{key:"actions",label:"",width:"7%",minWidth:"",sortable:!1}];return this.showRegistry&&(E=[{key:"registry",label:"",width:"5%",minWidth:"",sortable:!1}].concat(E)),E},items:function(){var e,E=[],B=[],P=p(this.mappings);try{for(P.s();!(e=P.n()).done;){var z=e.value,V=z.identifier?z.identifier.find((function(e){return e.startsWith("urn:jskos:mapping:content:")})):null;if(!this.hideDuplicates||!V||!B.includes(V)){var U={};U.mapping=z,this.showRegistry&&(U.registry=z._registry),U.sourceScheme=this.$jskos.notation(z.fromScheme),U.targetScheme=this.$jskos.notation(z.toScheme),U.sourceConcepts=z.from.memberSet||z.from.memberChoice,U.targetConcepts=z.to.memberSet||z.to.memberChoice,U.creator=z.creator&&z.creator[0]||"?","object"===u(U.creator)&&(U.creator=this.$jskos.prefLabel(U.creator)),U.type=this.$jskos.mappingTypeByType(z.type),U.date=z.modified||z.created,U.date=U.date&&U.date.slice(0,10),E.push(U),B.push(V)}}}catch(e){P.e(e)}finally{P.f()}return E}},watch:{},methods:{}},G=(B("f82e"),B("2877")),K=Object(G.a)(W,(function(){var e=this,E=e.$createElement,B=e._self._c||E;return B("flexible-table",{attrs:{items:e.items,fields:e.fields},scopedSlots:e._u([{key:"registry",fn:function(e){var E=e.value;return B("span",{},[B("registry-notation",{attrs:{registry:E,tooltip:!1}})],1)}},{key:"sourceConcepts",fn:function(E){var P=E.value;return B("span",{},e._l(P,(function(E){return B("item-name",{key:E.uri,attrs:{item:E,"show-text":e.showLabels,"is-link":!1,"is-highlighted":!1},nativeOn:{mouseover:function(e){return function(){return null}.apply(null,arguments)},click:function(e){return function(){return null}.apply(null,arguments)}}})})),1)}},{key:"targetConcepts",fn:function(E){var P=E.value;return B("span",{},e._l(P,(function(E){return B("span",{key:E.uri},[B("item-name",{attrs:{item:E,"show-text":e.showLabels,"is-link":!1,"is-highlighted":!1},nativeOn:{mouseover:function(e){return function(){return null}.apply(null,arguments)},click:function(e){return function(){return null}.apply(null,arguments)}}}),B("br")],1)})),0)}},{key:"type",fn:function(E){var P=E.value;return B("span",{},[null!=P?B("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.$jskos.prefLabel(P),delay:e.defaults.delay.medium},expression:"{ title: $jskos.prefLabel(value), delay: defaults.delay.medium }",modifiers:{hover:!0}}]},[e._v(" "+e._s(e.$jskos.notation(P))+" ")]):e._e()])}},{key:"actions",fn:function(E){return B("span",{},e._l(e.actions,(function(P,z){return B("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:P.title,delay:e.defaults.delay.medium,placement:"left"},expression:"{ title: action.title, delay: defaults.delay.medium, placement: 'left' }",modifiers:{hover:!0}}],key:z,staticClass:"button",attrs:{icon:P.icon},on:{click:function(B){return e.$emit("click",{name:P.name,item:E.item})}}})})),1)}}])},[B("span",{attrs:{slot:"HEAD_actions"},slot:"HEAD_actions"})])}),[],!1,null,"5f5cce56",null);E.default=K.exports},f232:function(e,E,B){e.exports={exportName:"default",displayName:"MappingBrowser",description:"Mixin for some computed values from Vuex store.",tags:{},props:[{name:"showCocodaLink",description:"If true, a link to Cocoda for mappings will be shown (gets relayed to MappingBrowserTable).",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showEditingTools",description:"If false, no editing tools will be shown (gets relayed to MappingBrowserTable).",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showNavigator",description:"If false, the Mapping Navigator will be hidden.",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},f4f5:function(e,E,B){e.exports={displayName:"AutoLink",description:"Represents an element that automatically converts a valid URL into a link.",tags:{},exportName:"default",props:[{name:"link",description:"The string that is potentially a URL.",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"text",description:"The text that is shown (defaults to URL).",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:void 0,methods:void 0,slots:void 0,examples:null}},f696:function(e,E,B){"use strict";B("65b7")},f82e:function(e,E,B){"use strict";B("3176")},fb8a:function(e,E,B){"use strict";B("5d13")},fc0e:function(e,E,B){}});